(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n("mrSG"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:o,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService({instanceIdentifier:i});if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.e)(s.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=o),this.instances.has(t)},t.prototype.initialize=function(t){void 0===t&&(t={});var e=t.instanceIdentifier,n=t.options,r=void 0===n?{}:n,i=this.normalizeInstanceIdentifier(void 0===e?o:e);if(this.isInitialized(i))throw Error(this.name+"("+i+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");return this.getOrInitializeService({instanceIdentifier:i,options:r})},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,s=this.instances.get(n);return!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===o?void 0:e),options:i}),this.instances.set(n,s)),s||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7Hc7":function(t,e,n){"use strict";n.d(e,"b",function(){return d}),n.d(e,"a",function(){return f});let r=1;const i=(()=>Promise.resolve())(),s={};function o(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=r++;return s[e]=!0,i.then(()=>o(e)&&t()),e},clearImmediate(t){o(t)}};var u=n("3N8a");class c extends u.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var l=n("IjjT");class h extends l.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new h(c),f=d},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return s});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),s=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u});var r=n("XNiG"),i=n("HDdC"),s=(n("7o/Q"),n("quSY")),o=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return Object(o.a)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("mCNh"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:Object(a.b)(t)(this)}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.3.1","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("EY2u"),i=n("LRne"),s=n("z6cu");let o=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(r.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return on}),n.d(e,"b",function(){return Pu}),n.d(e,"c",function(){return Ru}),n.d(e,"d",function(){return Tu}),n.d(e,"e",function(){return Iu}),n.d(e,"f",function(){return Tc}),n.d(e,"g",function(){return _c}),n.d(e,"h",function(){return Oa}),n.d(e,"i",function(){return Wu}),n.d(e,"j",function(){return $o}),n.d(e,"k",function(){return Bu}),n.d(e,"l",function(){return Jo}),n.d(e,"m",function(){return _r}),n.d(e,"n",function(){return lu}),n.d(e,"o",function(){return us}),n.d(e,"p",function(){return Dn}),n.d(e,"q",function(){return k}),n.d(e,"r",function(){return sn}),n.d(e,"s",function(){return Ss}),n.d(e,"t",function(){return ya}),n.d(e,"u",function(){return _a}),n.d(e,"v",function(){return Vu}),n.d(e,"w",function(){return Ma}),n.d(e,"x",function(){return Cc}),n.d(e,"y",function(){return Fa}),n.d(e,"z",function(){return mc}),n.d(e,"A",function(){return Zu}),n.d(e,"B",function(){return An}),n.d(e,"C",function(){return Mu}),n.d(e,"D",function(){return Fu}),n.d(e,"E",function(){return du}),n.d(e,"F",function(){return na}),n.d(e,"G",function(){return ea}),n.d(e,"H",function(){return Sr}),n.d(e,"I",function(){return ia}),n.d(e,"J",function(){return mr}),n.d(e,"K",function(){return kn}),n.d(e,"L",function(){return Oc}),n.d(e,"M",function(){return Ia}),n.d(e,"N",function(){return ic}),n.d(e,"O",function(){return an}),n.d(e,"P",function(){return oa}),n.d(e,"Q",function(){return sa}),n.d(e,"R",function(){return La}),n.d(e,"S",function(){return F}),n.d(e,"T",function(){return gc}),n.d(e,"U",function(){return fc}),n.d(e,"V",function(){return f}),n.d(e,"W",function(){return Sn}),n.d(e,"X",function(){return dc}),n.d(e,"Y",function(){return Ac}),n.d(e,"Z",function(){return ac}),n.d(e,"ab",function(){return Lu}),n.d(e,"bb",function(){return ls}),n.d(e,"cb",function(){return Fo}),n.d(e,"db",function(){return fr}),n.d(e,"eb",function(){return Yn}),n.d(e,"fb",function(){return Vn}),n.d(e,"gb",function(){return Un}),n.d(e,"hb",function(){return Hn}),n.d(e,"ib",function(){return zn}),n.d(e,"jb",function(){return qn}),n.d(e,"kb",function(){return Qn}),n.d(e,"lb",function(){return Io}),n.d(e,"mb",function(){return Dc}),n.d(e,"nb",function(){return Ro}),n.d(e,"ob",function(){return No}),n.d(e,"pb",function(){return Bn}),n.d(e,"qb",function(){return B}),n.d(e,"rb",function(){return js}),n.d(e,"sb",function(){return to}),n.d(e,"tb",function(){return Xs}),n.d(e,"ub",function(){return Js}),n.d(e,"vb",function(){return To}),n.d(e,"wb",function(){return Ot}),n.d(e,"xb",function(){return l}),n.d(e,"yb",function(){return Ln}),n.d(e,"zb",function(){return xs}),n.d(e,"Ab",function(){return vt}),n.d(e,"Bb",function(){return Go}),n.d(e,"Cb",function(){return hi}),n.d(e,"Db",function(){return Vs}),n.d(e,"Eb",function(){return mo}),n.d(e,"Fb",function(){return Su}),n.d(e,"Gb",function(){return X}),n.d(e,"Hb",function(){return st}),n.d(e,"Ib",function(){return _}),n.d(e,"Jb",function(){return w}),n.d(e,"Kb",function(){return nt}),n.d(e,"Lb",function(){return ot}),n.d(e,"Mb",function(){return zs}),n.d(e,"Nb",function(){return Ws}),n.d(e,"Ob",function(){return Ys}),n.d(e,"Pb",function(){return $s}),n.d(e,"Qb",function(){return Ks}),n.d(e,"Rb",function(){return Gs}),n.d(e,"Sb",function(){return Zs}),n.d(e,"Tb",function(){return Je}),n.d(e,"Ub",function(){return Oo}),n.d(e,"Vb",function(){return En}),n.d(e,"Wb",function(){return en}),n.d(e,"Xb",function(){return ku}),n.d(e,"Yb",function(){return eo}),n.d(e,"Zb",function(){return Ou}),n.d(e,"ac",function(){return oo}),n.d(e,"bc",function(){return su}),n.d(e,"cc",function(){return ou}),n.d(e,"dc",function(){return au}),n.d(e,"ec",function(){return co}),n.d(e,"fc",function(){return uo}),n.d(e,"gc",function(){return Qs}),n.d(e,"hc",function(){return lo}),n.d(e,"ic",function(){return Ja}),n.d(e,"jc",function(){return tu}),n.d(e,"kc",function(){return eu}),n.d(e,"lc",function(){return Cu}),n.d(e,"mc",function(){return qs}),n.d(e,"nc",function(){return Qt}),n.d(e,"oc",function(){return gr}),n.d(e,"pc",function(){return rt}),n.d(e,"qc",function(){return po}),n.d(e,"rc",function(){return no}),n.d(e,"sc",function(){return xo}),n.d(e,"tc",function(){return Us}),n.d(e,"uc",function(){return wo}),n.d(e,"vc",function(){return Co}),n.d(e,"wc",function(){return Eo}),n.d(e,"xc",function(){return So}),n.d(e,"yc",function(){return Eu});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("w1tV");function u(t){for(let e in t)if(t[e]===u)return e;throw Error("Could not find renamed property on target object.")}function c(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function l(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(l).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d=u({__forward_ref__:u});function f(t){return t.__forward_ref__=f,t.toString=function(){return l(this())},t}function p(t){return m(t)?t():t}function m(t){return"function"==typeof t&&t.hasOwnProperty(d)&&t.__forward_ref__===f}class g extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function b(t){return"string"==typeof t?t:null==t?"":String(t)}function y(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():b(t)}function v(t,e){const n=e?` in ${e}`:"";throw new g("201",`No provider for ${y(t)} found${n}`)}function _(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function w(t){return{providers:t.providers||[],imports:t.imports||[]}}function C(t){return E(t,O)||E(t,D)}function E(t,e){return t.hasOwnProperty(e)?t[e]:null}function S(t){return t&&(t.hasOwnProperty(x)||t.hasOwnProperty(A))?t[x]:null}const O=u({"\u0275prov":u}),x=u({"\u0275inj":u}),D=u({ngInjectableDef:u}),A=u({ngInjectorDef:u});var k=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let T;function I(t){const e=T;return T=t,e}function R(t,e,n){const r=C(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&k.Optional?null:void 0!==e?e:void v(l(t),"Injector")}function N(t){return{toString:t}.toString()}var j=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),F=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const M="undefined"!=typeof globalThis&&globalThis,P="undefined"!=typeof window&&window,L="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,V="undefined"!=typeof global&&global,B=M||V||P||L,U={},q=[],z=[],Q=u({"\u0275cmp":u}),H=u({"\u0275dir":u}),G=u({"\u0275pipe":u}),K=u({"\u0275mod":u}),W=u({"\u0275loc":u}),$=u({"\u0275fac":u}),Y=u({__NG_ELEMENT_ID__:u});let Z=0;function X(t){return N(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===j.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||z,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||F.Emulated,id:"c",styles:t.styles||z,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=Z++,n.inputs=it(t.inputs,e),n.outputs=it(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(J):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(tt):null,n})}function J(t){return at(t)||function(t){return t[H]||null}(t)}function tt(t){return function(t){return t[G]||null}(t)}const et={};function nt(t){const e={type:t.type,bootstrap:t.bootstrap||z,declarations:t.declarations||z,imports:t.imports||z,exports:t.exports||z,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&N(()=>{et[t.id]=t.type}),e}function rt(t,e){return N(()=>{const n=ut(t,!0);n.declarations=e.declarations||z,n.imports=e.imports||z,n.exports=e.exports||z})}function it(t,e){if(null==t)return U;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const st=X;function ot(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function at(t){return t[Q]||null}function ut(t,e){const n=t[K]||null;if(!n&&!0===e)throw new Error(`Type ${l(t)} does not have '\u0275mod' property.`);return n}const ct=20,lt=10;function ht(t){return Array.isArray(t)&&"object"==typeof t[1]}function dt(t){return Array.isArray(t)&&!0===t[1]}function ft(t){return 0!=(8&t.flags)}function pt(t){return 2==(2&t.flags)}function mt(t){return 1==(1&t.flags)}function gt(t){return null!==t.template}function bt(t,e){return t.hasOwnProperty($)?t[$]:null}class yt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function vt(){return _t}function _t(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ct),wt}function wt(){const t=Et(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===U)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Ct(t,e,n,r){const i=Et(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:U,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new yt(u&&u.currentValue,e,o===U),t[r]=e}function Et(t){return t.__ngSimpleChanges__||null}let St;function Ot(t){St=t}function xt(t){return!!t.listen}vt.ngInherit=!0;const Dt={createRenderer:(t,e)=>void 0!==St?St:"undefined"!=typeof document?document:void 0};function At(t){for(;Array.isArray(t);)t=t[0];return t}function kt(t,e){return At(e[t])}function Tt(t,e){return At(e[t.index])}function It(t,e){return t.data[e]}function Rt(t,e){return t[e]}function Nt(t,e){const n=e[t];return ht(n)?n:n[0]}function jt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ft(t){return 4==(4&t[2])}function Mt(t){return 128==(128&t[2])}function Pt(t,e){return null==e?null:t[e]}function Lt(t){t[18]=0}function Vt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Bt={lFrame:he(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ut(){return Bt.bindingsEnabled}function qt(){return Bt.lFrame.lView}function zt(){return Bt.lFrame.tView}function Qt(t){Bt.lFrame.contextLView=t}function Ht(){let t=Gt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Gt(){return Bt.lFrame.currentTNode}function Kt(t,e){const n=Bt.lFrame;n.currentTNode=t,n.isParent=e}function Wt(){return Bt.lFrame.isParent}function $t(){Bt.lFrame.isParent=!1}function Yt(){return Bt.isInCheckNoChangesMode}function Zt(t){Bt.isInCheckNoChangesMode=t}function Xt(){const t=Bt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Jt(){return Bt.lFrame.bindingIndex}function te(){return Bt.lFrame.bindingIndex++}function ee(t){const e=Bt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ne(t,e){const n=Bt.lFrame;n.bindingIndex=n.bindingRootIndex=t,re(e)}function re(t){Bt.lFrame.currentDirectiveIndex=t}function ie(t){const e=Bt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function se(){return Bt.lFrame.currentQueryIndex}function oe(t){Bt.lFrame.currentQueryIndex=t}function ae(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ue(t,e,n){if(n&k.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&k.Host||(r=ae(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Bt.lFrame=le();return r.currentTNode=e,r.lView=t,!0}function ce(t){const e=le(),n=t[1];Bt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function le(){const t=Bt.lFrame,e=null===t?null:t.child;return null===e?he(t):e}function he(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function de(){const t=Bt.lFrame;return Bt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const fe=de;function pe(){const t=de();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function me(){return Bt.lFrame.selectedIndex}function ge(t){Bt.lFrame.selectedIndex=t}function be(){const t=Bt.lFrame;return It(t.tView,t.selectedIndex)}function ye(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function ve(t,e,n){Ce(t,e,3,n)}function _e(t,e,n,r){(3&t[2])===n&&Ce(t,e,n,r)}function we(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ce(t,e,n,r){const i=null!=r?r:-1,s=e.length-1;let o=0;for(let a=void 0!==r?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(Ee(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Ee(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}const Se=-1;class Oe{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function xe(t,e,n){const r=xt(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Ae(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function De(t){return 3===t||4===t||6===t}function Ae(t){return 64===t.charCodeAt(0)}function ke(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Te(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Te(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Ie(t){return t!==Se}function Re(t){return 32767&t}function Ne(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let je=!0;function Fe(t){const e=je;return je=t,e}let Me=0;function Pe(t,e){const n=Ve(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Le(r.data,t),Le(e,null),Le(r.blueprint,null));const i=Be(t,e),s=t.injectorIndex;if(Ie(i)){const t=Re(i),n=Ne(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function Le(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ve(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Be(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Se;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Se}function Ue(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Y)&&(r=n[Y]),null==r&&(r=n[Y]=Me++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function qe(t,e,n){if(n&k.Optional)return t;v(e,"NodeInjector")}function ze(t,e,n,r){if(n&k.Optional&&void 0===r&&(r=null),0==(n&(k.Self|k.Host))){const i=t[9],s=I(void 0);try{return i?i.get(e,r,n&k.Optional):R(e,r,n&k.Optional)}finally{I(s)}}return qe(r,e,n)}function Qe(t,e,n,r=k.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Y)?t[Y]:void 0;return"number"==typeof e?e>=0?255&e:Ge:e}(n);if("function"==typeof s){if(!ue(e,t,r))return r&k.Host?qe(i,n,r):ze(e,n,r,i);try{const t=s();if(null!=t||r&k.Optional)return t;v(n)}finally{fe()}}else if("number"==typeof s){let i=null,o=Ve(t,e),a=Se,u=r&k.Host?e[16][6]:null;for((-1===o||r&k.SkipSelf)&&(a=-1===o?Be(t,e):e[o+8],a!==Se&&Ze(r,!1)?(i=e[1],o=Re(a),e=Ne(a,e)):o=-1);-1!==o;){const t=e[1];if(Ye(s,o,t.data)){const t=Ke(o,e,n,i,r,u);if(t!==He)return t}a=e[o+8],a!==Se&&Ze(r,e[1].data[o+8]===u)&&Ye(s,o,e)?(i=t,o=Re(a),e=Ne(a,e)):o=-1}}}return ze(e,n,r,i)}const He={};function Ge(){return new Xe(Ht(),qt())}function Ke(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=We(a,o,n,null==r?pt(a)&&je:r!=o&&0!=(3&a.type),i&k.Host&&s===a);return null!==u?$e(e,o,u,a):He}function We(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&gt(t)&&t.type===n)return u}return null}function $e(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof Oe){const o=i;o.resolving&&function(t,e){throw new g("200",`Circular dependency in DI detected for ${t}`)}(y(s[n]));const a=Fe(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?I(o.injectImpl):null;ue(t,r,k.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=_t(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&I(u),Fe(a),o.resolving=!1,fe()}}return i}function Ye(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Ze(t,e){return!(t&k.Self||t&k.Host&&e)}class Xe{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Qe(this._tNode,this._lView,t,void 0,e)}}function Je(t){return N(()=>{const e=t.prototype.constructor,n=e[$]||tn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[$]||tn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function tn(t){return m(t)?()=>{const e=tn(p(t));return e&&e()}:bt(t)}function en(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(De(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Ht(),t)}const nn="__parameters__";function rn(t,e,n){return N(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(nn)?t[nn]:Object.defineProperty(t,nn,{value:[]})[nn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class sn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=_({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const on=new sn("AnalyzeForEntryComponents"),an=Function;function un(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),un(r,e)):e!==t&&e.push(r)}return e}function cn(t,e){t.forEach(t=>Array.isArray(t)?cn(t,e):e(t))}function ln(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function hn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function dn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function fn(t,e,n){let r=mn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function pn(t,e){const n=mn(t,e);if(n>=0)return t[1|n]}function mn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const gn={},bn=/\n/gm,yn="__source",vn=u({provide:String,useValue:u});let _n;function wn(t){const e=_n;return _n=t,e}function Cn(t,e=k.Default){if(void 0===_n)throw new Error("inject() must be called from an injection context");return null===_n?R(t,void 0,e):_n.get(t,e&k.Optional?null:void 0,e)}function En(t,e=k.Default){return(T||Cn)(p(t),e)}const Sn=En;function On(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=k.Default;for(let e=0;e<r.length;e++){const i=r[e],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=i.token:n|=s:t=i}e.push(En(t,n))}else e.push(En(r))}return e}function xn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const Dn=xn(rn("Inject",t=>({token:t})),-1),An=xn(rn("Optional"),8),kn=xn(rn("SkipSelf"),4);let Tn;function In(t){var e;return(null===(e=function(){if(void 0===Tn&&(Tn=null,B.trustedTypes))try{Tn=B.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Tn}())||void 0===e?void 0:e.createHTML(t))||t}class Rn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Nn extends Rn{getTypeName(){return"HTML"}}class jn extends Rn{getTypeName(){return"Style"}}class Fn extends Rn{getTypeName(){return"Script"}}class Mn extends Rn{getTypeName(){return"URL"}}class Pn extends Rn{getTypeName(){return"ResourceURL"}}function Ln(t){return t instanceof Rn?t.changingThisBreaksApplicationSecurity:t}function Vn(t,e){const n=Bn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Bn(t){return t instanceof Rn&&t.getTypeName()||null}function Un(t){return new Nn(t)}function qn(t){return new jn(t)}function zn(t){return new Fn(t)}function Qn(t){return new Mn(t)}function Hn(t){return new Pn(t)}class Gn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(In(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Kn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=In(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=In(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Wn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,$n=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Yn(t){return(t=String(t)).match(Wn)||t.match($n)?t:"unsafe:"+t}function Zn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Xn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Jn=Zn("area,br,col,hr,img,wbr"),tr=Zn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),er=Zn("rp,rt"),nr=Xn(er,tr),rr=Xn(Jn,Xn(tr,Zn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xn(er,Zn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),nr),ir=Zn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),sr=Zn("srcset"),or=Xn(ir,sr,Zn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ar=Zn("script,style,template");class ur{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!rr.hasOwnProperty(e))return this.sanitizedSomething=!0,!ar.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!or.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;ir[s]&&(o=Yn(o)),sr[s]&&(r=o,o=(r=String(r)).split(",").map(t=>Yn(t.trim())).join(", ")),this.buf.push(" ",e,'="',hr(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();rr.hasOwnProperty(e)&&!Jn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(hr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const cr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lr=/([^\#-~ |!])/g;function hr(t){return t.replace(/&/g,"&amp;").replace(cr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(lr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let dr;function fr(t,e){let n=null;try{dr=dr||function(t){const e=new Kn(t);return function(){try{return!!(new window.DOMParser).parseFromString(In(""),"text/html")}catch(t){return!1}}()?new Gn(e):e}(t);let r=e?String(e):"";n=dr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=dr.getInertBodyElement(r)}while(r!==s);return In((new ur).sanitizeChildren(pr(n)||n))}finally{if(n){const t=pr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function pr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var mr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function gr(t){const e=function(){const t=qt();return t&&t[12]}();return e?e.sanitize(mr.URL,t)||"":Vn(t,"URL")?Ln(t):Yn(b(t))}function br(t){return t.ngDebugContext}function yr(t){return t.ngOriginalError}function vr(t,...e){t.error(...e)}class _r{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||vr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?br(t)?br(t):this._findContext(yr(t)):null}_findOriginalError(t){let e=yr(t);for(;e&&yr(e);)e=yr(e);return e}}function wr(t,e){t.__ngContext__=e}const Cr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B))();function Er(t){return t instanceof Function?t():t}var Sr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Or(t,e){return(void 0)(t,e)}function xr(t){const e=t[3];return dt(e)?e[3]:e}function Dr(t){return kr(t[13])}function Ar(t){return kr(t[4])}function kr(t){for(;null!==t&&!dt(t);)t=t[4];return t}function Tr(t,e,n,r,i){if(null!=r){let s,o=!1;dt(r)?s=r:ht(r)&&(o=!0,r=r[0]);const a=At(r);0===t&&null!==n?null==i?Lr(e,n,a):Pr(e,n,a,i||null,!0):1===t&&null!==n?Pr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Br(t,e);r&&function(t,e,n,r){xt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==At(n)&&Tr(e,t,r,s,i);for(let o=lt;o<n.length;o++){const i=n[o];Wr(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Ir(t,e,n){return xt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Rr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Vt(i,-1)),n.splice(r,1)}function Nr(t,e){if(t.length<=lt)return;const n=lt+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&Rr(s,r),e>0&&(t[n-1][4]=r[4]);const o=hn(t,lt+e);Wr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function jr(t,e){if(!(256&e[2])){const n=e[11];xt(n)&&n.destroyNode&&Wr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Fr(t[1],t);for(;e;){let n=null;if(ht(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ht(e)&&Fr(e[1],e),e=e[3];null===e&&(e=t),ht(e)&&Fr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Fr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Oe)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):At(e[t]),a=r[i=n[s+2]],u=n[s+3];"boolean"==typeof u?o.removeEventListener(n[s],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const t=r[i=n[s+1]];n[s].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&xt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&dt(e[3])){n!==e[3]&&Rr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Mr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===F.None||e===F.Emulated)return null}return Tt(r,n)}(t,e.parent,n)}function Pr(t,e,n,r,i){xt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Lr(t,e,n){xt(t)?t.appendChild(e,n):e.appendChild(n)}function Vr(t,e,n,r,i){null!==r?Pr(t,e,n,r,i):Lr(t,e,n)}function Br(t,e){return xt(t)?t.parentNode(e):e.parentNode}function Ur(t,e,n){return qr(t,e,n)}let qr=function(t,e,n){return 40&t.type?Tt(t,n):null};function zr(t,e,n,r){const i=Mr(t,r,e),s=e[11],o=Ur(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Vr(s,i,n[a],o,!1);else Vr(s,i,n,o,!1)}function Qr(t,e){if(null!==e){const n=e.type;if(3&n)return Tt(e,t);if(4&n)return Gr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Qr(t,n);{const n=t[e.index];return dt(n)?Gr(-1,n):At(n)}}if(32&n)return Or(e,t)()||At(t[e.index]);{const n=Hr(t,e);return null!==n?Array.isArray(n)?n[0]:Qr(xr(t[16]),n):Qr(t,e.next)}}return null}function Hr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Gr(t,e){const n=lt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Qr(t,r)}return e[7]}function Kr(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&wr(At(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Kr(t,e,n.child,r,i,s,!1),Tr(e,t,i,a,s);else if(32&u){const o=Or(n,r);let u;for(;u=o();)Tr(e,t,i,u,s);Tr(e,t,i,a,s)}else 16&u?$r(t,e,r,n,i,s):Tr(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Wr(t,e,n,r,i,s){Kr(n,r,t.firstChild,e,i,s,!1)}function $r(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Tr(e,t,i,a[u],s);else Kr(t,e,a,o[3],i,s,!0)}function Yr(t,e,n){xt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Zr(t,e,n){xt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Xr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Jr="ng-template";function ti(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Xr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ei(t){return 4===t.type&&t.value!==Jr}function ni(t,e,n){return e===(4!==t.type||n?t.value:Jr)}function ri(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(De(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!ni(t,u,n)||""===u&&1===e.length){if(ii(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!ti(t.attrs,c,n)){if(ii(r))return!1;o=!0}continue}const l=si(8&r?"class":u,i,ei(t),n);if(-1===l){if(ii(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Xr(e,c,0)||2&r&&c!==t){if(ii(r))return!1;o=!0}}}}else{if(!o&&!ii(r)&&!ii(u))return!1;if(o&&ii(u))continue;o=!1,r=u|1&r}}return ii(r)||o}function ii(t){return 0==(1&t)}function si(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function oi(t,e,n=!1){for(let r=0;r<e.length;r++)if(ri(t,e[r],n))return!0;return!1}function ai(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function ui(t,e){return t?":not("+e.trim()+")":e}function ci(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||ii(o)||(e+=ui(s,i),i=""),r=o,s=s||!ii(r);n++}return""!==i&&(e+=ui(s,i)),e}const li={};function hi(t){di(zt(),qt(),me()+t,Yt())}function di(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&ve(e,r,n)}else{const r=t.preOrderHooks;null!==r&&_e(e,r,0,n)}ge(n)}function fi(t,e){return t<<17|e<<2}function pi(t){return t>>17&32767}function mi(t){return 2|t}function gi(t){return(131068&t)>>2}function bi(t,e){return-131069&t|e<<2}function yi(t){return 1|t}function vi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];oe(i),n.contentQueries(2,e[s],s)}}}function _i(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Lt(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function wi(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=Gt(),o=Wt(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,r,i),Bt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=function(){const t=Bt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return Kt(s,!0),s}function Ci(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ei(t,e,n){ce(e);try{const r=t.viewQuery;null!==r&&Ji(1,r,n);const i=t.template;null!==i&&xi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&vi(t,e),t.staticViewQueries&&Ji(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Wi(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,pe()}}function Si(t,e,n,r){const i=e[2];if(256==(256&i))return;ce(e);const s=Yt();try{Lt(e),Bt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&xi(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&ve(e,n,null)}else{const n=t.preOrderHooks;null!==n&&_e(e,n,0,null),we(e,0)}if(function(t){for(let e=Dr(t);null!==e;e=Ar(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Vt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Dr(t);null!==e;e=Ar(e))for(let t=lt;t<e.length;t++){const n=e[t],r=n[1];Mt(n)&&Si(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&vi(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&ve(e,n)}else{const n=t.contentHooks;null!==n&&_e(e,n,1),we(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)ge(~r);else{const i=r,s=n[++t],o=n[++t];ne(s,i),o(2,e[i])}}}finally{ge(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Gi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Ji(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&ve(e,n)}else{const n=t.viewHooks;null!==n&&_e(e,n,2),we(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Vt(e[3],-1))}finally{pe()}}function Oi(t,e,n,r){const i=e[10],s=!Yt(),o=Ft(e);try{s&&!o&&i.begin&&i.begin(),o&&Ei(t,e,r),Si(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function xi(t,e,n,r,i){const s=me();try{ge(-1),2&r&&e.length>ct&&di(t,e,ct,Yt()),n(r,i)}finally{ge(s)}}function Di(t,e,n){if(ft(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Ai(t,e,n){Ut()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Pe(n,e),wr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=gt(r);s&&qi(e,n,r);const u=$e(e,t,a,n);wr(u,e),null!==o&&zi(0,a-i,u,r,0,o),s&&(Nt(n.index,e)[8]=u)}}(t,e,n,Tt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Bt.lFrame.currentDirectiveIndex;try{ge(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];re(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Pi(r,i)}}finally{ge(-1),re(o)}}(t,e,n))}function ki(t,e,n=Tt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Ti(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ii(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ii(t,e,n,r,i,s,o,a,u,c){const l=ct+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:li);return n}(l,h),f="function"==typeof c?c():c;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function Ri(t,e,n,r){const i=es(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&ns(t).push(r,i.length-1))}function Ni(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ji(t,e,n,r,i,s,o,a){const u=Tt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(ss(t,n,c,r,i),pt(e)&&function(t,e){const n=Nt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,e.value||"",r):i,xt(s)?s.setProperty(u,r,i):Ae(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Fi(t,e,n,r){let i=!1;if(Ut()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];oi(n,o.selectors,!1)&&(i||(i=[]),Ue(Pe(n,e),t,o.type),gt(o)?(Li(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Bi(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=Ci(t,e,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=ke(n.mergedAttrs,c.hostAttrs),Ui(t,n,e,u,c),Vi(u,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||ei(e)?null:Qi(n,i);s.push(c),o=Ni(n,u,o),a=Ni(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new g("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=ke(n.mergedAttrs,n.attrs),i}function Mi(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Pi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Li(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Vi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;gt(e)&&(n[""]=t)}}function Bi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ui(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=bt(i.type)),o=new Oe(s,gt(i),null);t.blueprint[r]=o,n[r]=o,Mi(t,e,0,r,Ci(t,n,i.hostVars,li),i)}function qi(t,e,n){const r=Tt(e,t),i=Ti(n),s=t[10],o=$i(t,_i(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function zi(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Qi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Hi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Gi(t,e){const n=Nt(e,t);if(Mt(n)){const t=n[1];80&n[2]?Si(t,n,t.template,n[8]):n[5]>0&&Ki(n)}}function Ki(t){for(let n=Dr(t);null!==n;n=Ar(n))for(let t=lt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Si(t,e,t.template,e[8])}else e[5]>0&&Ki(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Nt(e[n],t);Mt(r)&&r[5]>0&&Ki(r)}}function Wi(t,e){const n=Nt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Ei(r,n,n[8])}function $i(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Yi(t){for(;t;){t[2]|=64;const e=xr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Zi(t,e,n){const r=e[10];r.begin&&r.begin();try{Si(t,e,t.template,n)}catch(i){throw is(e,i),i}finally{r.end&&r.end()}}function Xi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=jt(n),i=r[1];Oi(i,r,i.template,n)}}(t[8])}function Ji(t,e,n){oe(0),e(t,n)}const ts=(()=>Promise.resolve(null))();function es(t){return t[7]||(t[7]=[])}function ns(t){return t.cleanup||(t.cleanup=[])}function rs(t,e,n){return(null===t||gt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function is(t,e){const n=t[9],r=n?n.get(_r,null):null;r&&r.handleError(e)}function ss(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function os(t,e,n){const r=kt(e,t);!function(t,e,n){xt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function as(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=h(i,t):2==s&&(r=h(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const us=new sn("INJECTOR",-1);class cs{get(t,e=gn){if(e===gn){const e=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw e.name="NullInjectorError",e}return e}}const ls=new sn("Set Injector scope."),hs={},ds={},fs=[];let ps;function ms(){return void 0===ps&&(ps=new cs),ps}function gs(t,e=null,n=null,r){return new bs(t,n,e||ms(),r)}class bs{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&cn(e,n=>this.processProvider(n,t,e)),cn([t],t=>this.processInjectorType(t,[],i)),this.records.set(us,_s(void 0,this));const s=this.records.get(ls);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:l(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=gn,n=k.Default){this.assertNotDestroyed();const r=wn(this);try{if(!(n&k.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof sn)&&C(t);e=n&&this.injectableDefInScope(n)?_s(ys(t),hs):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&k.Self?ms():this.parent).get(t,e=n&k.Optional&&e===gn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(l(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[yn]&&i.unshift(e[yn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=l(e);if(Array.isArray(e))i=e.map(l).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):l(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(bn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{wn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(l(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=S(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=S(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{cn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];cn(r,t=>this.processProvider(t,n,r||fs))}}this.injectorDefTypes.add(s);const a=bt(s)||(()=>new s);this.records.set(s,_s(a,hs));const u=r.providers;if(null!=u&&!o){const e=t;cn(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Cs(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return ws(t)?_s(void 0,t.useValue):_s(vs(t),hs)}(t);if(Cs(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=_s(void 0,hs,!0),e.factory=()=>On(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===hs&&(e.value=ds,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function ys(t){const e=C(t),n=null!==e?e.factory:bt(t);if(null!==n)return n;if(t instanceof sn)throw new Error(`Token ${l(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=dn(e,"?");throw new Error(`Can't resolve all parameters for ${l(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[O]||t[D]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function vs(t,e,n){let r;if(Cs(t)){const e=p(t);return bt(e)||ys(e)}if(ws(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...On(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>En(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return bt(e)||ys(e);r=()=>new e(...On(t.deps))}var i;return r}function _s(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ws(t){return null!==t&&"object"==typeof t&&vn in t}function Cs(t){return"function"==typeof t}const Es=function(t,e,n){return function(t,e=null,n=null,r){const i=gs(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Ss=(()=>{class t{static create(t,e){return Array.isArray(t)?Es(t,e,""):Es(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=gn,t.NULL=new cs,t.\u0275prov=_({token:t,providedIn:"any",factory:()=>En(us)}),t.__NG_ELEMENT_ID__=-1,t})();function Os(t,e){ye(jt(t)[1],Ht())}function xs(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(gt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Ds(t.inputs),e.declaredInputs=Ds(t.declaredInputs),e.outputs=Ds(t.outputs);const n=i.hostBindings;n&&Ts(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&As(t,s),o&&ks(t,o),c(t.inputs,i.inputs),c(t.declaredInputs,i.declaredInputs),c(t.outputs,i.outputs),gt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===xs&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ke(i.hostAttrs,n=ke(n,i.hostAttrs))}}(r)}function Ds(t){return t===U?{}:t===z?[]:t}function As(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function ks(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Ts(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Is=null;function Rs(){if(!Is){const t=B.Symbol;if(t&&t.iterator)Is=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Is=n)}}}return Is}class Ns{constructor(t){this.wrapped=t}static wrap(t){return new Ns(t)}static unwrap(t){return Ns.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ns}}function js(t){return!!Fs(t)&&(Array.isArray(t)||!(t instanceof Map)&&Rs()in t)}function Fs(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ms(t,e,n){return t[e]=n}function Ps(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ls(t,e,n,r){const i=Ps(t,e,n);return Ps(t,e+1,r)||i}function Vs(t,e,n,r){const i=qt();return Ps(i,te(),e)&&(zt(),function(t,e,n,r,i,s){const o=Tt(t,e);!function(t,e,n,r,i,s,o){if(null==s)xt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?b(s):o(s,r||"",i);xt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}(be(),i,t,e,n,r)),Vs}function Bs(t,e,n,r){return Ps(t,te(),n)?e+b(n)+r:li}function Us(t,e,n,r,i,s,o,a){const u=qt(),c=zt(),l=t+ct,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=wi(e,t,4,o||null,Pt(c,a));Fi(e,n,l,Pt(c,u)),ye(e,l);const h=l.tViews=Ii(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Kt(h,!1);const d=u[11].createComment("");zr(c,u,d,h),wr(d,u),$i(u,u[l]=Hi(d,u,d,h)),mt(h)&&Ai(c,u,h),null!=o&&ki(u,h,a)}function qs(t){return Rt(Bt.lFrame.contextLView,ct+t)}function zs(t,e=k.Default){const n=qt();return null===n?En(t,e):Qe(Ht(),n,p(t),e)}function Qs(t,e,n){const r=qt();return Ps(r,te(),e)&&ji(zt(),be(),r,t,e,r[11],n,!1),Qs}function Hs(t,e,n,r,i){const s=i?"class":"style";ss(t,n,e.inputs[s],s,r)}function Gs(t,e,n,r){const i=qt(),s=zt(),o=ct+t,a=i[11],u=i[o]=Ir(a,e,Bt.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=wi(e,t,2,i,Pt(a,s));return Fi(e,n,u,Pt(a,o)),null!==u.attrs&&as(u,u.attrs,!1),null!==u.mergedAttrs&&as(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,n,r):s.data[o];Kt(c,!0);const l=c.mergedAttrs;null!==l&&xe(a,u,l);const h=c.classes;null!==h&&Zr(a,u,h);const d=c.styles;null!==d&&Yr(a,u,d),64!=(64&c.flags)&&zr(s,i,u,c),0===Bt.lFrame.elementDepthCount&&wr(u,i),Bt.lFrame.elementDepthCount++,mt(c)&&(Ai(s,i,c),Di(s,c,i)),null!==r&&ki(i,c)}function Ks(){let t=Ht();Wt()?$t():(t=t.parent,Kt(t,!1));const e=t;Bt.lFrame.elementDepthCount--;const n=zt();n.firstCreatePass&&(ye(n,t),ft(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Hs(n,e,qt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Hs(n,e,qt(),e.stylesWithoutHost,!1)}function Ws(t,e,n,r){Gs(t,e,n,r),Ks()}function $s(t,e,n){const r=qt(),i=zt(),s=t+ct,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=Pt(s,r),a=wi(e,t,8,"ng-container",o);return null!==o&&as(a,o,!0),Fi(e,n,a,Pt(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Kt(o,!0);const a=r[s]=r[11].createComment("");zr(i,r,a,o),wr(a,r),mt(o)&&(Ai(i,r,o),Di(i,o,r)),null!=n&&ki(r,o)}function Ys(){let t=Ht();const e=zt();Wt()?$t():(t=t.parent,Kt(t,!1)),e.firstCreatePass&&(ye(e,t),ft(t)&&e.queries.elementEnd(t))}function Zs(){return qt()}function Xs(t){return!!t&&"function"==typeof t.then}function Js(t){return!!t&&"function"==typeof t.subscribe}const to=Js;function eo(t,e,n=!1,r){const i=qt(),s=zt(),o=Ht();return ro(s,i,i[11],o,t,e,n,r),eo}function no(t,e,n=!1,r){const i=Ht(),s=qt(),o=zt();return ro(o,s,rs(ie(o.data),i,s),i,t,e,n,r),no}function ro(t,e,n,r,i,s,o=!1,a){const u=mt(r),c=t.firstCreatePass&&ns(t),l=es(e);let h=!0;if(3&r.type){const d=Tt(r,e),f=a?a(d):U,p=f.target||d,m=l.length,g=a?t=>a(At(t[r.index])).target:r.index;if(xt(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=so(r,e,s,!1);const t=n.listen(f.name||p,i,s);l.push(s,t),c&&c.push(i,g,m,m+1)}}else s=so(r,e,s,!0),p.addEventListener(i,s,o),l.push(s),c&&c.push(i,g,m,o)}else s=so(r,e,s,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}function io(t,e,n){try{return!1!==e(n)}catch(r){return is(t,r),!1}}function so(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?Nt(t.index,e):e;0==(32&e[2])&&Yi(o);let a=io(e,n,s),u=i.__ngNextListenerFn__;for(;u;)a=io(e,u,s)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function oo(t=1){return function(t){return(Bt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Bt.lFrame.contextLView))[8]}(t)}function ao(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?oi(t,s,!0):ai(r,s))return i}else n=i}return n}function uo(t){const e=qt()[16][6];if(!e.projection){const n=e.projection=dn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?ao(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function co(t,e=0,n){const r=qt(),i=zt(),s=wi(i,ct+t,16,null,n||null);null===s.projection&&(s.projection=e),$t(),64!=(64&s.flags)&&function(t,e,n){$r(e[11],0,e,n,Mr(t,n,e),Ur(n.parent||e[6],n,e))}(i,r,s)}function lo(t,e,n,r,i){const s=qt(),o=Bs(s,e,n,r);return o!==li&&ji(zt(),be(),s,t,o,s[11],i,!1),lo}function ho(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?pi(s):gi(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];fo(t[a],e)&&(u=!0,t[a+1]=r?yi(n):mi(n)),a=r?pi(n):gi(n)}u&&(t[n+1]=r?mi(s):yi(s))}function fo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&mn(t,e)>=0}function po(t,e,n){return go(t,e,n,!1),po}function mo(t,e){return go(t,e,null,!0),mo}function go(t,e,n,r){const i=qt(),s=zt(),o=ee(2);s.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[me()],o=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(t.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=ie(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=yo(n=bo(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=bo(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==gi(r))return t[pi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=bo(null,t,e,n[1],r),n=yo(n,e.attrs,r),function(t,e,n,r){t[pi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=yo(r,t[s].hostAttrs,n);return yo(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=pi(o),u=gi(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||mn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=pi(t[a+1]);t[r+1]=fi(e,a),0!==e&&(t[e+1]=bi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=fi(a,0),0!==a&&(t[a+1]=bi(t[a+1],r)),a=r;else t[r+1]=fi(u,0),0===a?a=r:t[u+1]=bi(t[u+1],r),u=r;l&&(t[r+1]=mi(t[r+1])),ho(t,c,r,!0),ho(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&mn(s,e)>=0&&(n[r+1]=yi(n[r+1]))}(e,c,t,r,s),o=fi(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==li&&Ps(i,o,e)&&function(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];_o(1==(1&c)?vo(u,e,n,i,gi(c),o):void 0)||(_o(s)||function(t){return 2==(2&t)}(c)&&(s=vo(u,null,n,i,a,o)),function(t,e,n,r,i){const s=xt(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Sr.DashCase;if(null==i)s?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=Sr.Important),s?t.setStyle(n,r,i,e):n.style.setProperty(r,i,o?"important":"")}}}(r,o,kt(me(),n),i,s))}(s,s.data[me()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=l(Ln(t)))),t}(e,n),r,o)}function bo(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=yo(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function yo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),fn(t,o,!!n||e[++s]))}return void 0===t?null:t}function vo(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===li&&(l=c?q:void 0);let h=c?pn(l,r):u===r?l:void 0;if(s&&!_o(h)&&(h=pn(e,r)),_o(h)&&(a=h,o))return a;const d=t[i+1];i=o?pi(d):gi(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=pn(t,r))}return a}function _o(t){return void 0!==t}function wo(t,e=""){const n=qt(),r=zt(),i=t+ct,s=r.firstCreatePass?wi(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return xt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);zr(r,n,o,s),Kt(s,!1)}function Co(t){return Eo("",t,""),Co}function Eo(t,e,n){const r=qt(),i=Bs(r,t,e,n);return i!==li&&os(r,me(),i),Eo}function So(t,e,n,r,i){const s=qt(),o=function(t,e,n,r,i,s){const o=Ls(t,Jt(),n,i);return ee(2),o?e+b(n)+r+b(i)+s:li}(s,t,e,n,r,i);return o!==li&&os(s,me(),o),So}function Oo(t,e,n){const r=qt();return Ps(r,te(),e)&&ji(zt(),be(),r,t,e,r[11],n,!0),Oo}function xo(t,e,n){const r=qt();if(Ps(r,te(),e)){const i=zt(),s=be();ji(i,s,r,t,e,rs(ie(i.data),s,r),n,!0)}return xo}const Do=void 0;var Ao=["en",[["a","p"],["AM","PM"],Do],[["AM","PM"],Do,Do],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Do,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Do,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Do,"{1} 'at' {0}",Do],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ko={};function To(t,e,n){"string"!=typeof e&&(n=e,e=t[Fo.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),ko[e]=t,n&&(ko[e][Fo.ExtraData]=n)}function Io(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=jo(e);if(n)return n;const r=e.split("-")[0];if(n=jo(r),n)return n;if("en"===r)return Ao;throw new Error(`Missing locale data for the locale "${t}".`)}function Ro(t){return Io(t)[Fo.CurrencyCode]||null}function No(t){return Io(t)[Fo.PluralCase]}function jo(t){return t in ko||(ko[t]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[t]),ko[t]}var Fo=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Mo="en-US";let Po=Mo;function Lo(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Po=t.toLowerCase().replace(/_/g,"-"))}function Vo(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let s=0;s<t.length;s++)Vo(t[s],e,n,r,i);else{const s=zt(),o=qt();let a=Cs(t)?t:p(t.provide),u=vs(t);const c=Ht(),l=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(Cs(t)||!t.multi){const r=new Oe(u,i,zs),f=qo(a,e,i?l:l+d,h);-1===f?(Ue(Pe(c,o),s,a),Bo(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=qo(a,e,l+d,h),p=qo(a,e,l,l+d),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){Ue(Pe(c,o),s,a);const l=function(t,e,n,r,i){const s=new Oe(t,n,zs);return s.multi=[],s.index=e,s.componentProviders=0,Uo(s,i,r&&!n),s}(i?Qo:zo,n.length,i,r,u);!i&&g&&(n[p].providerFactory=l),Bo(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else Bo(s,t,f>-1?f:p,Uo(n[i?p:f],u,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function Bo(t,e,n,r){const i=Cs(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function Uo(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function qo(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function zo(t,e,n,r){return Ho(this.multi,[])}function Qo(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=$e(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),Ho(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],Ho(i,s);return s}function Ho(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Go(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=zt();if(r.firstCreatePass){const i=gt(t);Vo(n,r.data,r.blueprint,i,!0),Vo(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Ko{}class Wo{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${l(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let $o=(()=>{class t{}return t.NULL=new Wo,t})();function Yo(...t){}function Zo(t,e){return new Jo(Tt(t,e))}const Xo=function(){return Zo(Ht(),qt())};let Jo=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Xo,t})();function ta(t){return t instanceof Jo?t.nativeElement:t}class ea{}let na=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ra(),t})();const ra=function(){const t=qt(),e=Nt(Ht().index,t);return function(t){return t[11]}(ht(e)?e:t)};let ia=(()=>{class t{}return t.\u0275prov=_({token:t,providedIn:"root",factory:()=>null}),t})();class sa{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const oa=new sa("11.2.6");class aa{constructor(){}supports(t){return js(t)}create(t){return new ca(t)}}const ua=(t,e)=>e;class ca{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ua}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<fa(n,r,i)?e:n,o=fa(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!js(t))throw new Error(`Error trying to diff '${l(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Rs()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new la(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new da),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new da),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class la{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ha{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class da{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new ha,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fa(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class pa{constructor(){}supports(t){return t instanceof Map||Fs(t)}create(){return new ma}}class ma{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Fs(t)))throw new Error(`Error trying to diff '${l(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ga(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ga{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ba(){return new ya([new aa])}let ya=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||ba()),deps:[[t,new kn,new An]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=_({token:t,providedIn:"root",factory:ba}),t})();function va(){return new _a([new pa])}let _a=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||va()),deps:[[t,new kn,new An]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=_({token:t,providedIn:"root",factory:va}),t})();function wa(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(At(s)),dt(s))for(let t=lt;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&wa(e[1],e,n,r)}const o=n.type;if(8&o)wa(t,e,n.child,r);else if(32&o){const t=Or(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=Hr(e,n);if(Array.isArray(t))r.push(...t);else{const n=xr(e[16]);wa(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class Ca{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return wa(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(dt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Nr(t,n),hn(e,n))}this._attachedToViewContainer=!1}jr(this._lView[1],this._lView)}onDestroy(t){Ri(this._lView[1],this._lView,null,t)}markForCheck(){Yi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Zi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Zt(!0);try{Zi(t,e,n)}finally{Zt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Wr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Ea extends Ca{constructor(t){super(t),this._view=t}detectChanges(){Xi(this._view)}checkNoChanges(){!function(t){Zt(!0);try{Xi(t)}finally{Zt(!1)}}(this._view)}get context(){return null}}const Sa=xa;let Oa=(()=>{class t{}return t.__NG_ELEMENT_ID__=Sa,t.__ChangeDetectorRef__=!0,t})();function xa(t=!1){return function(t,e,n){if(!n&&pt(t)){const n=Nt(t.index,e);return new Ca(n,n)}return 47&t.type?new Ca(e[16],e):null}(Ht(),qt(),t)}const Da=[new pa],Aa=new ya([new aa]),ka=new _a(Da),Ta=function(){return ja(Ht(),qt())};let Ia=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ta,t})();const Ra=Ia,Na=class extends Ra{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=_i(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Ei(e,n,t),new Ca(n)}};function ja(t,e){return 4&t.type?new Na(e,t,Zo(t,e)):null}class Fa{}class Ma{}const Pa=function(){return za(Ht(),qt())};let La=(()=>{class t{}return t.__NG_ELEMENT_ID__=Pa,t})();const Va=La,Ba=class extends Va{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Zo(this._hostTNode,this._hostLView)}get injector(){return new Xe(this._hostTNode,this._hostLView)}get parentInjector(){const t=Be(this._hostTNode,this._hostLView);if(Ie(t)){const e=Ne(t,this._hostLView),n=Re(t);return new Xe(e[1].data[n+8],e)}return new Xe(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Ua(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-lt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(Fa,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(dt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Ba(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=lt+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-lt?(e[4]=n[i],ln(n,lt+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=Gr(i,s),a=n[11],u=Br(a,s[7]);return null!==u&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,Wr(t,r,n,1,i,s)}(r,s[6],a,n,u,o),t.attachToViewContainerRef(),ln(qa(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Ua(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Nr(this._lContainer,e);n&&(hn(qa(this._lContainer),e),jr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Nr(this._lContainer,e);return n&&null!=hn(qa(this._lContainer),e)?new Ca(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Ua(t){return t[8]}function qa(t){return t[8]||(t[8]=[])}function za(t,e){let n;const r=e[t.index];if(dt(r))n=r;else{let i;if(8&t.type)i=At(r);else{const n=e[11];i=n.createComment("");const r=Tt(t,e);Pr(n,Br(n,r),i,function(t,e){return xt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Hi(r,e,i,t),$i(e,n)}return new Ba(n,t,e)}const Qa={};class Ha extends $o{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=at(t);return new Wa(e,this.ngModule)}}function Ga(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ka=new sn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Cr});class Wa extends Ko{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ci).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ga(this.componentDef.inputs)}get outputs(){return Ga(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,Qa,i);return s!==Qa||r===Qa?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(ea,Dt),o=i.get(ia,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(xt(t))return t.selectRootElement(e,n===F.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Ir(s.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Cr,clean:ts,playerHandler:null,flags:0},d=Ii(0,null,null,1,0,null,null,null,null,null),f=_i(null,d,h,l,null,null,s,a,o,i);let p,m;ce(f);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=wi(o,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(as(a,u,!0),null!==t&&(xe(i,t,u),null!==a.classes&&Zr(i,t,a.classes),null!==a.styles&&Yr(i,t,a.styles)));const c=r.createRenderer(t,e),l=_i(n,Ti(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(Ue(Pe(a,n),o,e.type),Li(o,a),Bi(a,n.length,1)),$i(n,l),n[20]=l}(c,this.componentDef,f,s,a);if(c)if(n)xe(a,c,["ng-version",oa.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!ii(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&xe(a,c,t),e&&e.length>0&&Zr(a,c,e.join(" "))}if(m=It(d,ct),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=Ht();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ui(t,r,e,Ci(t,e,1,null),n));const i=$e(e,t,r.directiveStart,r);wr(i,e);const s=Tt(r,e);return s&&wr(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=Ht();e.contentQueries(1,o,t.directiveStart)}const a=Ht();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ge(a.index),Mi(n[1],a,0,a.directiveStart,a.directiveEnd,e),Pi(e,o)),o}(t,this.componentDef,f,h,[Os]),Ei(d,f,null)}finally{pe()}return new $a(this.componentType,p,Zo(m,f),f,m)}}class $a extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Ea(r),this.componentType=t}get injector(){return new Xe(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Ya=new Map;class Za extends Fa{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ha(this);const n=ut(t),r=t[W]||null;r&&Lo(r),this._bootstrapComponents=Er(n.bootstrap),this._r3Injector=gs(t,e,[{provide:Fa,useValue:this},{provide:$o,useValue:this.componentFactoryResolver}],l(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Ss.THROW_IF_NOT_FOUND,n=k.Default){return t===Ss||t===Fa||t===us?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Xa extends Ma{constructor(t){super(),this.moduleType=t,null!==ut(t)&&function(t){const e=new Set;!function t(n){const r=ut(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${l(e)} vs ${l(e.name)}`)}(i,Ya.get(i),n),Ya.set(i,n));const s=Er(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new Za(this.moduleType,t)}}function Ja(t,e,n){const r=Xt()+t,i=qt();return i[r]===li?Ms(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function tu(t,e,n,r){return ru(qt(),Xt(),t,e,n,r)}function eu(t,e,n,r,i){return iu(qt(),Xt(),t,e,n,r,i)}function nu(t,e){const n=t[e];return n===li?void 0:n}function ru(t,e,n,r,i,s){const o=e+n;return Ps(t,o,i)?Ms(t,o+1,s?r.call(s,i):r(i)):nu(t,o+1)}function iu(t,e,n,r,i,s,o){const a=e+n;return Ls(t,a,i,s)?Ms(t,a+2,o?r.call(o,i,s):r(i,s)):nu(t,a+2)}function su(t,e){const n=zt();let r;const i=t+ct;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new g("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=bt(r.type)),o=I(zs);try{const t=Fe(!1),e=s();return Fe(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,qt(),i,e),e}finally{I(o)}}function ou(t,e,n){const r=t+ct,i=qt(),s=Rt(i,r);return cu(i,uu(i,r)?ru(i,Xt(),e,s.transform,n,s):s.transform(n))}function au(t,e,n,r){const i=t+ct,s=qt(),o=Rt(s,i);return cu(s,uu(s,i)?iu(s,Xt(),e,o.transform,n,r,o):o.transform(n,r))}function uu(t,e){return t[1].data[e].pure}function cu(t,e){return Ns.isWrapped(e)&&(e=Ns.unwrap(e),t[Jt()]=li),e}const lu=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}};function hu(){return this._results[Rs()]()}class du{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Rs(),n=du.prototype;n[e]||(n[e]=hu)}get changes(){return this._changes||(this._changes=new lu)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=un(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class fu{constructor(t){this.queryList=t,this.matches=null}clone(){return new fu(this.queryList)}setDirty(){this.queryList.setDirty()}}class pu{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new pu(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Au(t,e).matches&&this.queries[e].setDirty()}}class mu{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class gu{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new gu(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class bu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new bu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,yu(e,i)),this.matchTNodeWithReadOption(t,e,We(e,t,i,!1,!1))}else n===Ia?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,We(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Jo||r===La||r===Ia&&4&e.type)this.addMatch(e.index,-2);else{const n=We(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function yu(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function vu(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Zo(t,e):4&t.type?ja(t,e):null}(e,t):-2===n?function(t,e,n){return n===Jo?Zo(e,t):n===Ia?ja(e,t):n===La?za(e,t):void 0}(t,e,r):$e(t,t[1],n,e)}function _u(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:vu(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function wu(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=_u(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=lt;t<o.length;t++){const e=o[t];e[17]===e[3]&&wu(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];wu(n[1],n,i,r)}}}}}return r}function Cu(t){const e=qt(),n=zt(),r=se();oe(r+1);const i=Au(n,r);if(t.dirty&&Ft(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?wu(n,e,r,[]):_u(n,e,i,r);t.reset(s,ta),t.notifyOnChanges()}return!0}return!1}function Eu(t,e,n){const r=zt();r.firstCreatePass&&(Du(r,new mu(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),xu(r,qt(),e)}function Su(t,e,n,r){const i=zt();if(i.firstCreatePass){const s=Ht();Du(i,new mu(e,n,r),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}xu(i,qt(),n)}function Ou(){return t=qt(),e=se(),t[19].queries[e].queryList;var t,e}function xu(t,e,n){const r=new du(4==(4&n));Ri(t,e,r,r.destroy),null===e[19]&&(e[19]=new pu),e[19].queries.push(new fu(r))}function Du(t,e,n){null===t.queries&&(t.queries=new gu),t.queries.track(new bu(e,n))}function Au(t,e){return t.queries.getByIndex(e)}function ku(t=k.Default){const e=xa(!0);if(null!=e||t&k.Optional)return e;v("ChangeDetectorRef")}const Tu=new sn("Application Initializer");let Iu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Yo,this.reject=Yo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Xs(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(En(Tu,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const Ru=new sn("AppId"),Nu={provide:Ru,useFactory:function(){return`${ju()}${ju()}${ju()}`},deps:[]};function ju(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Fu=new sn("Platform Initializer"),Mu=new sn("Platform ID"),Pu=new sn("appBootstrapListener");let Lu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const Vu=new sn("LocaleId"),Bu=new sn("DefaultCurrencyCode");class Uu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const qu=function(t){return new Xa(t)},zu=qu,Qu=function(t){return Promise.resolve(qu(t))},Hu=function(t){const e=qu(t),n=Er(ut(t).declarations).reduce((t,e)=>{const n=at(e);return n&&t.push(new Wa(n)),t},[]);return new Uu(e,n)},Gu=Hu,Ku=function(t){return Promise.resolve(Hu(t))};let Wu=(()=>{class t{constructor(){this.compileModuleSync=zu,this.compileModuleAsync=Qu,this.compileModuleAndAllComponentsSync=Gu,this.compileModuleAndAllComponentsAsync=Ku}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const $u=(()=>Promise.resolve(0))();function Yu(t){"undefined"==typeof Zone?$u.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Zu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new lu(!1),this.onMicrotaskEmpty=new lu(!1),this.onStable=new lu(!1),this.onError=new lu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=B.requestAnimationFrame,e=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(B,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,tc(t),Ju(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),tc(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return ec(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),nc(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return ec(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),nc(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,tc(t),Ju(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Zu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Xu,Yo,Yo);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Xu={};function Ju(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function tc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function ec(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function nc(t){t._nesting--,Ju(t)}class rc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new lu,this.onMicrotaskEmpty=new lu,this.onStable=new lu,this.onError=new lu}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let ic=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Zu.assertNotInAngularZone(),Yu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Yu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(En(Zu))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})(),sc=(()=>{class t{constructor(){this._applications=new Map,cc.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return cc.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();class oc{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function ac(t){cc=t}let uc,cc=new oc,lc=!0,hc=!1;function dc(){return hc=!0,lc}function fc(){if(hc)throw new Error("Cannot enable prod mode after platform setup.");lc=!1}const pc=new sn("AllowMultipleToken");class mc{constructor(t,e){this.name=t,this.token=e}}function gc(t,e,n=[]){const r=`Platform: ${e}`,i=new sn(r);return(e=[])=>{let s=bc();if(!s||s.injector.get(pc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ls,useValue:"platform"});!function(t){if(uc&&!uc.destroyed&&!uc.injector.get(pc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");uc=t.get(yc);const e=t.get(Fu,null);e&&e.forEach(t=>t())}(Ss.create({providers:t,name:r}))}return function(t){const e=bc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function bc(){return uc&&!uc.destroyed?uc:null}let yc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new rc:("zone.js"===t?void 0:t)||new Zu({enableLongStackTrace:dc(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:Zu,useValue:n}];return n.run(()=>{const e=Ss.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(_r,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});i.onDestroy(()=>{wc(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Xs(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(Iu);return t.runInitializers(),t.donePromise.then(()=>(Lo(i.injector.get(Vu,Mo)||Mo),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=vc({},e);return function(t,e,n){const r=new Xa(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(_c);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${l(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(En(Ss))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function vc(t,e){return Array.isArray(e)?e.reduce(vc,t):Object.assign(Object.assign({},t),e)}let _c=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),c=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Zu.assertNotInAngularZone(),Yu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Zu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(u,c.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Ko?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Fa),i=n.create(Ss.NULL,[],e||n.selector,r),s=i.location.nativeElement,o=i.injector.get(ic,null),a=o&&i.injector.get(sc);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),wc(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;wc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Pu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(En(Zu),En(Ss),En(_r),En($o),En(Iu))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function wc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Cc{}class Ec{}const Sc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Oc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Sc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>xc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>xc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(En(Wu),En(Ec,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function xc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Dc=function(t){return null},Ac=gc(null,"core",[{provide:Mu,useValue:"unknown"},{provide:yc,deps:[Ss]},{provide:sc,deps:[]},{provide:Lu,deps:[]}]),kc=[{provide:_c,useClass:_c,deps:[Zu,Ss,_r,$o,Iu]},{provide:Ka,deps:[Zu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Iu,useClass:Iu,deps:[[new An,Tu]]},{provide:Wu,useClass:Wu,deps:[]},Nu,{provide:ya,useFactory:function(){return Aa},deps:[]},{provide:_a,useFactory:function(){return ka},deps:[]},{provide:Vu,useFactory:function(t){return Lo(t=t||"undefined"!=typeof $localize&&$localize.locale||Mo),t},deps:[[new Dn(Vu),new An,new kn]]},{provide:Bu,useValue:"USD"}];let Tc=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(En(_c))},t.\u0275mod=nt({type:t}),t.\u0275inj=w({providers:kc}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mCNh:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("SpAZ");function i(...t){return s(t)}function s(t){return 0===t.length?r.a:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"a",function(){return a});var r=n("7o/Q"),i=n("WMd4");function s(t,e=0){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new u(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class u{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return f});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function d(t){s.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return _}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return s}),n.d(e,"g",function(){return a}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return f}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return u}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return d}),n.d(e,"o",function(){return m});var r=n("mrSG");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function d(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function f(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m(){return a().indexOf("MSAppHost/")>=0}var g=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,b.prototype.create),s}return Object(r.c)(e,t),e}(Error),b=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?y(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new g(i,a,r);return u},t}();function y(t,e){return t.replace(v,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var v=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new C(t,e);return n.subscribe.bind(n)}var C=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return x}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return y}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return b}),n.d(e,"f",function(){return S}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return g}),n.d(e,"j",function(){return C});var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(m.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),b=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},y=new u.r("angularfire2.app.options"),v=new u.r("angularfire2.app.nameOrConfig"),_=new u.Q("6.1.4");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&E("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const C=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(u.X)()&&"undefined"!=typeof console&&console[t](...e)};function S(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const O={provide:class{},useFactory:w,deps:[y,u.A,[new u.B,v]]};let x=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.P.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:y,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.Vb(u.C))},t.\u0275mod=u.Kb({type:t}),t.\u0275inj=u.Jb({providers:[O]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("7Hc7"),s=n("Y7HM");class o extends r.a{constructor(t,e=0,n=i.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(s.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.a)}static create(t,e=0,n=i.a){return new o(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(o.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new u(t,e))}}class u{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new o(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("EQ5u"),i=n("x+ZX"),s=n("XNiG");function o(){return new s.a}function a(){return t=>{return Object(i.a)()((e=o,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,r.b);return i.source=t,i.subjectFactory=n,i})(t));var e}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new o(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},z6cu:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(s,0,{error:t,subscriber:n}):e=>e.error(t))}function s({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";var r,i,s=n("mrSG"),o=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",c),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),m=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=d),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=d);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}s(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.3.1",INTERNAL:{registerComponent:s,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||d,!Object(o.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function s(s){var a=s.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===s.type?r[a]:null;if(n.set(a,s),"PUBLIC"===s.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==s.serviceProps&&Object(o.f)(u,s.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,s.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(s);return"PUBLIC"===s.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(m);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.f)(e,t)},createSubscribe:o.d,ErrorFactory:o.b,deepExtend:o.f}),e}(),b=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var _=g;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new b(t)},"PRIVATE")),t.registerVersion(h,"0.6.17",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function s(){return i}const o=new r.r("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.Vb)(l)}const c=new r.r("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(o))},t.\u0275prov=Object(r.Ib)({factory:d,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function d(){return new l(Object(r.Vb)(o))}function f(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:b,token:t,providedIn:"root"}),t})();function b(t){const e=Object(r.Vb)(o).location;return new v(Object(r.Vb)(a),e&&e.origin||"")}const y=new r.r("appBaseHref");let v=(()=>{class t extends g{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return f(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(a),r.Vb(y,8))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends g{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=f(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(a),r.Vb(y,8))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(E(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,E(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(g),r.Vb(a))},t.normalizeQueryParams=m,t.joinWithSlash=f,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Ib)({factory:C,token:t,providedIn:"root"}),t})();function C(){return new w(Object(r.Vb)(g),Object(r.Vb)(a))}function E(t){return t.replace(/\/index.html$/,"")}var S=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),O=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),x=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),D=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),A=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function k(t,e){return F(Object(r.lb)(t)[r.cb.DateFormat],e)}function T(t,e){return F(Object(r.lb)(t)[r.cb.TimeFormat],e)}function I(t,e){return F(Object(r.lb)(t)[r.cb.DateTimeFormat],e)}function R(t,e){const n=Object(r.lb)(t),i=n[r.cb.NumberSymbols][e];if(void 0===i){if(e===A.CurrencyDecimal)return n[r.cb.NumberSymbols][A.Decimal];if(e===A.CurrencyGroup)return n[r.cb.NumberSymbols][A.Group]}return i}const N=r.ob;function j(t){if(!t[r.cb.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[r.cb.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function F(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function M(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const P=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,L={},V=/((?:[^GyYMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var B=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),U=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),q=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function z(t,e,n,r){let i=function(t){if(nt(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[e,n=1,r=1]=t.split("-").map(t=>+t);return Q(e,n-1,r)}const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let n;if(n=t.match(P))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,a,u,c),e}(n)}const e=new Date(t);if(!nt(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=H(n,e)||e;let s,o=[];for(;e;){if(s=V.exec(e),!s){o.push(e);break}{o=o.concat(s.slice(1));const t=o.pop();if(!t)break;e=t}}let a=i.getTimezoneOffset();r&&(a=et(r,a),i=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(et(e,r)-r))}(i,r));let u="";return o.forEach(t=>{const e=function(t){if(tt[t])return tt[t];let e;switch(t){case"G":case"GG":case"GGG":e=$(q.Eras,x.Abbreviated);break;case"GGGG":e=$(q.Eras,x.Wide);break;case"GGGGG":e=$(q.Eras,x.Narrow);break;case"y":e=W(U.FullYear,1,0,!1,!0);break;case"yy":e=W(U.FullYear,2,0,!0,!0);break;case"yyy":e=W(U.FullYear,3,0,!1,!0);break;case"yyyy":e=W(U.FullYear,4,0,!1,!0);break;case"Y":e=J(1);break;case"YY":e=J(2,!0);break;case"YYY":e=J(3);break;case"YYYY":e=J(4);break;case"M":case"L":e=W(U.Month,1,1);break;case"MM":case"LL":e=W(U.Month,2,1);break;case"MMM":e=$(q.Months,x.Abbreviated);break;case"MMMM":e=$(q.Months,x.Wide);break;case"MMMMM":e=$(q.Months,x.Narrow);break;case"LLL":e=$(q.Months,x.Abbreviated,O.Standalone);break;case"LLLL":e=$(q.Months,x.Wide,O.Standalone);break;case"LLLLL":e=$(q.Months,x.Narrow,O.Standalone);break;case"w":e=X(1);break;case"ww":e=X(2);break;case"W":e=X(1,!0);break;case"d":e=W(U.Date,1);break;case"dd":e=W(U.Date,2);break;case"E":case"EE":case"EEE":e=$(q.Days,x.Abbreviated);break;case"EEEE":e=$(q.Days,x.Wide);break;case"EEEEE":e=$(q.Days,x.Narrow);break;case"EEEEEE":e=$(q.Days,x.Short);break;case"a":case"aa":case"aaa":e=$(q.DayPeriods,x.Abbreviated);break;case"aaaa":e=$(q.DayPeriods,x.Wide);break;case"aaaaa":e=$(q.DayPeriods,x.Narrow);break;case"b":case"bb":case"bbb":e=$(q.DayPeriods,x.Abbreviated,O.Standalone,!0);break;case"bbbb":e=$(q.DayPeriods,x.Wide,O.Standalone,!0);break;case"bbbbb":e=$(q.DayPeriods,x.Narrow,O.Standalone,!0);break;case"B":case"BB":case"BBB":e=$(q.DayPeriods,x.Abbreviated,O.Format,!0);break;case"BBBB":e=$(q.DayPeriods,x.Wide,O.Format,!0);break;case"BBBBB":e=$(q.DayPeriods,x.Narrow,O.Format,!0);break;case"h":e=W(U.Hours,1,-12);break;case"hh":e=W(U.Hours,2,-12);break;case"H":e=W(U.Hours,1);break;case"HH":e=W(U.Hours,2);break;case"m":e=W(U.Minutes,1);break;case"mm":e=W(U.Minutes,2);break;case"s":e=W(U.Seconds,1);break;case"ss":e=W(U.Seconds,2);break;case"S":e=W(U.FractionalSeconds,1);break;case"SS":e=W(U.FractionalSeconds,2);break;case"SSS":e=W(U.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Y(B.Short);break;case"ZZZZZ":e=Y(B.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Y(B.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Y(B.Long);break;default:return null}return tt[t]=e,e}(t);u+=e?e(i,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Q(t,e,n){const r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function H(t,e){const n=function(t){return Object(r.lb)(t)[r.cb.LocaleId]}(t);if(L[n]=L[n]||{},L[n][e])return L[n][e];let i="";switch(e){case"shortDate":i=k(t,D.Short);break;case"mediumDate":i=k(t,D.Medium);break;case"longDate":i=k(t,D.Long);break;case"fullDate":i=k(t,D.Full);break;case"shortTime":i=T(t,D.Short);break;case"mediumTime":i=T(t,D.Medium);break;case"longTime":i=T(t,D.Long);break;case"fullTime":i=T(t,D.Full);break;case"short":const e=H(t,"shortTime"),n=H(t,"shortDate");i=G(I(t,D.Short),[e,n]);break;case"medium":const r=H(t,"mediumTime"),s=H(t,"mediumDate");i=G(I(t,D.Medium),[r,s]);break;case"long":const o=H(t,"longTime"),a=H(t,"longDate");i=G(I(t,D.Long),[o,a]);break;case"full":const u=H(t,"fullTime"),c=H(t,"fullDate");i=G(I(t,D.Full),[u,c])}return i&&(L[n][e]=i),i}function G(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function K(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.substr(o.length-e)),s+o}function W(t,e,n=0,r=!1,i=!1){return function(s,o){let a=function(t,e){switch(t){case U.FullYear:return e.getFullYear();case U.Month:return e.getMonth();case U.Date:return e.getDate();case U.Hours:return e.getHours();case U.Minutes:return e.getMinutes();case U.Seconds:return e.getSeconds();case U.FractionalSeconds:return e.getMilliseconds();case U.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((n>0||a>-n)&&(a+=n),t===U.Hours)0===a&&-12===n&&(a=12);else if(t===U.FractionalSeconds)return u=e,K(a,3).substr(0,u);var u;const c=R(o,A.MinusSign);return K(a,e,c,r,i)}}function $(t,e,n=O.Format,i=!1){return function(s,o){return function(t,e,n,i,s,o){switch(n){case q.Months:return function(t,e,n){const i=Object(r.lb)(t),s=F([i[r.cb.MonthsFormat],i[r.cb.MonthsStandalone]],e);return F(s,n)}(e,s,i)[t.getMonth()];case q.Days:return function(t,e,n){const i=Object(r.lb)(t),s=F([i[r.cb.DaysFormat],i[r.cb.DaysStandalone]],e);return F(s,n)}(e,s,i)[t.getDay()];case q.DayPeriods:const a=t.getHours(),u=t.getMinutes();if(o){const t=function(t){const e=Object(r.lb)(t);return j(e),(e[r.cb.ExtraData][2]||[]).map(t=>"string"==typeof t?M(t):[M(t[0]),M(t[1])])}(e),n=function(t,e,n){const i=Object(r.lb)(t);j(i);const s=F([i[r.cb.ExtraData][0],i[r.cb.ExtraData][1]],e)||[];return F(s,n)||[]}(e,s,i),o=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,r=a>=e.hours&&u>=e.minutes,i=a<n.hours||a===n.hours&&u<n.minutes;if(e.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(t.hours===a&&t.minutes===u)return!0;return!1});if(-1!==o)return n[o]}return function(t,e,n){const i=Object(r.lb)(t),s=F([i[r.cb.DayPeriodsFormat],i[r.cb.DayPeriodsStandalone]],e);return F(s,n)}(e,s,i)[a<12?0:1];case q.Eras:return function(t,e){return F(Object(r.lb)(t)[r.cb.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(s,o,t,e,n,i)}}function Y(t){return function(e,n,r){const i=-1*r,s=R(n,A.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case B.Short:return(i>=0?"+":"")+K(o,2,s)+K(Math.abs(i%60),2,s);case B.ShortGMT:return"GMT"+(i>=0?"+":"")+K(o,1,s);case B.Long:return"GMT"+(i>=0?"+":"")+K(o,2,s)+":"+K(Math.abs(i%60),2,s);case B.Extended:return 0===r?"Z":(i>=0?"+":"")+K(o,2,s)+":"+K(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}function Z(t){return Q(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function X(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=Z(n),e=function(t){const e=Q(t,0,1).getDay();return Q(t,0,1+(e<=4?4:11)-e)}(t.getFullYear()),r=t.getTime()-e.getTime();i=1+Math.round(r/6048e5)}return K(i,t,R(r,A.MinusSign))}}function J(t,e=!1){return function(n,r){return K(Z(n).getFullYear(),t,R(r,A.MinusSign),e)}}const tt={};function et(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function nt(t){return t instanceof Date&&!isNaN(t.valueOf())}class rt{}let it=(()=>{class t extends rt{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(N(e||this.locale)(t)){case S.Zero:return"zero";case S.One:return"one";case S.Two:return"two";case S.Few:return"few";case S.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(r.v))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),st=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.rb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Object(r.xb)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.t),r.Mb(r.u),r.Mb(r.l),r.Mb(r.F))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class ot{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let at=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new ot(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new ut(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new ut(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.R),r.Mb(r.M),r.Mb(r.t))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class ut{constructor(t,e){this.record=t,this.view=e}}let ct=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new lt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ht("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ht("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.R),r.Mb(r.M))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class lt{constructor(){this.$implicit=null,this.ngIf=null}}function ht(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.xb)(e)}'.`)}function dt(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.xb)(t)}'`)}const ft=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g;let pt=(()=>{class t{transform(e){if(null==e)return null;if("string"!=typeof e)throw dt(t,e);return e.replace(ft,t=>t[0].toUpperCase()+t.substr(1).toLowerCase())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Lb({name:"titlecase",type:t,pure:!0}),t})(),mt=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",r,i){if(null==e||""===e||e!=e)return null;try{return z(e,n,i||this.locale,r)}catch(s){throw dt(t,s.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.v))},t.\u0275pipe=r.Lb({name:"date",type:t,pure:!0}),t})(),gt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[{provide:rt,useClass:it}]}),t})();function bt(t){return"browser"===t}function yt(t){return"server"===t}let vt=(()=>{class t{}return t.\u0275prov=Object(r.Ib)({token:t,providedIn:"root",factory:()=>new _t(Object(r.Vb)(o),window)}),t})();class _t{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=wt(this.window.history)||wt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function wt(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Ct extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new Ct,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=St||(St=document.querySelector("base"),St)?St.getAttribute("href"):null;return null==e?null:(n=e,Et||(Et=document.createElement("a")),Et.setAttribute("href",n),"/"===Et.pathname.charAt(0)?Et.pathname:"/"+Et.pathname);var n}resetBaseElement(){St=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let Et,St=null;const Ot=new r.r("TRANSITION_ID"),xt=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Ot,o,r.s],multi:!0}];class Dt{static init(){Object(r.Z)(new Dt)}addToWindow(t){r.qb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.qb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.qb.getAllAngularRootElements=()=>t.getAllRootElements(),r.qb.frameworkStabilizers||(r.qb.frameworkStabilizers=[]),r.qb.frameworkStabilizers.push(t=>{const e=r.qb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const At=new r.r("EventManagerPlugins");let kt=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(At),r.Vb(r.A))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class Tt{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let It=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Rt=(()=>{class t extends It{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(o))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const Nt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},jt=/%COMP%/g;function Ft(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Ft(t,i,n):(i=i.replace(jt,t),n.push(i))}return n}function Mt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Pt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Lt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.S.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Vt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.S.ShadowDom:return new Bt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Ft(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(kt),r.Vb(Rt),r.Vb(r.c))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class Lt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Nt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Nt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Nt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.H.DashCase|r.H.Important)?t.style.setProperty(e,n,i&r.H.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.H.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Mt(n)):this.eventManager.addEventListener(t,e,Mt(n))}}class Vt extends Lt{constructor(t,e,n,r){super(t),this.component=n;const i=Ft(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(jt,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(jt,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Bt extends Lt{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=Ft(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Ut=(()=>{class t extends Tt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(o))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const qt=["alt","control","meta","shift"],zt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Qt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ht={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Gt=(()=>{class t extends Tt{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(qt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Qt.hasOwnProperty(e)&&(e=Qt[e]))}return zt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),qt.forEach(r=>{r!=n&&(0,Ht[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(o))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const Kt=[{provide:r.C,useValue:"browser"},{provide:r.D,useValue:function(){Ct.makeCurrent(),Dt.init()},multi:!0},{provide:o,useFactory:function(){return Object(r.wb)(document),document},deps:[]}],Wt=Object(r.T)(r.Y,"browser",Kt),$t=[[],{provide:r.bb,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:At,useClass:Ut,multi:!0,deps:[o,r.A,r.C]},{provide:At,useClass:Gt,multi:!0,deps:[o]},[],{provide:Pt,useClass:Pt,deps:[kt,Rt,r.c]},{provide:r.G,useExisting:Pt},{provide:It,useExisting:Rt},{provide:Rt,useClass:Rt,deps:[o]},{provide:r.N,useClass:r.N,deps:[r.A]},{provide:kt,useClass:kt,deps:[At,r.A]},[]];let Yt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:Ot,useExisting:r.c},xt]}}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(t,12))},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:$t,imports:[gt,r.f]}),t})();"undefined"!=typeof window&&window;var Zt=n("Cfvw"),Xt=n("HDdC"),Jt=n("DH7j"),te=n("lJxs"),ee=n("XoHu");function ne(t,e){return new Xt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=Object(Zt.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&c||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}class re{}const ie=new r.r("NgValueAccessor"),se={provide:ie,useExisting:Object(r.V)(()=>ae),multi:!0},oe=new r.r("CompositionEventMode");let ae=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.F),r.Mb(r.l),r.Mb(oe,8))},t.\u0275dir=r.Hb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Yb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.Bb([se])]}),t})();function ue(t){return null==t||0===t.length}function ce(t){return null!=t&&"number"==typeof t.length}const le=new r.r("NgValidators"),he=new r.r("NgAsyncValidators"),de=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class fe{static min(t){return function(t){return e=>{if(ue(e.value)||ue(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(t)}static max(t){return function(t){return e=>{if(ue(e.value)||ue(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(t)}static required(t){return pe(t)}static requiredTrue(t){return function(t){return!0===t.value?null:{required:!0}}(t)}static email(t){return function(t){return ue(t.value)||de.test(t.value)?null:{email:!0}}(t)}static minLength(t){return function(t){return e=>ue(e.value)||!ce(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static maxLength(t){return function(t){return e=>ce(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static pattern(t){return function(t){if(!t)return me;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(ue(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return we(t)}static composeAsync(t){return Ee(t)}}function pe(t){return ue(t.value)?{required:!0}:null}function me(t){return null}function ge(t){return null!=t}function be(t){const e=Object(r.tb)(t)?Object(Zt.a)(t):t;return Object(r.sb)(e),e}function ye(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function ve(t,e){return e.map(e=>e(t))}function _e(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function we(t){if(!t)return null;const e=t.filter(ge);return 0==e.length?null:function(t){return ye(ve(t,e))}}function Ce(t){return null!=t?we(_e(t)):null}function Ee(t){if(!t)return null;const e=t.filter(ge);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(Jt.a)(e))return ne(e,null);if(Object(ee.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return ne(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return ne(t=1===t.length&&Object(Jt.a)(t[0])?t[0]:t,null).pipe(Object(te.a)(t=>e(...t)))}return ne(t,null)}(ve(t,e).map(be)).pipe(Object(te.a)(ye))}}function Se(t){return null!=t?Ee(_e(t)):null}function Oe(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function xe(t){return t._rawValidators}function De(t){return t._rawAsyncValidators}let Ae=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ce(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Se(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t}),t})(),ke=(()=>{class t extends Ae{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Te(e||t)},t.\u0275dir=r.Hb({type:t,features:[r.zb]}),t})();const Te=r.Tb(ke);class Ie extends Ae{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Re{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let Ne=(()=>{class t extends Re{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Ie,2))},t.\u0275dir=r.Hb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Eb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.zb]}),t})(),je=(()=>{class t extends Re{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(ke,10))},t.\u0275dir=r.Hb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Eb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.zb]}),t})();function Fe(t,e){Le(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Be(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Be(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Me(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Ve(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Pe(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Le(t,e,n){const r=xe(t);null!==e.validator?t.setValidators(Oe(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=De(t);if(null!==e.asyncValidator?t.setAsyncValidators(Oe(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();Pe(e._rawValidators,n),Pe(e._rawAsyncValidators,n)}}function Ve(t,e,n){let r=!1;if(null!==t){if(null!==e.validator){const n=xe(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.validator);i.length!==n.length&&(r=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const n=De(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.asyncValidator);i.length!==n.length&&(r=!0,t.setAsyncValidators(i))}}}if(n){const t=()=>{};Pe(e._rawValidators,t),Pe(e._rawAsyncValidators,t)}return r}function Be(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Ue(t,e){Le(t,e,!1)}function qe(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function ze(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Qe="VALID",He="INVALID",Ge="PENDING",Ke="DISABLED";function We(t){return(Xe(t)?t.validators:t)||null}function $e(t){return Array.isArray(t)?Ce(t):t||null}function Ye(t,e){return(Xe(e)?e.asyncValidators:t)||null}function Ze(t){return Array.isArray(t)?Se(t):t||null}function Xe(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Je{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=$e(this._rawValidators),this._composedAsyncValidatorFn=Ze(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Qe}get invalid(){return this.status===He}get pending(){return this.status==Ge}get disabled(){return this.status===Ke}get enabled(){return this.status!==Ke}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=$e(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Ze(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Ge,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ke,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Qe,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Qe&&this.status!==Ge||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ke:Qe}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Ge,this._hasOwnPendingAsyncValidator=!0;const e=be(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof en?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof nn&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?Ke:this.errors?He:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ge)?Ge:this._anyControlsHaveStatus(He)?He:Qe}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Xe(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class tn extends Je{constructor(t=null,e,n){super(We(e),Ye(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){ze(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){ze(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class en extends Je{constructor(t,e,n){super(We(e),Ye(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof tn?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class nn extends Je{constructor(t,e,n){super(We(e),Ye(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof tn?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const rn={provide:ke,useExisting:Object(r.V)(()=>on)},sn=(()=>Promise.resolve(null))();let on=(()=>{class t extends ke{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new en({},Ce(t),Se(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){sn.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Fe(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){sn.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),ze(this._directives,t)})}addFormGroup(t){sn.then(()=>{const e=this._findContainer(t.path),n=new en({});Ue(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){sn.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){sn.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,qe(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(le,10),r.Mb(he,10))},t.\u0275dir=r.Hb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.Yb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Bb([rn]),r.zb]}),t})(),an=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),un=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})();const cn=new r.r("NgModelWithFormControlWarning"),ln={provide:ke,useExisting:Object(r.V)(()=>hn)};let hn=(()=>{class t extends ke{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ve(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return Fe(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){Me(t.control||null,t,!1),ze(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,qe(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=t.control,n=this.form.get(t.path);e!==n&&(Me(e||null,t),n instanceof tn&&(Fe(n,t),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);Ue(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return Ve(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Le(this.form,this,!1),this._oldForm&&Ve(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(le,10),r.Mb(he,10))},t.\u0275dir=r.Hb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Yb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Bb([ln]),r.zb,r.Ab]}),t})();const dn={provide:Ie,useExisting:Object(r.V)(()=>fn)};let fn=(()=>{class t extends Ie{constructor(t,e,n,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===ae?n=t:Object.getPrototypeOf(t.constructor)===re?r=t:i=t}),i||r||n||null}(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return t=null==this.name?this.name:this.name.toString(),[...this._parent.path,t];var t}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(ke,13),r.Mb(le,10),r.Mb(he,10),r.Mb(ie,10),r.Mb(cn,8))},t.\u0275dir=r.Hb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.Bb([dn]),r.zb,r.Ab]}),t._ngModelWarningSentOnce=!1,t})();const pn={provide:ie,useExisting:Object(r.V)(()=>gn),multi:!0};function mn(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let gn=(()=>{class t extends re{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=mn(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.F),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Yb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.Bb([pn]),r.zb]}),t})(),bn=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(mn(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.F),r.Mb(gn,9))},t.\u0275dir=r.Hb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const yn={provide:ie,useExisting:Object(r.V)(()=>_n),multi:!0};function vn(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let _n=(()=>{class t extends re{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.F),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Yb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.Bb([yn]),r.zb]}),t})(),wn=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(vn(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(vn(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.F),r.Mb(_n,9))},t.\u0275dir=r.Hb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const Cn={provide:le,useExisting:Object(r.V)(()=>En),multi:!0};let En=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?pe(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Db("required",e.required?"":null)},inputs:{required:"required"},features:[r.Bb([Cn])]}),t})(),Sn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[un]]}),t})(),On=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:cn,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[Sn]}),t})();var xn=n("spgP"),Dn=n("D0XW"),An=n("LRne"),kn=n("bHdf");function Tn(...t){return Object(kn.a)(1)(Object(An.a)(...t))}var In=n("z+Ro");function Rn(...t){const e=t[t.length-1];return Object(In.a)(e)?(t.pop(),n=>Tn(t,n,e)):e=>Tn(t,e)}var Nn=n("7o/Q");function jn(){return t=>t.lift(new Fn)}class Fn{call(t,e){return e.subscribe(new Mn(t))}}class Mn extends Nn.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function Pn(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Ln(t,e,n))}}class Ln{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Vn(t,this.accumulator,this.seed,this.hasSeed))}}class Vn extends Nn.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Bn(t,e){return n=>n.lift(new Un(t,e))}class Un{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new qn(t,this.compare,this.keySelector))}}class qn extends Nn.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}function zn(t,e){return function(n){return n.lift(new Qn(t,e))}}class Qn{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Hn(t,this.predicate,this.thisArg))}}class Hn extends Nn.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}var Gn=n("pxpQ"),Kn=n("Jgta"),Wn=n("zIRd"),$n=n("q/0M"),Yn=n("qOnz"),Zn=function(t,e){return(Zn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Xn(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Jn,tr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},er=er||{},nr=tr||self;function rr(){}function ir(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function sr(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var or="closure_uid_"+(1e9*Math.random()>>>0),ar=0;function ur(t,e,n){return t.call.apply(t.bind,arguments)}function cr(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function lr(t,e,n){return(lr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ur:cr).apply(null,arguments)}function hr(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function dr(){return Date.now()}function fr(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function pr(){this.j=this.j,this.i=this.i}pr.prototype.j=!1,pr.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,or)&&t[or]||(t[or]=++ar)}(this)},pr.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var mr=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},gr=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function br(t){return Array.prototype.concat.apply([],arguments)}function yr(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function vr(t){return/^[\s\xa0]*$/.test(t)}var _r,wr=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Cr(t,e){return-1!=t.indexOf(e)}function Er(t,e){return t<e?-1:t>e?1:0}t:{var Sr=nr.navigator;if(Sr){var Or=Sr.userAgent;if(Or){_r=Or;break t}}_r=""}function xr(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Dr(t){var e={};for(var n in t)e[n]=t[n];return e}var Ar="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function kr(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<Ar.length;s++)n=Ar[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Tr(t){return Tr[" "](t),t}Tr[" "]=rr;var Ir,Rr,Nr=Cr(_r,"Opera"),jr=Cr(_r,"Trident")||Cr(_r,"MSIE"),Fr=Cr(_r,"Edge"),Mr=Fr||jr,Pr=Cr(_r,"Gecko")&&!(Cr(_r.toLowerCase(),"webkit")&&!Cr(_r,"Edge"))&&!(Cr(_r,"Trident")||Cr(_r,"MSIE"))&&!Cr(_r,"Edge"),Lr=Cr(_r.toLowerCase(),"webkit")&&!Cr(_r,"Edge");function Vr(){var t=nr.document;return t?t.documentMode:void 0}t:{var Br="",Ur=(Rr=_r,Pr?/rv:([^\);]+)(\)|;)/.exec(Rr):Fr?/Edge\/([\d\.]+)/.exec(Rr):jr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Rr):Lr?/WebKit\/(\S+)/.exec(Rr):Nr?/(?:Version)[ \/]?(\S+)/.exec(Rr):void 0);if(Ur&&(Br=Ur?Ur[1]:""),jr){var qr=Vr();if(null!=qr&&qr>parseFloat(Br)){Ir=String(qr);break t}}Ir=Br}var zr={};function Qr(t){return function(t,e){var n=zr;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=wr(String(Ir)).split("."),r=wr(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=Er(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Er(0==o[2].length,0==a[2].length)||Er(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var Hr=nr.document&&jr&&(Vr()||parseInt(Ir,10))||void 0,Gr=!jr||9<=Number(Hr),Kr=jr&&!Qr("9"),Wr=function(){if(!nr.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{nr.addEventListener("test",rr,e),nr.removeEventListener("test",rr,e)}catch(n){}return t}();function $r(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Yr(t,e){if($r.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Pr){t:{try{Tr(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Zr[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}$r.prototype.b=function(){this.defaultPrevented=!0},fr(Yr,$r);var Zr={2:"touch",3:"pen",4:"mouse"};Yr.prototype.b=function(){Yr.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Kr)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Xr="closure_listenable_"+(1e6*Math.random()|0),Jr=0;function ti(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Jr,this.Y=this.Z=!1}function ei(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ni(t){this.src=t,this.a={},this.b=0}function ri(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=mr(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(ei(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ii(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}ni.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=ii(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new ti(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var si="closure_lm_"+(1e6*Math.random()|0),oi={};function ai(t,e,n,r,i){if(r&&r.once)return ci(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)ai(t,e[s],n,r,i);return null}return n=bi(n),t&&t[Xr]?t.va(e,n,sr(r)?!!r.capture:!!r,i):ui(t,e,n,!1,r,i)}function ui(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=sr(i)?!!i.capture:!!i;if(o&&!Gr)return null;var a=mi(t);if(a||(t[si]=a=new ni(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=pi,e=Gr?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Wr||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(di(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function ci(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)ci(t,e[s],n,r,i);return null}return n=bi(n),t&&t[Xr]?t.wa(e,n,sr(r)?!!r.capture:!!r,i):ui(t,e,n,!0,r,i)}function li(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)li(t,e[s],n,r,i);else r=sr(r)?!!r.capture:!!r,n=bi(n),t&&t[Xr]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=ii(s=t.a[e],n,r,i))&&(ei(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=mi(t))&&(e=t.a[e.toString()],t=-1,e&&(t=ii(e,n,r,i)),(n=-1<t?e[t]:null)&&hi(n))}function hi(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Xr])ri(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(di(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=mi(e))?(ri(n,t),0==n.b&&(n.src=null,e[si]=null)):ei(t)}}}function di(t){return t in oi?oi[t]:oi[t]="on"+t}function fi(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&hi(t),n.call(r,e)}function pi(t,e){if(t.Y)return!0;if(!Gr){if(!e)t:{e=["window","event"];for(var n=nr,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return fi(t,e=new Yr(e,this))}return fi(t,new Yr(e,this))}function mi(t){return(t=t[si])instanceof ni?t:null}var gi="__closure_events_fn_"+(1e9*Math.random()>>>0);function bi(t){return"function"==typeof t?t:(t[gi]||(t[gi]=function(e){return t.handleEvent(e)}),t[gi])}function yi(){pr.call(this),this.c=new ni(this),this.J=this,this.C=null}function vi(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new $r(e,t);else if(e instanceof $r)e.target=e.target||t;else{var i=e;kr(e=new $r(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=_i(o,r,!0,e)&&i}if(i=_i(o=e.a=t,r,!0,e)&&i,i=_i(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=_i(o=e.a=n[s],r,!1,e)&&i}function _i(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,u=o.ca||o.src;o.Z&&ri(t.c,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}fr(yi,pr),yi.prototype[Xr]=!0,(Jn=yi.prototype).addEventListener=function(t,e,n,r){ai(this,t,e,n,r)},Jn.removeEventListener=function(t,e,n,r){li(this,t,e,n,r)},Jn.G=function(){if(yi.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ei(n[r]);delete e.a[t],e.b--}}this.C=null},Jn.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Jn.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var wi=nr.JSON.stringify;function Ci(){this.b=this.a=null}var Ei,Si=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new xi},function(t){t.reset()});function Oi(){var t=Ti,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function xi(){this.next=this.b=this.a=null}function Di(t){nr.setTimeout(function(){throw t},0)}function Ai(t,e){Ei||function(){var t=nr.Promise.resolve(void 0);Ei=function(){t.then(Ii)}}(),ki||(Ei(),ki=!0),Ti.add(t,e)}Ci.prototype.add=function(t,e){var n=Si.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},xi.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},xi.prototype.reset=function(){this.next=this.b=this.a=null};var ki=!1,Ti=new Ci;function Ii(){for(var t;t=Oi();){try{t.a.call(t.b)}catch(n){Di(n)}var e=Si;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}ki=!1}function Ri(t,e){yi.call(this),this.b=t||1,this.a=e||nr,this.f=lr(this.Za,this),this.g=dr()}function Ni(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function ji(t,e,n){if("function"==typeof t)n&&(t=lr(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=lr(t.handleEvent,t)}return 2147483647<Number(e)?-1:nr.setTimeout(t,e||0)}function Fi(t){t.a=ji(function(){t.a=null,t.c&&(t.c=!1,Fi(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}fr(Ri,yi),(Jn=Ri.prototype).aa=!1,Jn.M=null,Jn.Za=function(){if(this.aa){var t=dr()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),vi(this,"tick"),this.aa&&(Ni(this),this.start()))}},Jn.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=dr())},Jn.G=function(){Ri.X.G.call(this),Ni(this),delete this.a};var Mi=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Zn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Fi(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(nr.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(pr);function Pi(t){pr.call(this),this.b=t,this.a={}}fr(Pi,pr);var Li=[];function Vi(t,e,n,r){Array.isArray(n)||(n&&(Li[0]=n.toString()),n=Li);for(var i=0;i<n.length;i++){var s=ai(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function Bi(t){xr(t.a,function(t,e){this.a.hasOwnProperty(e)&&hi(t)},t),t.a={}}function Ui(){this.a=!0}function qi(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return wi(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Pi.prototype.G=function(){Pi.X.G.call(this),Bi(this)},Pi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ui.prototype.info=function(){};var zi={},Qi=null;function Hi(){return Qi=Qi||new yi}function Gi(t){$r.call(this,zi.Fa,t)}function Ki(t){var e=Hi();vi(e,new Gi(e,t))}function Wi(t,e){$r.call(this,zi.STAT_EVENT,t),this.stat=e}function $i(t){var e=Hi();vi(e,new Wi(e,t))}function Yi(t){$r.call(this,zi.Ga,t)}function Zi(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return nr.setTimeout(function(){t()},e)}zi.Fa="serverreachability",fr(Gi,$r),zi.STAT_EVENT="statevent",fr(Wi,$r),zi.Ga="timingevent",fr(Yi,$r);var Xi={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Ji={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function ts(){}function es(){}ts.prototype.a=null;var ns,rs={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function is(){$r.call(this,"d")}function ss(){$r.call(this,"c")}function os(){}function as(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Pi(this),this.P=us,this.R=new Ri(t=Mr?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}fr(is,$r),fr(ss,$r),fr(os,ts),ns=new os;var us=45e3,cs={},ls={};function hs(t,e,n){t.H=1,t.i=Ns(Ds(e)),t.j=n,t.I=!0,ds(t,null)}function ds(t,e){t.u=dr(),ms(t),t.l=Ds(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Gs(n.b,"t",r),t.D=0,t.a=Uo(t.g,t.g.C?e:null),0<t.O&&(t.F=new Mi(lr(t.Ca,t,t.a),t.O)),Vi(t.J,t.a,"readystatechange",t.Xa),e=t.B?Dr(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Ki(1),function(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.S,t.j)}function fs(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=ps(t,n);if(i==ls){4==e&&(t.h=4,$i(14),r=!1),qi(t.c,t.f,null,"[Incomplete Response]");break}if(i==cs){t.h=4,$i(15),qi(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}qi(t.c,t.f,i,null),_s(t,i)}4==e&&0==n.length&&(t.h=1,$i(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),No(e),e.F=!0,$i(11))):(qi(t.c,t.f,n,"[Invalid Chunked Response]"),vs(t),ys(t))}function ps(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?ls:(n=Number(e.substring(n,r)),isNaN(n)?cs:(r+=1)+n>e.length?ls:(e=e.substr(r,n),t.D=r+n,e))}function ms(t){t.T=dr()+t.P,gs(t,t.P)}function gs(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Zi(lr(t.Va,t),e)}function bs(t){t.o&&(nr.clearTimeout(t.o),t.o=null)}function ys(t){0==t.g.v||t.A||Mo(t.g,t)}function vs(t){bs(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Ni(t.R),Bi(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function _s(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Js(n.b,t)))if(n.I=t.N,!t.C&&Js(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Og){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Fo(n),So(n)}Ro(n),$i(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Zi(lr(n.Sa,n),6e3));if(1>=Xs(n.b)&&n.ea){try{n.ea()}catch(Og){}n.ea=void 0}}else Lo(n,11)}else if((t.C||n.a==t)&&Fo(n),!vr(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Cr(l,"spdy")||Cr(l,"quic")||Cr(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(to(h,h.b),h.b=null))}if(u.A){var d=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(u.na=d,Rs(u.B,u.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=dr()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((u=n).la=Bo(u,u.C?u.ga:null,u.fa),f.C){eo(u.b,f);var p=f,m=u.D;m&&p.setTimeout(m),p.o&&(bs(p),ms(p)),u.a=f}else Io(u);0<n.g.length&&Do(n)}else"stop"!=i[0]&&"close"!=i[0]||Lo(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Lo(n,7):Eo(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Ki(4)}catch(Og){}}function ws(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ir(t)||"string"==typeof t)gr(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(ir(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(ir(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Cs(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Cs)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Es(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ss(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ss(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ss(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Jn=as.prototype).setTimeout=function(t){this.P=t},Jn.Xa=function(t){t=t.target;var e=this.F;e&&3==vo(t)?e.f():this.Ca(t)},Jn.Ca=function(t){try{if(t==this.a)t:{var e=vo(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Mr&&!this.a.$())){this.A||4!=e||7==n||Ki(8==n||0>=r?3:2),bs(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vr(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.h=3,$i(12),vs(this),ys(this);break t}qi(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,_s(this,u)}this.I?(fs(this,e,s),Mr&&this.b&&3==e&&(Vi(this.J,this.R,"tick",this.Wa),this.R.start())):(qi(this.c,this.f,s,null),_s(this,s)),4==e&&vs(this),this.b&&!this.A&&(4==e?Mo(this.g,this):(this.b=!1,ms(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,$i(12)):(this.h=0,$i(13)),vs(this),ys(this)}}}catch(c){}},Jn.Wa=function(){if(this.a){var t=vo(this.a),e=this.a.$();this.D<e.length&&(bs(this),fs(this,t,e),this.b&&4!=t&&ms(this))}},Jn.cancel=function(){this.A=!0,vs(this)},Jn.Va=function(){this.o=null;var t=dr();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Ki(3),$i(17)),vs(this),this.h=2,ys(this)):gs(this,this.T-t)},(Jn=Cs.prototype).K=function(){Es(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Jn.L=function(){return Es(this),this.a.concat()},Jn.get=function(t,e){return Ss(this.b,t)?this.b[t]:e},Jn.set=function(t,e){Ss(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Jn.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var Os=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function xs(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof xs){this.a=void 0!==e?e:t.a,As(this,t.f),this.j=t.j,ks(this,t.c),Ts(this,t.h),this.g=t.g,e=t.b;var n=new qs;n.c=e.c,e.a&&(n.a=new Cs(e.a),n.b=e.b),Is(this,n),this.i=t.i}else t&&(n=String(t).match(Os))?(this.a=!!e,As(this,n[1]||"",!0),this.j=js(n[2]||""),ks(this,n[3]||"",!0),Ts(this,n[4]),this.g=js(n[5]||"",!0),Is(this,n[6]||"",!0),this.i=js(n[7]||"")):(this.a=!!e,this.b=new qs(null,this.a))}function Ds(t){return new xs(t)}function As(t,e,n){t.f=n?js(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function ks(t,e,n){t.c=n?js(e,!0):e}function Ts(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Is(t,e,n){e instanceof qs?(t.b=e,function(t,e){e&&!t.f&&(zs(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Qs(this,e),Gs(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Fs(e,Bs)),t.b=new qs(e,t.a))}function Rs(t,e,n){t.b.set(e,n)}function Ns(t){return Rs(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^dr()).toString(36)),t}function js(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Fs(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ms),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ms(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}xs.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Fs(e,Ps,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Fs(e,Ps,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Fs(n,"/"==n.charAt(0)?Vs:Ls,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Fs(n,Us)),t.join("")};var Ps=/[#\/\?@]/g,Ls=/[#\?:]/g,Vs=/[#\?]/g,Bs=/[#\?@]/g,Us=/#/g;function qs(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function zs(t){t.a||(t.a=new Cs,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Qs(t,e){zs(t),e=Ks(t,e),Ss(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ss((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Es(t)))}function Hs(t,e){return zs(t),e=Ks(t,e),Ss(t.a.b,e)}function Gs(t,e,n){Qs(t,e),0<n.length&&(t.c=null,t.a.set(Ks(t,e),yr(n)),t.b+=n.length)}function Ks(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Jn=qs.prototype).add=function(t,e){zs(this),this.c=null,t=Ks(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Jn.forEach=function(t,e){zs(this),this.a.forEach(function(n,r){gr(n,function(n){t.call(e,n,r,this)},this)},this)},Jn.L=function(){zs(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},Jn.K=function(t){zs(this);var e=[];if("string"==typeof t)Hs(this,t)&&(e=br(e,this.a.get(Ks(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=br(e,t[n])}return e},Jn.set=function(t,e){return zs(this),this.c=null,Hs(this,t=Ks(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Jn.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Jn.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var Ws=function(){return function(t,e){this.b=t,this.a=e}}();function $s(t){this.g=t||Ys,t=nr.PerformanceNavigationTiming?0<(t=nr.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(nr.ia&&nr.ia.ya&&nr.ia.ya()&&nr.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Ys=10;function Zs(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Xs(t){return t.b?1:t.a?t.a.size:0}function Js(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function to(t,e){t.a?t.a.add(e):t.b=e}function eo(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function no(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Xn(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return yr(t.c)}function ro(){}function io(){this.a=new ro}function so(t,e,n){var r=n||"";try{ws(t,function(t,n){var i=t;sr(t)&&(i=wi(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(db){throw e.push(r+"type="+encodeURIComponent("_badmap")),db}}function oo(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}$s.prototype.cancel=function(){var t,e;if(this.c=no(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Xn(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},ro.prototype.stringify=function(t){return nr.JSON.stringify(t,void 0)},ro.prototype.parse=function(t){return nr.JSON.parse(t,void 0)};var ao=nr.JSON.parse;function uo(t){yi.call(this),this.headers=new Cs,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=co,this.D=this.F=!1}fr(uo,yi);var co="",lo=/^https?$/i,ho=["POST","PUT"];function fo(t){return"content-type"==t.toLowerCase()}function po(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,mo(t),bo(t)}function mo(t){t.u||(t.u=!0,vi(t,"complete"),vi(t,"error"))}function go(t){if(t.b&&void 0!==er&&(!t.s[1]||4!=vo(t)||2!=t.W()))if(t.l&&4==vo(t))ji(t.za,0,t);else if(vi(t,"readystatechange"),4==vo(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(Os)[1]||null;if(!s&&nr.self&&nr.self.location){var o=nr.self.location.protocol;s=o.substr(0,o.length-1)}i=!lo.test(s?s.toLowerCase():"")}e=i}if(e)vi(t,"complete"),vi(t,"success");else{t.h=6;try{var a=2<vo(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",mo(t)}}finally{bo(t)}}}function bo(t,e){if(t.a){yo(t);var n=t.a,r=t.s[0]?rr:null;t.a=null,t.s=null,e||vi(t,"ready");try{n.onreadystatechange=r}catch(db){}}}function yo(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(nr.clearTimeout(t.m),t.m=null)}function vo(t){return t.a?t.a.readyState:0}function _o(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return xr(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Rs(t,e,n))}function wo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Co(t){this.pa=0,this.g=[],this.c=new Ui,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=wo("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=wo("baseRetryDelayMs",5e3,t),this.Ra=wo("retryDelaySeedMs",1e4,t),this.Ma=wo("forwardChannelMaxRetries",2,t),this.ma=wo("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new $s(t&&t.concurrentRequestLimit),this.ka=new io,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Eo(t){if(Oo(t),3==t.v){var e=t.R++,n=Ds(t.B);Rs(n,"SID",t.J),Rs(n,"RID",e),Rs(n,"TYPE","terminate"),ko(t,n),(e=new as(t,t.c,e,void 0)).H=2,e.i=Ns(Ds(n)),n=!1,nr.navigator&&nr.navigator.sendBeacon&&(n=nr.navigator.sendBeacon(e.i.toString(),"")),!n&&nr.Image&&((new Image).src=e.i,n=!0),n||(e.a=Uo(e.g,null),e.a.ba(e.i)),e.u=dr(),ms(e)}Vo(t)}function So(t){t.a&&(No(t),t.a.cancel(),t.a=null)}function Oo(t){So(t),t.j&&(nr.clearTimeout(t.j),t.j=null),Fo(t),t.b.cancel(),t.h&&("number"==typeof t.h&&nr.clearTimeout(t.h),t.h=null)}function xo(t,e){t.g.push(new Ws(t.Oa++,e)),3==t.v&&Do(t)}function Do(t){Zs(t.b)||t.h||(t.h=!0,Ai(t.Ba,t),t.u=0)}function Ao(t,e){var n;n=e?e.f:t.R++;var r=Ds(t.B);Rs(r,"SID",t.J),Rs(r,"RID",n),Rs(r,"AID",t.P),ko(t,r),t.i&&t.l&&_o(r,t.i,t.l),n=new as(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=To(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),to(t.b,n),hs(n,r,e)}function ko(t,e){t.f&&ws({},function(t,n){Rs(e,n,t)})}function To(t,e,n){n=Math.min(t.g.length,n);var r=t.f?lr(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=s))s=Math.max(0,i[u].b-100),a=!1;else try{so(l,o,"req"+c+"_")}catch(_a){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Io(t){t.a||t.j||(t.T=1,Ai(t.Aa,t),t.o=0)}function Ro(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Zi(lr(t.Aa,t),Po(t,t.o)),t.o++,0))}function No(t){null!=t.s&&(nr.clearTimeout(t.s),t.s=null)}function jo(t){t.a=new as(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Ds(t.la);Rs(e,"RID","rpc"),Rs(e,"SID",t.J),Rs(e,"CI",t.H?"0":"1"),Rs(e,"AID",t.P),ko(t,e),Rs(e,"TYPE","xmlhttp"),t.i&&t.l&&_o(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Ns(Ds(e)),n.j=null,n.I=!0,ds(n,t)}function Fo(t){null!=t.m&&(nr.clearTimeout(t.m),t.m=null)}function Mo(t,e){var n=null;if(t.a==e){Fo(t),No(t),t.a=null;var r=2}else{if(!Js(t.b,e))return;n=e.s,eo(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=dr()-e.u;var i=t.u;vi(r=Hi(),new Yi(r,n,e,i)),Do(t)}else Io(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Xs(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Zi(lr(t.Ba,t,e),Po(t,t.u)),t.u++,0)))}(t,e)||2==r&&Ro(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Lo(t,5);break;case 4:Lo(t,10);break;case 3:Lo(t,6);break;default:Lo(t,2)}}function Po(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Lo(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=lr(t.Ya,t);n||(n=new xs("//www.google.com/images/cleardot.gif"),nr.location&&"http"==nr.location.protocol||As(n,"https"),Ns(n)),function(t,e){var n=new Ui;if(nr.Image){var r=new Image;r.onload=hr(oo,n,r,"TestLoadImage: loaded",!0,e),r.onerror=hr(oo,n,r,"TestLoadImage: error",!1,e),r.onabort=hr(oo,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=hr(oo,n,r,"TestLoadImage: timeout",!1,e),nr.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else $i(2);t.v=0,t.f&&t.f.ra(e),Vo(t),Oo(t)}function Vo(t){t.v=0,t.I=-1,t.f&&(0==no(t.b).length&&0==t.g.length||(t.b.c.length=0,yr(t.g),t.g.length=0),t.f.qa())}function Bo(t,e,n){var r=function(t){return t instanceof xs?Ds(t):new xs(t,void 0)}(n);if(""!=r.c)e&&ks(r,e+"."+r.c),Ts(r,r.h);else{var i=nr.location;r=function(t,e,n,r){var i=new xs(null,void 0);return t&&As(i,t),e&&ks(i,e),n&&Ts(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&xr(t.V,function(t,e){Rs(r,e,t)}),n=t.na,(e=t.A)&&n&&Rs(r,e,n),Rs(r,"VER",t.ha),ko(t,r),r}function Uo(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new uo(t.Na)).F=t.C,e}function qo(){}function zo(){if(jr&&!(10<=Number(Hr)))throw Error("Environmental error: no available transport.")}function Qo(t,e){yi.call(this),this.a=new Co(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!vr(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!vr(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Ko(this)}function Ho(t){is.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Go(){ss.call(this),this.status=1}function Ko(t){this.a=t}(Jn=uo.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:ns),this.a.onreadystatechange=lr(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void po(this,s)}t=n||"";var i=new Cs(this.headers);r&&ws(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=fo,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=nr.FormData&&t instanceof nr.FormData,!(0<=mr(ho,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{yo(this),0<this.o&&((this.D=function(t){return jr&&Qr(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=lr(this.xa,this)):this.m=ji(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){po(this,s)}},Jn.xa=function(){void 0!==er&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,vi(this,"timeout"),this.abort(8))},Jn.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,vi(this,"complete"),vi(this,"abort"),bo(this))},Jn.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),bo(this,!0)),uo.X.G.call(this)},Jn.za=function(){this.j||(this.A||this.l||this.g?go(this):this.Ua())},Jn.Ua=function(){go(this)},Jn.W=function(){try{return 2<vo(this)?this.a.status:-1}catch(Rr){return-1}},Jn.$=function(){try{return this.a?this.a.responseText:""}catch(Rr){return""}},Jn.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),ao(e)}},Jn.ua=function(){return this.h},Jn.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Jn=Co.prototype).ha=8,Jn.v=1,Jn.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new as(this,this.c,t,void 0),r=this.l;if(this.O&&(r?kr(r=Dr(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=To(this,n,e),Rs(i=Ds(this.B),"RID",t),Rs(i,"CVER",22),this.A&&Rs(i,"X-HTTP-Session-Id",this.A),ko(this,i),this.i&&r&&_o(i,this.i,r),to(this.b,n),this.Ia&&Rs(i,"TYPE","init"),this.da?(Rs(i,"$req",e),Rs(i,"SID","null"),n.U=!0,hs(n,i,null)):hs(n,i,e),this.v=2}}else 3==this.v&&(t?Ao(this,t):0==this.g.length||Zs(this.b)||Ao(this))},Jn.Aa=function(){if(this.j=null,jo(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Zi(lr(this.Ta,this),t)}},Jn.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,$i(10),So(this),jo(this))},Jn.Sa=function(){null!=this.m&&(this.m=null,So(this),Ro(this),$i(19))},Jn.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),$i(2)):(this.c.info("Failed to ping google.com"),$i(1))},(Jn=qo.prototype).ta=function(){},Jn.sa=function(){},Jn.ra=function(){},Jn.qa=function(){},Jn.Ja=function(){},zo.prototype.a=function(t,e){return new Qo(t,e)},fr(Qo,yi),Qo.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;$i(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Bo(t,null,t.fa),Do(t)},Qo.prototype.close=function(){Eo(this.a)},Qo.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,xo(this.a,e)}else this.l?((e={}).__data__=wi(t),xo(this.a,e)):xo(this.a,t)},Qo.prototype.G=function(){this.a.f=null,delete this.f,Eo(this.a),delete this.a,Qo.X.G.call(this)},fr(Ho,is),fr(Go,ss),fr(Ko,qo),Ko.prototype.ta=function(){vi(this.a,"a")},Ko.prototype.sa=function(t){vi(this.a,new Ho(t))},Ko.prototype.ra=function(t){vi(this.a,new Go(t))},Ko.prototype.qa=function(){vi(this.a,"b")},zo.prototype.createWebChannel=zo.prototype.a,Qo.prototype.send=Qo.prototype.h,Qo.prototype.open=Qo.prototype.g,Qo.prototype.close=Qo.prototype.close,Xi.NO_ERROR=0,Xi.TIMEOUT=8,Xi.HTTP_ERROR=6,Ji.COMPLETE="complete",es.EventType=rs,rs.OPEN="a",rs.CLOSE="b",rs.ERROR="c",rs.MESSAGE="d",yi.prototype.listen=yi.prototype.va,uo.prototype.listenOnce=uo.prototype.wa,uo.prototype.getLastError=uo.prototype.Qa,uo.prototype.getLastErrorCode=uo.prototype.ua,uo.prototype.getStatus=uo.prototype.W,uo.prototype.getResponseJson=uo.prototype.Pa,uo.prototype.getResponseText=uo.prototype.$,uo.prototype.send=uo.prototype.ba;var Wo=Xi,$o=Ji,Yo=zi,Zo=es,Xo=uo,Jo=n("mrSG"),ta=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();ta.o=-1;var ea=new $n.b("@firebase/firestore");function na(){return ea.logLevel}function ra(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ea.logLevel<=$n.a.DEBUG){var r=e.map(oa);ea.debug.apply(ea,Object(Jo.f)(["Firestore (8.3.1): "+t],r))}}function ia(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ea.logLevel<=$n.a.ERROR){var r=e.map(oa);ea.error.apply(ea,Object(Jo.f)(["Firestore (8.3.1): "+t],r))}}function sa(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ea.logLevel<=$n.a.WARN){var r=e.map(oa);ea.warn.apply(ea,Object(Jo.f)(["Firestore (8.3.1): "+t],r))}}function oa(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(db){return t}}function aa(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.3.1) INTERNAL ASSERTION FAILED: "+t;throw ia(e),new Error(e)}function ua(t,e){t||aa()}function ca(t,e){return t}function la(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var ha=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=la(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function da(t,e){return t<e?-1:t>e?1:0}function fa(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function pa(t){return t+"\0"}function ma(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ga(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ba(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ya(t){return null==t}function va(t){return 0===t&&1/t==-1/0}function _a(t){return"number"==typeof t&&Number.isInteger(t)&&!va(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var wa={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ca=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Jo.c)(e,t),e}(Error),Ea=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&aa(),void 0===n?n=t.length-e:n>t.length-e&&aa(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Sa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Jo.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new Ca(wa.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Ea),Oa=/^[_a-zA-Z][_a-zA-Z0-9]*$/,xa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Jo.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Oa.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new Ca(wa.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Ca(wa.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Ca(wa.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Ca(wa.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Ea),Da=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Sa.fromString(e))},t.fromName=function(e){return new t(Sa.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Sa.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Sa.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Sa(e.slice()))},t}(),Aa=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return da(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Aa.EMPTY_BYTE_STRING=new Aa("");var ka=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ta(t){if(ua(!!t),"string"==typeof t){var e=0,n=ka.exec(t);if(ua(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ia(t.seconds),nanos:Ia(t.nanos)}}function Ia(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ra(t){return"string"==typeof t?Aa.fromBase64String(t):Aa.fromUint8Array(t)}var Na=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ca(wa.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ca(wa.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ca(wa.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ca(wa.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?da(this.nanoseconds,t.nanoseconds):da(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}();function ja(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Fa(t){var e=t.mapValue.fields.__previous_value__;return ja(e)?Fa(e):e}function Ma(t){var e=Ta(t.mapValue.fields.__local_write_time__.timestampValue);return new Na(e.seconds,e.nanos)}function Pa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ja(t)?4:10:aa()}function La(t,e){var n=Pa(t);if(n!==Pa(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ma(t).isEqual(Ma(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Ta(t.timestampValue),r=Ta(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Ra(t.bytesValue).isEqual(Ra(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Ia(t.geoPointValue.latitude)===Ia(e.geoPointValue.latitude)&&Ia(t.geoPointValue.longitude)===Ia(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Ia(t.integerValue)===Ia(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Ia(t.doubleValue),r=Ia(e.doubleValue);return n===r?va(n)===va(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return fa(t.arrayValue.values||[],e.arrayValue.values||[],La);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(ma(n)!==ma(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!La(n[i],r[i])))return!1;return!0}(t,e);default:return aa()}}function Va(t,e){return void 0!==(t.values||[]).find(function(t){return La(t,e)})}function Ba(t,e){var n=Pa(t),r=Pa(e);if(n!==r)return da(n,r);switch(n){case 0:return 0;case 1:return da(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Ia(t.integerValue||t.doubleValue),r=Ia(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Ua(t.timestampValue,e.timestampValue);case 4:return Ua(Ma(t),Ma(e));case 5:return da(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Ra(t),r=Ra(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=da(n[i],r[i]);if(0!==s)return s}return da(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=da(Ia(t.latitude),Ia(e.latitude));return 0!==n?n:da(Ia(t.longitude),Ia(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=Ba(n[i],r[i]);if(s)return s}return da(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=da(r[o],s[o]);if(0!==a)return a;var u=Ba(n[r[o]],i[s[o]]);if(0!==u)return u}return da(r.length,s.length)}(t.mapValue,e.mapValue);default:throw aa()}}function Ua(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return da(t,e);var n=Ta(t),r=Ta(e),i=da(n.seconds,r.seconds);return 0!==i?i:da(n.nanos,r.nanos)}function qa(t){return za(t)}function za(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Ta(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ra(t.bytesValue).toBase64():"referenceValue"in t?Da.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=za(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+za(t.fields[s])}return e+"}"}(t.mapValue):aa();var e}function Qa(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Ha(t){return!!t&&"integerValue"in t}function Ga(t){return!!t&&"arrayValue"in t}function Ka(t){return!!t&&"nullValue"in t}function Wa(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $a(t){return!!t&&"mapValue"in t}var Ya=function(t,e){this.key=t,this.version=e},Za=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).objectValue=r,s.hasLocalMutations=!!i.hasLocalMutations,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return Object(Jo.c)(e,t),e.prototype.field=function(t){return this.objectValue.field(t)},e.prototype.data=function(){return this.objectValue},e.prototype.toProto=function(){return this.objectValue.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations&&this.objectValue.isEqual(t.objectValue)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.objectValue.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Ya),Xa=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Jo.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Ya),Ja=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Jo.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Ya),tu=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.h=null};function eu(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new tu(t,e,n,r,i,s,o)}function nu(t){var e=ca(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+qa(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),ya(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=mu(e.startAt)),e.endAt&&(n+="|ub:",n+=mu(e.endAt)),e.h=n}return e.h}function ru(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!bu(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!La(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vu(t.startAt,e.startAt)&&vu(t.endAt,e.endAt)}function iu(t){return Da.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var su=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Jo.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new ou(t,n,r):"array-contains"===n?new lu(t,r):"in"===n?new hu(t,r):"not-in"===n?new du(t,r):"array-contains-any"===n?new fu(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new au(t,n):new uu(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.m(Ba(e,this.value)):null!==e&&Pa(this.value)===Pa(e)&&this.m(Ba(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return aa()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),ou=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Da.fromName(r.referenceValue),i}return Object(Jo.c)(e,t),e.prototype.matches=function(t){var e=Da.comparator(t.key,this.key);return this.m(e)},e}(su),au=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=cu(0,n),r}return Object(Jo.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(su),uu=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=cu(0,n),r}return Object(Jo.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(su);function cu(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Da.fromName(t.referenceValue)})}var lu=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Jo.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Ga(e)&&Va(e.arrayValue,this.value)},e}(su),hu=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Jo.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Va(this.value.arrayValue,e)},e}(su),du=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Jo.c)(e,t),e.prototype.matches=function(t){if(Va(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Va(this.value.arrayValue,e)},e}(su),fu=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Jo.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Ga(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Va(e.value.arrayValue,t)})},e}(su),pu=function(t,e){this.position=t,this.before=e};function mu(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return qa(t)}).join(",")}var gu=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function bu(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function yu(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.isKeyField()?Da.comparator(Da.fromName(o.referenceValue),n.key):Ba(o,n.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function vu(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!La(t.position[n],e.position[n]))return!1;return!0}var _u=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.p=null,this.T=null};function wu(t,e,n,r,i,s,o,a){return new _u(t,e,n,r,i,s,o,a)}function Cu(t){return new _u(t)}function Eu(t){return!ya(t.limit)&&"F"===t.limitType}function Su(t){return!ya(t.limit)&&"L"===t.limitType}function Ou(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function xu(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Du(t){return null!==t.collectionGroup}function Au(t){var e=ca(t);if(null===e.p){e.p=[];var n=xu(e),r=Ou(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new gu(n)),e.p.push(new gu(xa.keyField(),"asc"));else{for(var i=!1,s=0,o=e.explicitOrderBy;s<o.length;s++){var a=o[s];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new gu(xa.keyField(),u))}}}return e.p}function ku(t){var e=ca(t);if(!e.T)if("F"===e.limitType)e.T=eu(e.path,e.collectionGroup,Au(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Au(e);r<i.length;r++){var s=i[r];n.push(new gu(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new pu(e.endAt.position,!e.endAt.before):null,a=e.startAt?new pu(e.startAt.position,!e.startAt.before):null;e.T=eu(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.T}function Tu(t,e,n){return new _u(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Iu(t,e){return ru(ku(t),ku(e))&&t.limitType===e.limitType}function Ru(t){return nu(ku(t))+"|lt:"+t.limitType}function Nu(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+qa(e.value);var e}).join(", ")+"]"),ya(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+mu(t.startAt)),t.endAt&&(e+=", endAt: "+mu(t.endAt)),"Target("+e+")"}(ku(t))+"; limitType="+t.limitType+")"}function ju(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Da.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!yu(t.startAt,Au(t),e)||t.endAt&&yu(t.endAt,Au(t),e))}(t,e)}function Fu(t){return function(e,n){for(var r=!1,i=0,s=Au(t);i<s.length;i++){var o=s[i],a=Mu(o,e,n);if(0!==a)return a;r=r||o.field.isKeyField()}return 0}}function Mu(t,e,n){var r=t.field.isKeyField()?Da.comparator(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Ba(r,i):aa()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return aa()}}var Pu=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Na(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}(),Lu=function(){function t(t){this.fields=t,t.sort(xa.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return fa(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Vu=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!$a(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.isEqual=function(t){return La(this.proto,t.proto)},t}(),Bu=function(){function t(t){void 0===t&&(t=Vu.empty()),this.I=t,this.A=new Map}return t.prototype.set=function(t,e){return this.R(t,e),this},t.prototype.delete=function(t){return this.R(t,null),this},t.prototype.R=function(t,e){for(var n=this.A,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===Pa(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.lastSegment(),e)},t.prototype.v=function(){var t=this.P(xa.emptyPath(),this.A);return null!=t?new Vu(t):this.I},t.prototype.P=function(t,e){var n=this,r=!1,i=this.I.field(t),s=$a(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var o=n.P(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)}),r?{mapValue:{fields:s}}:null},t}();function Uu(t){var e=[];return ga(t.fields||{},function(t,n){var r=new xa([t]);if($a(n)){var i=Uu(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new Lu(e)}function qu(t,e){if(t.V){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:va(e)?"-0":e}}function zu(t){return{integerValue:""+t}}function Qu(t,e){return _a(e)?zu(e):qu(t,e)}var Hu=function(){this._=void 0};function Gu(t,e,n){return t instanceof $u?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Yu?Zu(t,e):t instanceof Xu?Ju(t,e):function(t,e){var n=Wu(t,e),r=ec(n)+ec(t.S);return Ha(n)&&Ha(t.S)?zu(r):qu(t.D,r)}(t,e)}function Ku(t,e,n){return t instanceof Yu?Zu(t,e):t instanceof Xu?Ju(t,e):n}function Wu(t,e){return t instanceof tc?Ha(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var $u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Jo.c)(e,t),e}(Hu),Yu=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Jo.c)(e,t),e}(Hu);function Zu(t,e){for(var n=nc(e),r=function(t){n.some(function(e){return La(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Xu=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Jo.c)(e,t),e}(Hu);function Ju(t,e){for(var n=nc(e),r=function(t){n=n.filter(function(e){return!La(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var tc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).D=e,r.S=n,r}return Object(Jo.c)(e,t),e}(Hu);function ec(t){return Ia(t.integerValue||t.doubleValue)}function nc(t){return Ga(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var rc=function(t,e){this.field=t,this.transform=e},ic=function(t,e){this.version=t,this.transformResults=e},sc=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function oc(t,e){return void 0!==t.updateTime?e instanceof Za&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Za}var ac=function(){};function uc(t,e,n){return t instanceof fc?function(t,e,n){var r=t.value,i=gc(t.fieldTransforms,e,n.transformResults);return r=yc(t.fieldTransforms,r,i),new Za(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof pc?function(t,e,n){if(!oc(t.precondition,e))return new Ja(t.key,n.version);var r=mc(t,e,gc(t.fieldTransforms,e,n.transformResults));return new Za(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Xa(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function cc(t,e,n){return t instanceof fc?function(t,e,n){if(!oc(t.precondition,e))return e;var r=t.value,i=bc(t.fieldTransforms,n,e);r=yc(t.fieldTransforms,r,i);var s=dc(e);return new Za(t.key,s,r,{hasLocalMutations:!0})}(t,e,n):t instanceof pc?function(t,e,n){if(!oc(t.precondition,e))return e;var r=dc(e),i=mc(t,e,bc(t.fieldTransforms,n,e));return new Za(t.key,r,i,{hasLocalMutations:!0})}(t,e,n):function(t,e){return oc(t.precondition,e)?new Xa(t.key,Pu.min()):e}(t,e)}function lc(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var s=i[r],o=e instanceof Za?e.field(s.field):void 0,a=Wu(s.transform,o||null);null!=a&&(n=null==n?(new Bu).set(s.field,a):n.set(s.field,a))}return n?n.v():null}(t.fieldTransforms,e)}function hc(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&fa(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Yu&&e instanceof Yu||t instanceof Xu&&e instanceof Xu?fa(t.elements,e.elements,La):t instanceof tc&&e instanceof tc?La(t.S,e.S):t instanceof $u&&e instanceof $u}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function dc(t){return t instanceof Za?t.version:Pu.min()}var fc=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.precondition=r,s.fieldTransforms=i,s.type=0,s}return Object(Jo.c)(e,t),e}(ac),pc=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.fieldTransforms=s,o.type=1,o}return Object(Jo.c)(e,t),e}(ac);function mc(t,e,n){var r;return r=function(t,e){var n=new Bu(e);return t.fieldMask.fields.forEach(function(e){if(!e.isEmpty()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.v()}(t,r=e instanceof Za?e.data():Vu.empty()),yc(t.fieldTransforms,r,n)}function gc(t,e,n){var r=[];ua(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=null;e instanceof Za&&(a=e.field(s.field)),r.push(Ku(o,a,n[i]))}return r}function bc(t,e,n){for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i],a=o.transform,u=null;n instanceof Za&&(u=n.field(o.field)),r.push(Gu(a,u,e))}return r}function yc(t,e,n){for(var r=new Bu(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.v()}var vc,_c,wc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(Jo.c)(e,t),e}(ac),Cc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(Jo.c)(e,t),e}(ac),Ec=function(t){this.count=t};function Sc(t){switch(t){case wa.OK:return aa();case wa.CANCELLED:case wa.UNKNOWN:case wa.DEADLINE_EXCEEDED:case wa.RESOURCE_EXHAUSTED:case wa.INTERNAL:case wa.UNAVAILABLE:case wa.UNAUTHENTICATED:return!1;case wa.INVALID_ARGUMENT:case wa.NOT_FOUND:case wa.ALREADY_EXISTS:case wa.PERMISSION_DENIED:case wa.FAILED_PRECONDITION:case wa.ABORTED:case wa.OUT_OF_RANGE:case wa.UNIMPLEMENTED:case wa.DATA_LOSS:return!0;default:return aa()}}function Oc(t){if(void 0===t)return ia("GRPC error has no .code"),wa.UNKNOWN;switch(t){case vc.OK:return wa.OK;case vc.CANCELLED:return wa.CANCELLED;case vc.UNKNOWN:return wa.UNKNOWN;case vc.DEADLINE_EXCEEDED:return wa.DEADLINE_EXCEEDED;case vc.RESOURCE_EXHAUSTED:return wa.RESOURCE_EXHAUSTED;case vc.INTERNAL:return wa.INTERNAL;case vc.UNAVAILABLE:return wa.UNAVAILABLE;case vc.UNAUTHENTICATED:return wa.UNAUTHENTICATED;case vc.INVALID_ARGUMENT:return wa.INVALID_ARGUMENT;case vc.NOT_FOUND:return wa.NOT_FOUND;case vc.ALREADY_EXISTS:return wa.ALREADY_EXISTS;case vc.PERMISSION_DENIED:return wa.PERMISSION_DENIED;case vc.FAILED_PRECONDITION:return wa.FAILED_PRECONDITION;case vc.ABORTED:return wa.ABORTED;case vc.OUT_OF_RANGE:return wa.OUT_OF_RANGE;case vc.UNIMPLEMENTED:return wa.UNIMPLEMENTED;case vc.DATA_LOSS:return wa.DATA_LOSS;default:return aa()}}(_c=vc||(vc={}))[_c.OK=0]="OK",_c[_c.CANCELLED=1]="CANCELLED",_c[_c.UNKNOWN=2]="UNKNOWN",_c[_c.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_c[_c.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_c[_c.NOT_FOUND=5]="NOT_FOUND",_c[_c.ALREADY_EXISTS=6]="ALREADY_EXISTS",_c[_c.PERMISSION_DENIED=7]="PERMISSION_DENIED",_c[_c.UNAUTHENTICATED=16]="UNAUTHENTICATED",_c[_c.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_c[_c.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_c[_c.ABORTED=10]="ABORTED",_c[_c.OUT_OF_RANGE=11]="OUT_OF_RANGE",_c[_c.UNIMPLEMENTED=12]="UNIMPLEMENTED",_c[_c.INTERNAL=13]="INTERNAL",_c[_c.UNAVAILABLE=14]="UNAVAILABLE",_c[_c.DATA_LOSS=15]="DATA_LOSS";var xc=function(){function t(t,e){this.comparator=t,this.root=e||Ac.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ac.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ac.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Dc(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Dc(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Dc(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Dc(this.root,t,this.comparator,!0)},t}(),Dc=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Ac=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw aa();if(this.right.isRed())throw aa();var t=this.left.check();if(t!==this.right.check())throw aa();return t+(this.isRed()?0:1)},t}();Ac.EMPTY=null,Ac.RED=!0,Ac.BLACK=!1,Ac.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw aa()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw aa()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw aa()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw aa()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw aa()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Ac(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var kc=function(){function t(t){this.comparator=t,this.data=new xc(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Tc(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Tc(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Tc=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Ic=new xc(Da.comparator);function Rc(){return Ic}function Nc(){return Rc()}var jc=new xc(Da.comparator);function Fc(){return jc}var Mc=new xc(Da.comparator);function Pc(){return Mc}var Lc=new kc(Da.comparator);function Vc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Lc,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var Bc=new kc(da);function Uc(){return Bc}var qc=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,zc.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Pu.min(),r,Uc(),Rc(),Vc())},t}(),zc=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Aa.EMPTY_BYTE_STRING,n,Vc(),Vc(),Vc())},t}(),Qc=function(t,e,n,r){this.C=t,this.removedTargetIds=e,this.key=n,this.N=r},Hc=function(t,e){this.targetId=t,this.$=e},Gc=function(t,e,n,r){void 0===n&&(n=Aa.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Kc=function(){function t(){this.F=0,this.O=Yc(),this.k=Aa.EMPTY_BYTE_STRING,this.M=!1,this.L=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.M},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.k},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"B",{get:function(){return 0!==this.F},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"q",{get:function(){return this.L},enumerable:!1,configurable:!0}),t.prototype.U=function(t){t.approximateByteSize()>0&&(this.L=!0,this.k=t)},t.prototype.K=function(){var t=Vc(),e=Vc(),n=Vc();return this.O.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:aa()}}),new zc(this.k,this.M,t,e,n)},t.prototype.W=function(){this.L=!1,this.O=Yc()},t.prototype.j=function(t,e){this.L=!0,this.O=this.O.insert(t,e)},t.prototype.G=function(t){this.L=!0,this.O=this.O.remove(t)},t.prototype.H=function(){this.F+=1},t.prototype.J=function(){this.F-=1},t.prototype.Y=function(){this.L=!0,this.M=!0},t}(),Wc=function(){function t(t){this.X=t,this.Z=new Map,this.tt=Rc(),this.et=$c(),this.nt=new kc(da)}return t.prototype.st=function(t){for(var e=0,n=t.C;e<n.length;e++){var r=n[e];t.N instanceof Za?this.it(r,t.N):t.N instanceof Xa&&this.rt(r,t.key,t.N)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.rt(r=s[i],t.key,t.N)},t.prototype.ot=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.ct(n);switch(t.state){case 0:e.at(n)&&r.U(t.resumeToken);break;case 1:r.J(),r.B||r.W(),r.U(t.resumeToken);break;case 2:r.J(),r.B||e.removeTarget(n);break;case 3:e.at(n)&&(r.Y(),r.U(t.resumeToken));break;case 4:e.at(n)&&(e.ut(n),r.U(t.resumeToken));break;default:aa()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Z.forEach(function(t,r){n.at(r)&&e(r)})},t.prototype.ht=function(t){var e=t.targetId,n=t.$.count,r=this.lt(e);if(r){var i=r.target;if(iu(i))if(0===n){var s=new Da(i.path);this.rt(e,s,new Xa(s,Pu.min()))}else ua(1===n);else this.ft(e)!==n&&(this.ut(e),this.nt=this.nt.add(e))}},t.prototype.dt=function(t){var e=this,n=new Map;this.Z.forEach(function(r,i){var s=e.lt(i);if(s){if(r.current&&iu(s.target)){var o=new Da(s.target.path);null!==e.tt.get(o)||e.wt(i,o)||e.rt(i,o,new Xa(o,t))}r.q&&(n.set(i,r.K()),r.W())}});var r=Vc();this.et.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.lt(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new qc(t,n,this.nt,this.tt,r);return this.tt=Rc(),this.et=$c(),this.nt=new kc(da),i},t.prototype.it=function(t,e){if(this.at(t)){var n=this.wt(t,e.key)?2:0;this.ct(t).j(e.key,n),this.tt=this.tt.insert(e.key,e),this.et=this.et.insert(e.key,this._t(e.key).add(t))}},t.prototype.rt=function(t,e,n){if(this.at(t)){var r=this.ct(t);this.wt(t,e)?r.j(e,1):r.G(e),this.et=this.et.insert(e,this._t(e).delete(t)),n&&(this.tt=this.tt.insert(e,n))}},t.prototype.removeTarget=function(t){this.Z.delete(t)},t.prototype.ft=function(t){var e=this.ct(t).K();return this.X.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.H=function(t){this.ct(t).H()},t.prototype.ct=function(t){var e=this.Z.get(t);return e||(e=new Kc,this.Z.set(t,e)),e},t.prototype._t=function(t){var e=this.et.get(t);return e||(e=new kc(da),this.et=this.et.insert(t,e)),e},t.prototype.at=function(t){var e=null!==this.lt(t);return e||ra("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.lt=function(t){var e=this.Z.get(t);return e&&e.B?null:this.X.yt(t)},t.prototype.ut=function(t){var e=this;this.Z.set(t,new Kc),this.X.getRemoteKeysForTarget(t).forEach(function(n){e.rt(t,n,null)})},t.prototype.wt=function(t,e){return this.X.getRemoteKeysForTarget(t).has(e)},t}();function $c(){return new xc(Da.comparator)}function Yc(){return new xc(Da.comparator)}var Zc={asc:"ASCENDING",desc:"DESCENDING"},Xc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jc=function(t,e){this.databaseId=t,this.V=e};function tl(t,e){return t.V?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function el(t,e){return t.V?e.toBase64():e.toUint8Array()}function nl(t,e){return tl(t,e.toTimestamp())}function rl(t){return ua(!!t),Pu.fromTimestamp(function(t){var e=Ta(t);return new Na(e.seconds,e.nanos)}(t))}function il(t,e){return function(t){return new Sa(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function sl(t){var e=Sa.fromString(t);return ua(kl(e)),e}function ol(t,e){return il(t.databaseId,e.path)}function al(t,e){var n=sl(e);if(n.get(1)!==t.databaseId.projectId)throw new Ca(wa.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ca(wa.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Da(hl(n))}function ul(t,e){return il(t.databaseId,e)}function cl(t){var e=sl(t);return 4===e.length?Sa.emptyPath():hl(e)}function ll(t){return new Sa(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function hl(t){return ua(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function dl(t,e,n){return{name:ol(t,e),fields:n.proto.mapValue.fields}}function fl(t,e,n){var r=al(t,e.name),i=rl(e.updateTime),s=new Vu({mapValue:{fields:e.fields}});return new Za(r,i,s,{hasCommittedMutations:!!n})}function pl(t,e){var n;if(e instanceof fc)n={update:dl(t,e.key,e.value)};else if(e instanceof wc)n={delete:ol(t,e.key)};else if(e instanceof pc)n={update:dl(t,e.key,e.data),updateMask:Al(e.fieldMask)};else{if(!(e instanceof Cc))return aa();n={verify:ol(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof $u)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Yu)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Xu)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof tc)return{fieldPath:e.field.canonicalString(),increment:n.S};throw aa()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:nl(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:aa()}(t,e.precondition)),n}function ml(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?sc.updateTime(rl(t.updateTime)):void 0!==t.exists?sc.exists(t.exists):sc.none()}(e.currentDocument):sc.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(ua("REQUEST_TIME"===e.setToServerValue),n=new $u):"appendMissingElements"in e?n=new Yu(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Xu(e.removeAllFromArray.values||[]):"increment"in e?n=new tc(t,e.increment):aa();var r=xa.fromServerFormat(e.fieldPath);return new rc(r,n)}(t,e)}):[];if(e.update){var i=al(t,e.update.name),s=new Vu({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new Lu((t.fieldPaths||[]).map(function(t){return xa.fromServerFormat(t)}))}(e.updateMask);return new pc(i,s,o,n,r)}return new fc(i,s,n,r)}if(e.delete){var a=al(t,e.delete);return new wc(a,n)}if(e.verify){var u=al(t,e.verify);return new Cc(u,n)}return aa()}function gl(t,e){return{documents:[ul(t,e.path)]}}function bl(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=ul(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ul(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Wa(t.value))return{unaryFilter:{field:Sl(t.field),op:"IS_NAN"}};if(Ka(t.value))return{unaryFilter:{field:Sl(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Wa(t.value))return{unaryFilter:{field:Sl(t.field),op:"IS_NOT_NAN"}};if(Ka(t.value))return{unaryFilter:{field:Sl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sl(t.field),op:El(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Sl(t.field),direction:Cl(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.V||ya(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=_l(e.startAt)),e.endAt&&(n.structuredQuery.endAt=_l(e.endAt)),n}function yl(t){var e=cl(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ua(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=vl(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new gu(Ol(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return ya(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=wl(n.startAt));var l=null;return n.endAt&&(l=wl(n.endAt)),wu(e,i,a,o,u,"F",c,l)}function vl(t){return t?void 0!==t.unaryFilter?[Dl(t)]:void 0!==t.fieldFilter?[xl(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return vl(t)}).reduce(function(t,e){return t.concat(e)}):aa():[]}function _l(t){return{before:t.before,values:t.position}}function wl(t){return new pu(t.values||[],!!t.before)}function Cl(t){return Zc[t]}function El(t){return Xc[t]}function Sl(t){return{fieldPath:t.canonicalString()}}function Ol(t){return xa.fromServerFormat(t.fieldPath)}function xl(t){return su.create(Ol(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return aa()}}(t.fieldFilter.op),t.fieldFilter.value)}function Dl(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Ol(t.unaryFilter.field);return su.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Ol(t.unaryFilter.field);return su.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ol(t.unaryFilter.field);return su.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ol(t.unaryFilter.field);return su.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return aa()}}function Al(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function kl(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Tl(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Rl(e)),e=Il(t.get(n),e);return Rl(e)}function Il(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function Rl(t){return t+"\x01\x01"}function Nl(t){var e=t.length;if(ua(e>=2),2===e)return ua("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Sa.emptyPath();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&aa(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:aa()}s=o+2}return new Sa(r)}var jl=function(t,e){this.seconds=t,this.nanoseconds=e},Fl=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Fl.store="owner",Fl.key="owner";var Ml=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Ml.store="mutationQueues",Ml.keyPath="userId";var Pl=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Pl.store="mutations",Pl.keyPath="batchId",Pl.userMutationsIndex="userMutationsIndex",Pl.userMutationsKeyPath=["userId","batchId"];var Ll=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Tl(e)]},t.key=function(t,e,n){return[t,Tl(e),n]},t}();Ll.store="documentMutations",Ll.PLACEHOLDER=new Ll;var Vl=function(t,e){this.path=t,this.readTime=e},Bl=function(t,e){this.path=t,this.version=e},Ul=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};Ul.store="remoteDocuments",Ul.readTimeIndex="readTimeIndex",Ul.readTimeIndexPath="readTime",Ul.collectionReadTimeIndex="collectionReadTimeIndex",Ul.collectionReadTimeIndexPath=["parentPath","readTime"];var ql=function(t){this.byteSize=t};ql.store="remoteDocumentGlobal",ql.key="remoteDocumentGlobalKey";var zl=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};zl.store="targets",zl.keyPath="targetId",zl.queryTargetsIndexName="queryTargetsIndex",zl.queryTargetsKeyPath=["canonicalId","targetId"];var Ql=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Ql.store="targetDocuments",Ql.keyPath=["targetId","path"],Ql.documentTargetsIndex="documentTargetsIndex",Ql.documentTargetsKeyPath=["path","targetId"];var Hl=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Hl.key="targetGlobalKey",Hl.store="targetGlobal";var Gl=function(t,e){this.collectionId=t,this.parent=e};Gl.store="collectionParents",Gl.keyPath=["collectionId","parent"];var Kl=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Kl.store="clientMetadata",Kl.keyPath="clientId";var Wl=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Wl.store="bundles",Wl.keyPath="bundleId";var $l=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};$l.store="namedQueries",$l.keyPath="name";var Yl=Object(Jo.f)(Object(Jo.f)([],Object(Jo.f)(Object(Jo.f)([],Object(Jo.f)(Object(Jo.f)([],Object(Jo.f)(Object(Jo.f)([],[Ml.store,Pl.store,Ll.store,Ul.store,zl.store,Fl.store,Hl.store,Ql.store]),[Kl.store])),[ql.store])),[Gl.store])),[Wl.store,$l.store]),Zl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Xl=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Jl=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},th=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&aa(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),eh=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.gt=new Jl,this.transaction.oncomplete=function(){n.gt.resolve()},this.transaction.onabort=function(){e.error?n.gt.reject(new ih(t,e.error)):n.gt.resolve()},this.transaction.onerror=function(e){var r=ch(e.target.error);n.gt.reject(new ih(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new ih(n,e)}},Object.defineProperty(t.prototype,"Et",{get:function(){return this.gt.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.gt.reject(t),this.aborted||(ra("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new oh(e)},t}(),nh=function(){function t(e,n,r){this.name=e,this.version=n,this.Tt=r,12.2===t.It(Object(Yn.g)())&&ia("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return ra("SimpleDb","Removing database:",t),ah(window.indexedDB.deleteDatabase(t)).toPromise()},t.At=function(){if("undefined"==typeof indexedDB)return!1;if(t.Rt())return!0;var e=Object(Yn.g)(),n=t.It(e),r=0<n&&n<10,i=t.bt(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.Rt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.vt)},t.Pt=function(t,e){return t.store(e)},t.It=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.bt=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Vt=function(t){return Object(Jo.b)(this,void 0,void 0,function(){var e,n=this;return Object(Jo.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(ra("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new ih(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Ca(wa.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new ih(t,n))},i.onupgradeneeded=function(t){ra("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Tt.St(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){ra("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Dt&&(this.db.onversionchange=function(t){return n.Dt(t)}),this.db)]}})})},t.prototype.Ct=function(t){this.Dt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Jo.b)(this,void 0,void 0,function(){var i,s,o,a,u;return Object(Jo.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,u,c,l;return Object(Jo.d)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Vt(t)];case 2:return a.db=h.sent(),e=eh.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),th.reject(t)}).toPromise(),u={},o.catch(function(){}),[4,e.Et];case 3:return[2,(u.value=(h.sent(),o),u)];case 4:return ra("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),rh=function(){function t(t){this.xt=t,this.Nt=!1,this.$t=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Nt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ft",{get:function(){return this.$t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.xt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Nt=!0},t.prototype.Ot=function(t){this.$t=t},t.prototype.delete=function(){return ah(this.xt.delete())},t}(),ih=function(t){function e(e,n){var r=this;return(r=t.call(this,wa.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Jo.c)(e,t),e}(Ca);function sh(t){return"IndexedDbTransactionError"===t.name}var oh=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(ra("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(ra("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),ah(n)},t.prototype.add=function(t){return ra("SimpleDb","ADD",this.store.name,t,t),ah(this.store.add(t))},t.prototype.get=function(t){var e=this;return ah(this.store.get(t)).next(function(n){return void 0===n&&(n=null),ra("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return ra("SimpleDb","DELETE",this.store.name,t),ah(this.store.delete(t))},t.prototype.count=function(){return ra("SimpleDb","COUNT",this.store.name),ah(this.store.count())},t.prototype.kt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Mt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Lt=function(t,e){ra("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Bt=!1;var r=this.cursor(n);return this.Mt(r,function(t,e,n){return n.delete()})},t.prototype.qt=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Mt(r,e)},t.prototype.Ut=function(t){var e=this.cursor({});return new th(function(n,r){e.onerror=function(t){var e=ch(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.Mt=function(t,e){var n=[];return new th(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new rh(i),o=e(i.primaryKey,i.value,s);if(o instanceof th){var a=o.catch(function(t){return s.done(),th.reject(t)});n.push(a)}s.isDone?r():null===s.Ft?i.continue():i.continue(s.Ft)}else r()}}).next(function(){return th.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Bt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function ah(t){return new th(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=ch(t.target.error);n(e)}})}var uh=!1;function ch(t){var e=nh.It(Object(Yn.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Ca("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return uh||(uh=!0,setTimeout(function(){throw r},0)),r}}return t}var lh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.currentSequenceNumber=n,r}return Object(Jo.c)(e,t),e}(Xl);function hh(t,e){var n=ca(t);return nh.Pt(n.Qt,e)}var dh=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=uc(s,e,r[i]))}return e},t.prototype.applyToLocalView=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(o=r[n]).key.isEqual(t)&&(e=cc(o,e,this.localWriteTime));for(var i=0,s=this.mutations;i<s.length;i++){var o;(o=s[i]).key.isEqual(t)&&(e=cc(o,e,this.localWriteTime))}return e},t.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.applyToLocalView(r.key,t.get(r.key));i&&(n=n.insert(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Vc())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&fa(this.mutations,t.mutations,function(t,e){return hc(t,e)})&&fa(this.baseMutations,t.baseMutations,function(t,e){return hc(t,e)})},t}(),fh=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){ua(e.mutations.length===r.length);for(var i=Pc(),s=e.mutations,o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),ph=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=Pu.min()),void 0===s&&(s=Pu.min()),void 0===o&&(o=Aa.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),mh=function(t){this.Kt=t};function gh(t,e){if(e.document)return fl(t.Kt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Da.fromSegments(e.noDocument.path),r=wh(e.noDocument.readTime);return new Xa(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Da.fromSegments(e.unknownDocument.path);return r=wh(e.unknownDocument.version),new Ja(i,r)}return aa()}function bh(t,e,n){var r=yh(n),i=e.key.path.popLast().toArray();if(e instanceof Za){var s=function(t,e){return{name:ol(t,e.key),fields:e.toProto().mapValue.fields,updateTime:tl(t,e.version.toTimestamp())}}(t.Kt,e),o=e.hasCommittedMutations;return new Ul(null,null,s,o,r,i)}if(e instanceof Xa){var a=e.key.path.toArray(),u=_h(e.version);return o=e.hasCommittedMutations,new Ul(null,new Vl(a,u),null,o,r,i)}if(e instanceof Ja){var c=e.key.path.toArray(),l=_h(e.version);return new Ul(new Bl(c,l),null,null,!0,r,i)}return aa()}function yh(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function vh(t){var e=new Na(t[0],t[1]);return Pu.fromTimestamp(e)}function _h(t){var e=t.toTimestamp();return new jl(e.seconds,e.nanoseconds)}function wh(t){var e=new Na(t.seconds,t.nanoseconds);return Pu.fromTimestamp(e)}function Ch(t,e){for(var n=(e.baseMutations||[]).map(function(e){return ml(t.Kt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return ml(t.Kt,e)}),s=Na.fromMillis(e.localWriteTimeMs);return new dh(e.batchId,s,n,i)}function Eh(t){var e,n,r=wh(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?wh(t.lastLimboFreeSnapshotVersion):Pu.min();return void 0!==t.query.documents?(ua(1===(n=t.query).documents.length),e=ku(Cu(cl(n.documents[0])))):e=function(t){return ku(yl(t))}(t.query),new ph(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Aa.fromBase64String(t.resumeToken))}function Sh(t,e){var n,r=_h(e.snapshotVersion),i=_h(e.lastLimboFreeSnapshotVersion);n=iu(e.target)?gl(t.Kt,e.target):bl(t.Kt,e.target);var s=e.resumeToken.toBase64();return new zl(e.targetId,nu(e.target),r,s,e.sequenceNumber,i,n)}function Oh(t){var e=yl({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Tu(e,e.limit,"L"):e}var xh=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Dh(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:wh(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return Dh(t).put({bundleId:(n=e).id,createTime:_h(rl(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Ah(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Oh(e.bundledQuery),readTime:wh(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return Ah(t).put(function(t){return{name:t.name,readTime:_h(rl(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Dh(t){return hh(t,Wl.store)}function Ah(t){return hh(t,$l.store)}var kh=function(){function t(){this.Wt=new Th}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Wt.add(e),th.resolve()},t.prototype.getCollectionParents=function(t,e){return th.resolve(this.Wt.getEntries(e))},t}(),Th=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new kc(Sa.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new kc(Sa.comparator)).toArray()},t}(),Ih=function(){function t(){this.jt=new Th}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.jt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.jt.add(e)});var s={collectionId:r,parent:Tl(i)};return Rh(t).put(s)}return th.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[pa(e),""],!1,!0);return Rh(t).kt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(Nl(s.parent))}return n})},t}();function Rh(t){return hh(t,Gl.store)}var Nh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jh=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Fh(t,e,n){var r=t.store(Pl.store),i=t.store(Ll.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.qt({range:o},function(t,e,n){return a++,n.delete()});s.push(u.next(function(){ua(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=Ll.key(e,d.key.path,n.batchId);s.push(i.delete(f)),c.push(d.key)}return th.waitFor(s).next(function(){return c})}function Mh(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw aa();e=t.noDocument}return JSON.stringify(e).length}jh.DEFAULT_COLLECTION_PERCENTILE=10,jh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jh.DEFAULT=new jh(41943040,jh.DEFAULT_COLLECTION_PERCENTILE,jh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jh.DISABLED=new jh(-1,0,0);var Ph=function(){function t(t,e,n,r){this.userId=t,this.D=e,this.Gt=n,this.referenceDelegate=r,this.zt={}}return t.Ht=function(e,n,r,i){return ua(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vh(t).qt({index:Pl.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,s=Bh(t),o=Vh(t);return o.add({}).next(function(a){ua("number"==typeof a);for(var u=new dh(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return pl(t.Kt,e)}),i=n.mutations.map(function(e){return pl(t.Kt,e)});return new Pl(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.D,i.userId,u),l=[],h=new kc(function(t,e){return da(t.canonicalString(),e.canonicalString())}),d=0,f=r;d<f.length;d++){var p=f[d],m=Ll.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(o.put(c)),l.push(s.put(m,Ll.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Gt.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.zt[a]=u.keys()}),th.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Vh(t).get(e).next(function(t){return t?(ua(t.userId===n.userId),Ch(n.D,t)):null})},t.prototype.Jt=function(t,e){var n=this;return this.zt[e]?th.resolve(this.zt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.zt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Vh(t).qt({index:Pl.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(ua(e.batchId>=r),s=Ch(n.D,e)),i.done()}).next(function(){return s})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Vh(t).qt({index:Pl.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vh(t).kt(Pl.userMutationsIndex,n).next(function(t){return t.map(function(t){return Ch(e.D,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Ll.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return Bh(t).qt({range:i},function(r,i,o){var a=r[0],u=r[2],c=Nl(r[1]);if(a===n.userId&&e.path.isEqual(c))return Vh(t).get(u).next(function(t){if(!t)throw aa();ua(t.userId===n.userId),s.push(Ch(n.D,t))});o.done()}).next(function(){return s})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new kc(da),i=[];return e.forEach(function(e){var s=Ll.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Bh(t).qt({range:o},function(t,i,s){var o=t[0],a=t[2],u=Nl(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()});i.push(a)}),th.waitFor(i).next(function(){return n.Yt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,s=Ll.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new kc(da);return Bh(t).qt({range:o},function(t,e,s){var o=t[0],u=t[2],c=Nl(t[1]);o===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):s.done()}).next(function(){return n.Yt(t,a)})},t.prototype.Yt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Vh(t).get(e).next(function(t){if(null===t)throw aa();ua(t.userId===n.userId),r.push(Ch(n.D,t))}))}),th.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Fh(t.Qt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Xt(e.batchId)}),th.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Xt=function(t){delete this.zt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return th.resolve();var r=IDBKeyRange.lowerBound(Ll.prefixForUser(e.userId)),i=[];return Bh(t).qt({range:r},function(t,n,r){if(t[0]===e.userId){var s=Nl(t[1]);i.push(s)}else r.done()}).next(function(){ua(0===i.length)})})},t.prototype.containsKey=function(t,e){return Lh(t,this.userId,e)},t.prototype.Zt=function(t){var e=this;return Uh(t).get(this.userId).next(function(t){return t||new Ml(e.userId,-1,"")})},t}();function Lh(t,e,n){var r=Ll.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Bh(t).qt({range:s,Bt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function Vh(t){return hh(t,Pl.store)}function Bh(t){return hh(t,Ll.store)}function Uh(t){return hh(t,Ml.store)}var qh=function(){function t(t){this.te=t}return t.prototype.next=function(){return this.te+=2,this.te},t.ee=function(){return new t(0)},t.ne=function(){return new t(-1)},t}(),zh=function(){function t(t,e){this.referenceDelegate=t,this.D=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.se(t).next(function(n){var r=new qh(n.highestTargetId);return n.highestTargetId=r.next(),e.ie(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.se(t).next(function(t){return Pu.fromTimestamp(new Na(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.se(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.se(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.ie(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.re(t,e).next(function(){return n.se(t).next(function(r){return r.targetCount+=1,n.oe(e,r),n.ie(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.re(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Qh(t).delete(e.targetId)}).next(function(){return n.se(t)}).next(function(e){return ua(e.targetCount>0),e.targetCount-=1,n.ie(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return Qh(t).qt(function(o,a){var u=Eh(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.removeTargetData(t,u)))}).next(function(){return th.waitFor(s)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return Qh(t).qt(function(t,n){var r=Eh(n);e(r)})},t.prototype.se=function(t){return Hh(t).get(Hl.key).next(function(t){return ua(null!==t),t})},t.prototype.ie=function(t,e){return Hh(t).put(Hl.key,e)},t.prototype.re=function(t,e){return Qh(t).put(Sh(this.D,e))},t.prototype.oe=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.se(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=nu(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Qh(t).qt({range:r,index:zl.queryTargetsIndexName},function(t,n,r){var s=Eh(n);ru(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],s=Gh(t);return e.forEach(function(e){var o=Tl(e.path);i.push(s.put(new Ql(n,o))),i.push(r.referenceDelegate.addReference(t,n,e))}),th.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Gh(t);return th.forEach(e,function(e){var s=Tl(e.path);return th.waitFor([i.delete([n,s]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Gh(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Gh(t),i=Vc();return r.qt({range:n,Bt:!0},function(t,e,n){var r=Nl(t[1]),s=new Da(r);i=i.add(s)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=Tl(e.path),r=IDBKeyRange.bound([n],[pa(n)],!1,!0),i=0;return Gh(t).qt({index:Ql.documentTargetsIndex,Bt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.yt=function(t,e){return Qh(t).get(e).next(function(t){return t?Eh(t):null})},t}();function Qh(t){return hh(t,zl.store)}function Hh(t){return hh(t,Hl.store)}function Gh(t){return hh(t,Ql.store)}function Kh(t){return Object(Jo.b)(this,void 0,void 0,function(){return Object(Jo.d)(this,function(e){if(t.code!==wa.FAILED_PRECONDITION||t.message!==Zl)throw t;return ra("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Wh(t,e){var n=t[1],r=e[1],i=da(t[0],e[0]);return 0===i?da(n,r):i}var $h=function(){function t(t){this.ce=t,this.buffer=new kc(Wh),this.ae=0}return t.prototype.ue=function(){return++this.ae},t.prototype.he=function(t){var e=[t,this.ue()];if(this.buffer.size<this.ce)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Wh(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Yh=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.le=!1,this.fe=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.de(t)},t.prototype.stop=function(){this.fe&&(this.fe.cancel(),this.fe=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.fe},enumerable:!1,configurable:!0}),t.prototype.de=function(t){var e=this,n=this.le?3e5:6e4;ra("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.fe=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(Jo.b)(e,void 0,void 0,function(){var e;return Object(Jo.d)(this,function(n){switch(n.label){case 0:this.fe=null,this.le=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return sh(e=n.sent())?(ra("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Kh(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.de(t)];case 8:return n.sent(),[2]}})})})},t}(),Zh=function(){function t(t,e){this.we=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.we._e(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return th.resolve(ta.o);var r=new $h(e);return this.we.forEachTarget(t,function(t){return r.he(t.sequenceNumber)}).next(function(){return n.we.me(t,function(t){return r.he(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.we.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.we.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(ra("LruGarbageCollector","Garbage collection skipped; disabled"),th.resolve(Nh)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(ra("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Nh):n.ye(t,e)})},t.prototype.getCacheSize=function(t){return this.we.getCacheSize(t)},t.prototype.ye=function(t,e){var n,r,i,s,o,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(ra("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,o=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),na()<=$n.a.DEBUG&&ra("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),th.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Xh=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Zh(t,e)}(this,e)}return t.prototype._e=function(t){var e=this.ge(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.ge=function(t){var e=0;return this.me(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.me=function(t,e){return this.pe(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return Jh(t,n)},t.prototype.removeReference=function(t,e,n){return Jh(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Jh(t,e)},t.prototype.Ee=function(t,e){return function(t,e){var n=!1;return Uh(t).Ut(function(r){return Lh(t,r,e).next(function(t){return t&&(n=!0),th.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.pe(t,function(o,a){if(a<=e){var u=n.Ee(t,o).next(function(e){if(!e)return s++,r.getEntry(t,o).next(function(){return r.removeEntry(o),Gh(t).delete([0,Tl(o.path)])})});i.push(u)}}).next(function(){return th.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Jh(t,e)},t.prototype.pe=function(t,e){var n,r=Gh(t),i=ta.o;return r.qt({index:Ql.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==ta.o&&e(new Da(Nl(n)),i),i=o,n=s):i=ta.o}).next(function(){i!==ta.o&&e(new Da(Nl(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Jh(t,e){return Gh(t).put(function(t,e){return new Ql(0,Tl(t.path),e)}(e,t.currentSequenceNumber))}var td=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.equalsFn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){ga(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.isEmpty=function(){return ba(this.inner)},t}(),ed=function(){function t(){this.changes=new td(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Pu.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{maybeDocument:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{maybeDocument:null,readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?th.resolve(n.maybeDocument):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),nd=function(){function t(t,e){this.D=t,this.Gt=e}return t.prototype.addEntry=function(t,e,n){return sd(t).put(od(e),n)},t.prototype.removeEntry=function(t,e){var n=sd(t),r=od(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Te(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return sd(t).get(od(e)).next(function(t){return n.Ie(t)})},t.prototype.Ae=function(t,e){var n=this;return sd(t).get(od(e)).next(function(t){var e=n.Ie(t);return e?{maybeDocument:e,size:Mh(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Nc();return this.Re(t,e,function(t,e){var i=n.Ie(e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.be=function(t,e){var n=this,r=Nc(),i=new xc(Da.comparator);return this.Re(t,e,function(t,e){var s=n.Ie(e);s?(r=r.insert(t,s),i=i.insert(t,Mh(e))):(r=r.insert(t,null),i=i.insert(t,0))}).next(function(){return{ve:r,Pe:i}})},t.prototype.Re=function(t,e,n){if(e.isEmpty())return th.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),s=i.getNext();return sd(t).qt({range:r},function(t,e,r){for(var o=Da.fromSegments(t);s&&Da.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,e),s=i.hasNext()?i.getNext():null),s?r.Ot(s.path.toArray()):r.done()}).next(function(){for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Fc(),s=e.path.length+1,o={};if(n.isEqual(Pu.min())){var a=e.path.toArray();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=yh(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=Ul.collectionReadTimeIndex}return sd(t).qt(o,function(t,n,o){if(t.length===s){var a=gh(r.D,n);e.path.isPrefixOf(a.key.path)?a instanceof Za&&ju(e,a)&&(i=i.insert(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new rd(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return id(t).get(ql.key).next(function(t){return ua(!!t),t})},t.prototype.Te=function(t,e){return id(t).put(ql.key,e)},t.prototype.Ie=function(t){if(t){var e=gh(this.D,t);return e instanceof Xa&&e.version.isEqual(Pu.min())?null:e}return null},t}(),rd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ve=e,r.trackRemovals=n,r.Se=new td(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Jo.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new kc(function(t,e){return da(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(s,o){var a=e.Se.get(s);if(o.maybeDocument){var u=bh(e.Ve.D,o.maybeDocument,e.getReadTime(s));i=i.add(s.path.popLast());var c=Mh(u);r+=c-a,n.push(e.Ve.addEntry(t,s,u))}else if(r-=a,e.trackRemovals){var l=bh(e.Ve.D,new Xa(s,Pu.min()),e.getReadTime(s));n.push(e.Ve.addEntry(t,s,l))}else n.push(e.Ve.removeEntry(t,s))}),i.forEach(function(r){n.push(e.Ve.Gt.addToCollectionParentIndex(t,r))}),n.push(this.Ve.updateMetadata(t,r)),th.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ve.Ae(t,e).next(function(t){return null===t?(n.Se.set(e,0),null):(n.Se.set(e,t.size),t.maybeDocument)})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ve.be(t,e).next(function(t){var e=t.ve;return t.Pe.forEach(function(t,e){n.Se.set(t,e)}),e})},e}(ed);function id(t){return hh(t,ql.store)}function sd(t){return hh(t,Ul.store)}function od(t){return t.path.toArray()}var ad=function(){function t(t){this.D=t}return t.prototype.St=function(t,e,n,r){var i=this;ua(n<r&&n>=0&&r<=11);var s=new eh("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Fl.store)}(t),function(t){t.createObjectStore(Ml.store,{keyPath:Ml.keyPath}),t.createObjectStore(Pl.store,{keyPath:Pl.keyPath,autoIncrement:!0}).createIndex(Pl.userMutationsIndex,Pl.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Ll.store)}(t),ud(t),function(t){t.createObjectStore(Ul.store)}(t));var o=th.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Ql.store),t.deleteObjectStore(zl.store),t.deleteObjectStore(Hl.store)}(t),ud(t)),o=o.next(function(){return function(t){var e=t.store(Hl.store),n=new Hl(0,0,Pu.min().toTimestamp(),0);return e.put(Hl.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(Pl.store).kt().next(function(n){t.deleteObjectStore(Pl.store),t.createObjectStore(Pl.store,{keyPath:Pl.keyPath,autoIncrement:!0}).createIndex(Pl.userMutationsIndex,Pl.userMutationsKeyPath,{unique:!0});var r=e.store(Pl.store),i=n.map(function(t){return r.put(t)});return th.waitFor(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(Kl.store,{keyPath:Kl.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.De(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(ql.store)}(t),i.Ce(s)})),n<7&&r>=7&&(o=o.next(function(){return i.xe(s)})),n<8&&r>=8&&(o=o.next(function(){return i.Ne(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Ul.store);e.createIndex(Ul.readTimeIndex,Ul.readTimeIndexPath,{unique:!1}),e.createIndex(Ul.collectionReadTimeIndex,Ul.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.$e(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(Wl.store,{keyPath:Wl.keyPath})}(t),function(t){t.createObjectStore($l.store,{keyPath:$l.keyPath})}(t)})),o},t.prototype.Ce=function(t){var e=0;return t.store(Ul.store).qt(function(t,n){e+=Mh(n)}).next(function(){var n=new ql(e);return t.store(ql.store).put(ql.key,n)})},t.prototype.De=function(t){var e=this,n=t.store(Ml.store),r=t.store(Pl.store);return n.kt().next(function(n){return th.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.kt(Pl.userMutationsIndex,i).next(function(r){return th.forEach(r,function(r){ua(r.userId===n.userId);var i=Ch(e.D,r);return Fh(t,n.userId,i).next(function(){})})})})})},t.prototype.xe=function(t){var e=t.store(Ql.store),n=t.store(Ul.store);return t.store(Hl.store).get(Hl.key).next(function(t){var r=[];return n.qt(function(n,i){var s=new Sa(n),o=function(t){return[0,Tl(t)]}(s);r.push(e.get(o).next(function(n){return n?th.resolve():function(n){return e.put(new Ql(0,Tl(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return th.waitFor(r)})})},t.prototype.Ne=function(t,e){t.createObjectStore(Gl.store,{keyPath:Gl.keyPath});var n=e.store(Gl.store),r=new Th,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Tl(i)})}};return e.store(Ul.store).qt({Bt:!0},function(t,e){var n=new Sa(t);return i(n.popLast())}).next(function(){return e.store(Ll.store).qt({Bt:!0},function(t,e){var n=Nl(t[1]);return i(n.popLast())})})},t.prototype.$e=function(t){var e=this,n=t.store(zl.store);return n.qt(function(t,r){var i=Eh(r),s=Sh(e.D,i);return n.put(s)})},t}();function ud(t){t.createObjectStore(Ql.store,{keyPath:Ql.keyPath}).createIndex(Ql.documentTargetsIndex,Ql.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(zl.store,{keyPath:zl.keyPath}).createIndex(zl.queryTargetsIndexName,zl.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Hl.store)}var cd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ld=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Fe=s,this.window=o,this.document=a,this.Oe=c,this.ke=l,this.Me=null,this.Le=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Be=null,this.inForeground=!1,this.qe=null,this.Ue=null,this.Qe=Number.NEGATIVE_INFINITY,this.Ke=function(t){return Promise.resolve()},!t.At())throw new Ca(wa.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Xh(this,i),this.We=n+"main",this.D=new mh(u),this.je=new nh(this.We,11,new ad(this.D)),this.Ge=new zh(this.referenceDelegate,this.D),this.Gt=new Ih,this.ze=function(t,e){return new nd(t,e)}(this.D,this.Gt),this.He=new xh,this.window&&this.window.localStorage?this.Je=this.window.localStorage:(this.Je=null,!1===l&&ia("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Ye().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Ca(wa.FAILED_PRECONDITION,cd);return t.Xe(),t.Ze(),t.tn(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.Ge.getHighestSequenceNumber(e)})}).then(function(e){t.Me=new ta(e,t.Oe)}).then(function(){t.Le=!0}).catch(function(e){return t.je&&t.je.close(),Promise.reject(e)})},t.prototype.en=function(t){var e=this;return this.Ke=function(n){return Object(Jo.b)(e,void 0,void 0,function(){return Object(Jo.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.je.Ct(function(n){return Object(Jo.b)(e,void 0,void 0,function(){return Object(Jo.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Fe.enqueueAndForget(function(){return Object(Jo.b)(e,void 0,void 0,function(){return Object(Jo.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.Ye()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.Ye=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return dd(e).put(new Kl(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.nn(e).next(function(e){e||(t.isPrimary=!1,t.Fe.enqueueRetryable(function(){return t.Ke(!1)}))})}).next(function(){return t.sn(e)}).next(function(n){return t.isPrimary&&!n?t.rn(e).next(function(){return!1}):!!n&&t.on(e).next(function(){return!0})})}).catch(function(e){if(sh(e))return ra("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return ra("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Fe.enqueueRetryable(function(){return t.Ke(e)}),t.isPrimary=e})},t.prototype.nn=function(t){var e=this;return hd(t).get(Fl.key).next(function(t){return th.resolve(e.cn(t))})},t.prototype.an=function(t){return dd(t).delete(this.clientId)},t.prototype.un=function(){return Object(Jo.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(Jo.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.hn(this.Qe,18e5)?[3,2]:(this.Qe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=hh(t,Kl.store);return e.kt().next(function(t){var n=r.ln(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return th.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Je)for(e=0,n=t;e<n.length;e++)this.Je.removeItem(this.fn(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.tn=function(){var t=this;this.Ue=this.Fe.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.Ye().then(function(){return t.un()}).then(function(){return t.tn()})})},t.prototype.cn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.sn=function(t){var e=this;return this.ke?th.resolve(!0):hd(t).get(Fl.key).next(function(n){if(null!==n&&e.hn(n.leaseTimestampMs,5e3)&&!e.dn(n.ownerId)){if(e.cn(n)&&e.networkEnabled)return!0;if(!e.cn(n)){if(!n.allowTabSynchronization)throw new Ca(wa.FAILED_PRECONDITION,cd);return!1}}return!(!e.networkEnabled||!e.inForeground)||dd(t).kt().next(function(t){return void 0===e.ln(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&ra("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(Jo.b)(this,void 0,void 0,function(){var t=this;return Object(Jo.d)(this,function(e){switch(e.label){case 0:return this.Le=!1,this.wn(),this.Ue&&(this.Ue.cancel(),this.Ue=null),this._n(),this.mn(),[4,this.je.runTransaction("shutdown","readwrite",[Fl.store,Kl.store],function(e){var n=new lh(e,ta.o);return t.rn(n).next(function(){return t.an(n)})})];case 1:return e.sent(),this.je.close(),this.yn(),[2]}})})},t.prototype.ln=function(t,e){var n=this;return t.filter(function(t){return n.hn(t.updateTimeMs,e)&&!n.dn(t.clientId)})},t.prototype.gn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return dd(e).kt().next(function(e){return t.ln(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Ph.Ht(t,this.D,this.Gt,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.Ge},t.prototype.getRemoteDocumentCache=function(){return this.ze},t.prototype.getIndexManager=function(){return this.Gt},t.prototype.getBundleCache=function(){return this.He},t.prototype.runTransaction=function(t,e,n){var r,i=this;return ra("IndexedDbPersistence","Starting transaction:",t),this.je.runTransaction(t,"readonly"===e?"readonly":"readwrite",Yl,function(s){return r=new lh(s,i.Me?i.Me.next():ta.o),"readwrite-primary"===e?i.nn(r).next(function(t){return!!t||i.sn(r)}).next(function(e){if(!e)throw ia("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Fe.enqueueRetryable(function(){return i.Ke(!1)}),new Ca(wa.FAILED_PRECONDITION,Zl);return n(r)}).next(function(t){return i.on(r).next(function(){return t})}):i.pn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.pn=function(t){var e=this;return hd(t).get(Fl.key).next(function(t){if(null!==t&&e.hn(t.leaseTimestampMs,5e3)&&!e.dn(t.ownerId)&&!e.cn(t)&&!(e.ke||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Ca(wa.FAILED_PRECONDITION,cd)})},t.prototype.on=function(t){var e=new Fl(this.clientId,this.allowTabSynchronization,Date.now());return hd(t).put(Fl.key,e)},t.At=function(){return nh.At()},t.prototype.rn=function(t){var e=this,n=hd(t);return n.get(Fl.key).next(function(t){return e.cn(t)?(ra("IndexedDbPersistence","Releasing primary lease."),n.delete(Fl.key)):th.resolve()})},t.prototype.hn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(ia("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Xe=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=function(){t.Fe.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.Ye()})},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)},t.prototype._n=function(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)},t.prototype.Ze=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Be=function(){e.wn(),e.Fe.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Be))},t.prototype.mn=function(){this.Be&&(this.window.removeEventListener("unload",this.Be),this.Be=null)},t.prototype.dn=function(t){var e;try{var n=null!==(null===(e=this.Je)||void 0===e?void 0:e.getItem(this.fn(t)));return ra("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return ia("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.wn=function(){if(this.Je)try{this.Je.setItem(this.fn(this.clientId),String(Date.now()))}catch(t){ia("Failed to set zombie client id.",t)}},t.prototype.yn=function(){if(this.Je)try{this.Je.removeItem(this.fn(this.clientId))}catch(t){}},t.prototype.fn=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function hd(t){return hh(t,Fl.store)}function dd(t){return hh(t,Kl.store)}function fd(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var pd=function(t,e){this.progress=t,this.En=e},md=function(){function t(t,e,n){this.ze=t,this.Tn=e,this.Gt=n}return t.prototype.In=function(t,e){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.An(t,e,r)})},t.prototype.An=function(t,e,n){return this.ze.getEntry(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].applyToLocalView(e,t);return t})},t.prototype.Rn=function(t,e,n){var r=Nc();return e.forEach(function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].applyToLocalView(t,e);r=r.insert(t,e)}),r},t.prototype.bn=function(t,e){var n=this;return this.ze.getEntries(t,e).next(function(e){return n.vn(t,e)})},t.prototype.vn=function(t,e){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(r){var i=n.Rn(t,e,r),s=Rc();return i.forEach(function(t,e){e||(e=new Xa(t,Pu.min())),s=s.insert(t,e)}),s})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Da.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Pn(t,e.path):Du(e)?this.Vn(t,e,n):this.Sn(t,e,n)},t.prototype.Pn=function(t,e){return this.In(t,new Da(e)).next(function(t){var e=Fc();return t instanceof Za&&(e=e.insert(t.key,t)),e})},t.prototype.Vn=function(t,e,n){var r=this,i=e.collectionGroup,s=Fc();return this.Gt.getCollectionParents(t,i).next(function(o){return th.forEach(o,function(o){var a=function(t,e){return new _u(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.Sn(t,a,n).next(function(t){t.forEach(function(t,e){s=s.insert(t,e)})})}).next(function(){return s})})},t.prototype.Sn=function(t,e,n){var r,i,s=this;return this.ze.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,s.Tn.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return s.Dn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=cc(u,r.get(c),s.localWriteTime);r=l instanceof Za?r.insert(c,l):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){ju(e,n)||(r=r.remove(t))}),r})},t.prototype.Dn=function(t,e,n){for(var r=Vc(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof pc&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.ze.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof Za&&(c=c.insert(t,e))}),c})},t}(),gd=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Cn=n,this.xn=r}return t.Nn=function(e,n){for(var r=Vc(),i=Vc(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),bd=function(){function t(){}return t.prototype.$n=function(t){this.Fn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Pu.min())?this.On(t,e):this.Fn.bn(t,r).next(function(s){var o=i.kn(e,s);return(Eu(e)||Su(e))&&i.Mn(e.limitType,o,r,n)?i.On(t,e):(na()<=$n.a.DEBUG&&ra("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Nu(e)),i.Fn.getDocumentsMatchingQuery(t,e,n).next(function(t){return o.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.kn=function(t,e){var n=new kc(Fu(t));return e.forEach(function(e,r){r instanceof Za&&ju(t,r)&&(n=n.add(r))}),n},t.prototype.Mn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.On=function(t,e){return na()<=$n.a.DEBUG&&ra("QueryEngine","Using full collection scan to execute query:",Nu(e)),this.Fn.getDocumentsMatchingQuery(t,e,Pu.min())},t}(),yd=function(){function t(t,e,n,r){this.persistence=t,this.Ln=e,this.D=r,this.Bn=new xc(da),this.qn=new td(function(t){return nu(t)},ru),this.Un=Pu.min(),this.Tn=t.getMutationQueue(n),this.Qn=t.getRemoteDocumentCache(),this.Ge=t.getTargetCache(),this.Kn=new md(this.Qn,this.Tn,this.persistence.getIndexManager()),this.He=t.getBundleCache(),this.Ln.$n(this.Kn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Bn)})},t}();function vd(t,e,n,r){return new yd(t,e,n,r)}function _d(t,e){return Object(Jo.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(Jo.d)(this,function(o){switch(o.label){case 0:return n=ca(t),r=n.Tn,i=n.Kn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n.Tn.getAllMutationBatches(t).next(function(o){return s=o,r=n.persistence.getMutationQueue(e),i=new md(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],o=Vc(),a=0,u=s;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)o=o.add(g[m].key)}return i.bn(t,o).next(function(t){return{Wn:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return s=o.sent(),[2,(n.Tn=r,n.Kn=i,n.Ln.$n(n.Kn),s)]}})})}function wd(t,e){var n=ca(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=th.resolve();return s.forEach(function(t){o=o.next(function(){return r.getEntry(e,t)}).next(function(e){var s=e,o=n.docVersions.get(t);ua(null!==o),(!s||s.version.compareTo(o)<0)&&(s=i.applyToRemoteDocument(t,s,n))&&r.addEntry(s,n.commitVersion)})}),o.next(function(){return t.Tn.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.Tn.performConsistencyCheck(t)}).next(function(){return n.Kn.bn(t,r)})})}function Cd(t){var e=ca(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.Ge.getLastRemoteSnapshotVersion(t)})}function Ed(t,e){var n=ca(t),r=e.snapshotVersion,i=n.Bn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.Bn;var o=[];e.targetChanges.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.Ge.removeMatchingKeys(t,e.removedDocuments,s).next(function(){return n.Ge.addMatchingKeys(t,e.addedDocuments,s)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(s,c),function(t,e,n){return ua(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&o.push(n.Ge.updateTargetData(t,c))}}});var a=Rc();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),o.push(Sd(t,s,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(Pu.min())){var u=n.Ge.getLastRemoteSnapshotVersion(t).next(function(e){return n.Ge.setTargetsMetadata(t,t.currentSequenceNumber,r)});o.push(u)}return th.waitFor(o).next(function(){return s.apply(t)}).next(function(){return n.Kn.vn(t,a)})}).then(function(t){return n.Bn=i,t})}function Sd(t,e,n,r,i){var s=Vc();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var s=Rc();return n.forEach(function(n,o){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;o instanceof Xa&&o.version.isEqual(Pu.min())?(e.removeEntry(n,u),s=s.insert(n,o)):null==a||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o,u),s=s.insert(n,o)):ra("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function Od(t,e){var n=ca(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Tn.getNextMutationBatchAfterBatchId(t,e)})}function xd(t,e){var n=ca(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.Ge.getTargetData(t,e).next(function(i){return i?th.resolve(r=i):n.Ge.allocateTargetId(t).next(function(i){return r=new ph(e,i,0,t.currentSequenceNumber),n.Ge.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Bn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Bn=n.Bn.insert(t.targetId,t),n.qn.set(e,t.targetId)),t})}function Dd(t,e,n){return Object(Jo.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Jo.d)(this,function(a){switch(a.label){case 0:r=ca(t),i=r.Bn.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!sh(o=a.sent()))throw o;return ra("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Bn=r.Bn.remove(e),r.qn.delete(i.target),[2]}})})}function Ad(t,e,n){var r=ca(t),i=Pu.min(),s=Vc();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=ca(t),i=r.qn.get(n);return void 0!==i?th.resolve(r.Bn.get(i)):r.Ge.getTargetData(e,n)}(r,t,ku(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Ge.getMatchingKeysForTargetId(t,e.targetId).next(function(t){s=t})}).next(function(){return r.Ln.getDocumentsMatchingQuery(t,e,n?i:Pu.min(),n?s:Vc())}).next(function(t){return{documents:t,jn:s}})})}function kd(t,e){var n=ca(t),r=ca(n.Ge),i=n.Bn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.yt(t,e).next(function(t){return t?t.target:null})})}function Td(t){var e=ca(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=ca(t),i=Rc(),s=yh(n),o=sd(e),a=IDBKeyRange.lowerBound(s,!0);return o.qt({index:Ul.readTimeIndex,range:a},function(t,e){var n=gh(r.D,e);i=i.insert(n.key,n),s=e.readTime}).next(function(){return{En:i,readTime:vh(s)}})}(e.Qn,t,e.Un)}).then(function(t){var n=t.En;return e.Un=t.readTime,n})}function Id(t){return Object(Jo.b)(this,void 0,void 0,function(){var e;return Object(Jo.d)(this,function(n){return[2,(e=ca(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=sd(t),n=Pu.min();return e.qt({index:Ul.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=vh(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.Un=t})]})})}function Rd(t,e,n,r){return Object(Jo.b)(this,void 0,void 0,function(){var i,s,o,a,u,c,l,h,d,f;return Object(Jo.d)(this,function(p){switch(p.label){case 0:for(i=ca(t),s=Vc(),o=Rc(),a=Pc(),u=0,c=n;u<c.length;u++)h=e.Gn((l=c[u]).metadata.name),l.document&&(s=s.add(h)),o=o.insert(h,e.zn(l)),a=a.insert(h,e.Hn(l.metadata.readTime));return d=i.Qn.newChangeBuffer({trackRemovals:!0}),[4,xd(i,function(t){return ku(Cu(Sa.fromString("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Sd(t,d,o,Pu.min(),a).next(function(e){return d.apply(t),e}).next(function(e){return i.Ge.removeMatchingKeysForTargetId(t,f.targetId).next(function(){return i.Ge.addMatchingKeys(t,s,f.targetId)}).next(function(){return i.Kn.vn(t,e)})})})]}})})}function Nd(t,e,n){return void 0===n&&(n=Vc()),Object(Jo.b)(this,void 0,void 0,function(){var r,i;return Object(Jo.d)(this,function(s){switch(s.label){case 0:return[4,xd(t,ku(Oh(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=ca(t)).persistence.runTransaction("Save named query","readwrite",function(t){var s=rl(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.He.saveNamedQuery(t,e);var o=r.withResumeToken(Aa.EMPTY_BYTE_STRING,s);return i.Bn=i.Bn.insert(o.targetId,o),i.Ge.updateTargetData(t,o).next(function(){return i.Ge.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.Ge.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.He.saveNamedQuery(t,e)})})]}})})}var jd=function(){function t(t){this.D=t,this.Jn=new Map,this.Yn=new Map}return t.prototype.getBundleMetadata=function(t,e){return th.resolve(this.Jn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Jn.set(e.id,{id:(n=e).id,version:n.version,createTime:rl(n.createTime)}),th.resolve()},t.prototype.getNamedQuery=function(t,e){return th.resolve(this.Yn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.Yn.set(e.name,function(t){return{name:t.name,query:Oh(t.bundledQuery),readTime:rl(t.readTime)}}(e)),th.resolve()},t}(),Fd=function(){function t(){this.Xn=new kc(Md.Zn),this.ts=new kc(Md.es)}return t.prototype.isEmpty=function(){return this.Xn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Md(t,e);this.Xn=this.Xn.add(n),this.ts=this.ts.add(n)},t.prototype.ns=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.ss(new Md(t,e))},t.prototype.rs=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.os=function(t){var e=this,n=new Da(new Sa([])),r=new Md(n,t),i=new Md(n,t+1),s=[];return this.ts.forEachInRange([r,i],function(t){e.ss(t),s.push(t.key)}),s},t.prototype.cs=function(){var t=this;this.Xn.forEach(function(e){return t.ss(e)})},t.prototype.ss=function(t){this.Xn=this.Xn.delete(t),this.ts=this.ts.delete(t)},t.prototype.us=function(t){var e=new Da(new Sa([])),n=new Md(e,t),r=new Md(e,t+1),i=Vc();return this.ts.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Md(t,0),n=this.Xn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Md=function(){function t(t,e){this.key=t,this.hs=e}return t.Zn=function(t,e){return Da.comparator(t.key,e.key)||da(t.hs,e.hs)},t.es=function(t,e){return da(t.hs,e.hs)||Da.comparator(t.key,e.key)},t}(),Pd=function(){function t(t,e){this.Gt=t,this.referenceDelegate=e,this.Tn=[],this.ls=1,this.fs=new kc(Md.Zn)}return t.prototype.checkEmpty=function(t){return th.resolve(0===this.Tn.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ls;this.ls++;var s=new dh(i,e,n,r);this.Tn.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.fs=this.fs.add(new Md(u.key,i)),this.Gt.addToCollectionParentIndex(t,u.key.path.popLast())}return th.resolve(s)},t.prototype.lookupMutationBatch=function(t,e){return th.resolve(this.ds(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.ws(e+1),r=n<0?0:n;return th.resolve(this.Tn.length>r?this.Tn[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return th.resolve(0===this.Tn.length?-1:this.ls-1)},t.prototype.getAllMutationBatches=function(t){return th.resolve(this.Tn.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Md(e,0),i=new Md(e,Number.POSITIVE_INFINITY),s=[];return this.fs.forEachInRange([r,i],function(t){var e=n.ds(t.hs);s.push(e)}),th.resolve(s)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new kc(da);return e.forEach(function(t){var e=new Md(t,0),i=new Md(t,Number.POSITIVE_INFINITY);n.fs.forEachInRange([e,i],function(t){r=r.add(t.hs)})}),th.resolve(this._s(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Da.isDocumentKey(i)||(i=i.child(""));var s=new Md(new Da(i),0),o=new kc(da);return this.fs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.hs)),!0)},s),th.resolve(this._s(o))},t.prototype._s=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.ds(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;ua(0===this.ys(e.batchId,"removed")),this.Tn.shift();var r=this.fs;return th.forEach(e.mutations,function(i){var s=new Md(i.key,e.batchId);return r=r.delete(s),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.fs=r})},t.prototype.Xt=function(t){},t.prototype.containsKey=function(t,e){var n=new Md(e,0),r=this.fs.firstAfterOrEqual(n);return th.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return th.resolve()},t.prototype.ys=function(t,e){return this.ws(t)},t.prototype.ws=function(t){return 0===this.Tn.length?0:t-this.Tn[0].batchId},t.prototype.ds=function(t){var e=this.ws(t);return e<0||e>=this.Tn.length?null:this.Tn[e]},t}(),Ld=function(){function t(t,e){this.Gt=t,this.gs=e,this.docs=new xc(Da.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.gs(e);return this.docs=this.docs.insert(r,{maybeDocument:e,size:o,readTime:n}),this.size+=o-s,this.Gt.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return th.resolve(n?n.maybeDocument:null)},t.prototype.getEntries=function(t,e){var n=this,r=Nc();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null)}),th.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Fc(),i=new Da(e.path.child("")),s=this.docs.getIteratorFrom(i);s.hasNext();){var o=s.getNext(),a=o.value,u=a.maybeDocument,c=a.readTime;if(!e.path.isPrefixOf(o.key.path))break;c.compareTo(n)<=0||u instanceof Za&&ju(e,u)&&(r=r.insert(u.key,u))}return th.resolve(r)},t.prototype.ps=function(t,e){return th.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Vd(this)},t.prototype.getSize=function(t){return th.resolve(this.size)},t}(),Vd=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ve=e,n}return Object(Jo.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i&&i.maybeDocument?n.push(e.Ve.addEntry(t,i.maybeDocument,e.getReadTime(r))):e.Ve.removeEntry(r)}),th.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ve.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ve.getEntries(t,e)},e}(ed),Bd=function(){function t(t){this.persistence=t,this.Es=new td(function(t){return nu(t)},ru),this.lastRemoteSnapshotVersion=Pu.min(),this.highestTargetId=0,this.Ts=0,this.Is=new Fd,this.targetCount=0,this.As=qh.ee()}return t.prototype.forEachTarget=function(t,e){return this.Es.forEach(function(t,n){return e(n)}),th.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return th.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return th.resolve(this.Ts)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.As.next(),th.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Ts&&(this.Ts=e),th.resolve()},t.prototype.re=function(t){this.Es.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.As=new qh(e),this.highestTargetId=e),t.sequenceNumber>this.Ts&&(this.Ts=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.re(e),this.targetCount+=1,th.resolve()},t.prototype.updateTargetData=function(t,e){return this.re(e),th.resolve()},t.prototype.removeTargetData=function(t,e){return this.Es.delete(e.target),this.Is.os(e.targetId),this.targetCount-=1,th.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return this.Es.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.Es.delete(o),s.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),th.waitFor(s).next(function(){return i})},t.prototype.getTargetCount=function(t){return th.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.Es.get(e)||null;return th.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this.Is.ns(e,n),th.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this.Is.rs(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),th.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.Is.os(e),th.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.Is.us(e);return th.resolve(n)},t.prototype.containsKey=function(t,e){return th.resolve(this.Is.containsKey(e))},t}(),Ud=function(){function t(t,e){var n=this;this.Rs={},this.Me=new ta(0),this.Le=!1,this.Le=!0,this.referenceDelegate=t(this),this.Ge=new Bd(this),this.Gt=new kh,this.ze=function(t,e){return new Ld(t,function(t){return n.referenceDelegate.bs(t)})}(this.Gt),this.D=new mh(e),this.He=new jd(this.D)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.Le=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Gt},t.prototype.getMutationQueue=function(t){var e=this.Rs[t.toKey()];return e||(e=new Pd(this.Gt,this.referenceDelegate),this.Rs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.Ge},t.prototype.getRemoteDocumentCache=function(){return this.ze},t.prototype.getBundleCache=function(){return this.He},t.prototype.runTransaction=function(t,e,n){var r=this;ra("MemoryPersistence","Starting transaction:",t);var i=new qd(this.Me.next());return this.referenceDelegate.vs(),n(i).next(function(t){return r.referenceDelegate.Ps(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Vs=function(t,e){return th.or(Object.values(this.Rs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),qd=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(Jo.c)(e,t),e}(Xl),zd=function(){function t(t){this.persistence=t,this.Ss=new Fd,this.Ds=null}return t.Cs=function(e){return new t(e)},Object.defineProperty(t.prototype,"xs",{get:function(){if(this.Ds)return this.Ds;throw aa()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.Ss.addReference(n,e),this.xs.delete(n.toString()),th.resolve()},t.prototype.removeReference=function(t,e,n){return this.Ss.removeReference(n,e),this.xs.add(n.toString()),th.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.xs.add(e.toString()),th.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Ss.os(e.targetId).forEach(function(t){return n.xs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.xs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.vs=function(){this.Ds=new Set},t.prototype.Ps=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return th.forEach(this.xs,function(r){var i=Da.fromPath(r);return e.Ns(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Ds=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ns(t,e).next(function(t){t?n.xs.delete(e.toString()):n.xs.add(e.toString())})},t.prototype.bs=function(t){return 0},t.prototype.Ns=function(t,e){var n=this;return th.or([function(){return th.resolve(n.Ss.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Vs(t,e)}])},t}(),Qd=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Hd(t,e){return"firestore_clients_"+t+"_"+e}function Gd(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Kd(t,e){return"firestore_targets_"+t+"_"+e}Qd.UNAUTHENTICATED=new Qd(null),Qd.GOOGLE_CREDENTIALS=new Qd("google-credentials-uid"),Qd.FIRST_PARTY=new Qd("first-party-uid");var Wd=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.$s=function(e,n,r){var i,s=JSON.parse(r),o="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return o&&s.error&&(o="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(i=new Ca(s.error.code,s.error.message)),o?new t(e,n,s.state,i):(ia("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Fs=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),$d=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.$s=function(e,n){var r,i=JSON.parse(n),s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Ca(i.error.code,i.error.message)),s?new t(e,i.state,r):(ia("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Fs=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Yd=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.$s=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Uc(),o=0;i&&o<r.activeTargetIds.length;++o)i=_a(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(ia("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Zd=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.$s=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(ia("SharedClientState","Failed to parse online state: "+e),null)},t}(),Xd=function(){function t(){this.activeTargetIds=Uc()}return t.prototype.Os=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ks=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Fs=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Jd=function(){function t(t,e,n,r,i){this.window=t,this.Fe=e,this.persistenceKey=n,this.Ms=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ls=this.Bs.bind(this),this.qs=new xc(da),this.started=!1,this.Us=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Qs=Hd(this.persistenceKey,this.Ms),this.Ks=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.qs=this.qs.insert(this.Ms,new Xd),this.Ws=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.js=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.Gs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.zs=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Hs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.Ls)}return t.At=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Jo.b)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,u,c,l=this;return Object(Jo.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.gn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ms&&(i=this.getItem(Hd(this.persistenceKey,r)))&&(s=Yd.$s(r,i))&&(this.qs=this.qs.insert(s.clientId,s));for(this.Js(),(o=this.storage.getItem(this.zs))&&(a=this.Ys(o))&&this.Xs(a),u=0,c=this.Us;u<c.length;u++)this.Bs(c[u]);return this.Us=[],this.window.addEventListener("unload",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ks,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Zs(this.qs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.qs.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.ti(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.ti(t,e,n),this.ei(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Kd(this.persistenceKey,t));if(n){var r=$d.$s(t,n);r&&(e=r.state)}}return this.ni.Os(t),this.Js(),e},t.prototype.removeLocalQueryTarget=function(t){this.ni.ks(t),this.Js()},t.prototype.isLocalQueryTarget=function(t){return this.ni.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Kd(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.si(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.ei(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.ii(t)},t.prototype.notifyBundleLoaded=function(){this.ri()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.Ls),this.removeItem(this.Qs),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return ra("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){ra("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){ra("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Bs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(ra("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void ia("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Fe.enqueueRetryable(function(){return Object(Jo.b)(e,void 0,void 0,function(){var t,e,r,i,s,o;return Object(Jo.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ws.test(n.key)){if(null==n.newValue)return t=this.oi(n.key),[2,this.ci(t,null)];if(e=this.ai(n.key,n.newValue))return[2,this.ci(e.clientId,e)]}else if(this.js.test(n.key)){if(null!==n.newValue&&(r=this.ui(n.key,n.newValue)))return[2,this.hi(r)]}else if(this.Gs.test(n.key)){if(null!==n.newValue&&(i=this.li(n.key,n.newValue)))return[2,this.fi(i)]}else if(n.key===this.zs){if(null!==n.newValue&&(s=this.Ys(n.newValue)))return[2,this.Xs(s)]}else if(n.key===this.Ks)(o=function(t){var e=ta.o;if(null!=t)try{var n=JSON.parse(t);ua("number"==typeof n),e=n}catch(t){ia("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==ta.o&&this.sequenceNumberHandler(o);else if(n.key===this.Hs)return[2,this.syncEngine.di()]}else this.Us.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"ni",{get:function(){return this.qs.get(this.Ms)},enumerable:!1,configurable:!0}),t.prototype.Js=function(){this.setItem(this.Qs,this.ni.Fs())},t.prototype.ti=function(t,e,n){var r=new Wd(this.currentUser,t,e,n),i=Gd(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Fs())},t.prototype.ei=function(t){var e=Gd(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ii=function(t){this.storage.setItem(this.zs,JSON.stringify({clientId:this.Ms,onlineState:t}))},t.prototype.si=function(t,e,n){var r=Kd(this.persistenceKey,t),i=new $d(t,e,n);this.setItem(r,i.Fs())},t.prototype.ri=function(){this.setItem(this.Hs,"value-not-used")},t.prototype.oi=function(t){var e=this.Ws.exec(t);return e?e[1]:null},t.prototype.ai=function(t,e){var n=this.oi(t);return Yd.$s(n,e)},t.prototype.ui=function(t,e){var n=this.js.exec(t),r=Number(n[1]);return Wd.$s(new Qd(void 0!==n[2]?n[2]:null),r,e)},t.prototype.li=function(t,e){var n=this.Gs.exec(t),r=Number(n[1]);return $d.$s(r,e)},t.prototype.Ys=function(t){return Zd.$s(t)},t.prototype.hi=function(t){return Object(Jo.b)(this,void 0,void 0,function(){return Object(Jo.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.wi(t.batchId,t.state,t.error)]:(ra("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.fi=function(t){return this.syncEngine._i(t.targetId,t.state,t.error)},t.prototype.ci=function(t,e){var n=this,r=e?this.qs.insert(t,e):this.qs.remove(t),i=this.Zs(this.qs),s=this.Zs(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.syncEngine.mi(o,a).then(function(){n.qs=r})},t.prototype.Xs=function(t){this.qs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Zs=function(t){var e=Uc();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),tf=function(){function t(){this.yi=new Xd,this.gi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.yi.Os(t),this.gi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.gi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.yi.ks(t)},t.prototype.isLocalQueryTarget=function(t){return this.yi.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.gi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.yi.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.yi.activeTargetIds.has(t)},t.prototype.start=function(){return this.yi=new Xd,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),ef=function(){function t(){}return t.prototype.pi=function(t){},t.prototype.shutdown=function(){},t}(),nf=function(){function t(){var t=this;this.Ei=function(){return t.Ti()},this.Ii=function(){return t.Ai()},this.Ri=[],this.bi()}return t.prototype.pi=function(t){this.Ri.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ii)},t.prototype.bi=function(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ii)},t.prototype.Ti=function(){ra("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Ri;t<e.length;t++)(0,e[t])(0)},t.prototype.Ai=function(){ra("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Ri;t<e.length;t++)(0,e[t])(1)},t.At=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),rf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},sf=function(){function t(t){this.vi=t.vi,this.Pi=t.Pi}return t.prototype.Vi=function(t){this.Si=t},t.prototype.Di=function(t){this.Ci=t},t.prototype.onMessage=function(t){this.xi=t},t.prototype.close=function(){this.Pi()},t.prototype.send=function(t){this.vi(t)},t.prototype.Ni=function(){this.Si()},t.prototype.$i=function(t){this.Ci(t)},t.prototype.Fi=function(t){this.xi(t)},t}(),of=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(Jo.c)(e,t),e.prototype.qi=function(t,e,n,r){return new Promise(function(i,s){var o=new Xo;o.listenOnce($o.COMPLETE,function(){try{switch(o.getLastErrorCode()){case Wo.NO_ERROR:var e=o.getResponseJson();ra("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Wo.TIMEOUT:ra("Connection",'RPC "'+t+'" timed out'),s(new Ca(wa.DEADLINE_EXCEEDED,"Request time out"));break;case Wo.HTTP_ERROR:var n=o.getStatus();if(ra("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(wa).indexOf(e)>=0?e:wa.UNKNOWN}(r.status);s(new Ca(a,r.message))}else s(new Ca(wa.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Ca(wa.UNAVAILABLE,"Connection failed."));break;default:aa()}}finally{ra("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.Qi=function(t,e){var n=[this.Oi,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new zo,i=Hi(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Bi(s.initMessageHeaders,e),Object(Yn.l)()||Object(Yn.n)()||Object(Yn.j)()||Object(Yn.k)()||Object(Yn.o)()||Object(Yn.i)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");ra("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,c=!1,l=new sf({vi:function(t){c?ra("Connection","Not sending because WebChannel is closed:",t):(u||(ra("Connection","Opening WebChannel transport."),a.open(),u=!0),ra("Connection","WebChannel sending:",t),a.send(t))},Pi:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Zo.EventType.OPEN,function(){c||ra("Connection","WebChannel transport opened.")}),h(a,Zo.EventType.CLOSE,function(){c||(c=!0,ra("Connection","WebChannel transport closed"),l.$i())}),h(a,Zo.EventType.ERROR,function(t){c||(c=!0,sa("Connection","WebChannel transport errored:",t),l.$i(new Ca(wa.UNAVAILABLE,"The operation could not be completed")))}),h(a,Zo.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];ua(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){ra("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=vc[t];if(void 0!==e)return Oc(e)}(i),o=r.message;void 0===s&&(s=wa.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),c=!0,l.$i(new Ca(s,o)),a.close()}else ra("Connection","WebChannel received:",n),l.Fi(n)}}),h(i,Yo.STAT_EVENT,function(t){10===t.stat?ra("Connection","Detected buffering proxy"):11===t.stat&&ra("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Ni()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Oi=(t.ssl?"https":"http")+"://"+t.host,this.ki="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Mi=function(t,e,n,r){var i=this.Li(t,e);ra("RestConnection","Sending: ",i,n);var s={};return this.Bi(s,r),this.qi(t,i,s,n).then(function(t){return ra("RestConnection","Received: ",t),t},function(e){throw sa("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Ui=function(t,e,n,r){return this.Mi(t,e,n,r)},t.prototype.Bi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.3.1",t["Content-Type"]="text/plain",e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.Li=function(t,e){return this.Oi+"/v1/"+e+":"+rf[t]},t}());function af(){return"undefined"!=typeof window?window:null}function uf(){return"undefined"!=typeof document?document:null}function cf(t){return new Jc(t,!0)}var lf=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Fe=t,this.timerId=e,this.Ki=n,this.Wi=r,this.ji=i,this.Gi=0,this.zi=null,this.Hi=Date.now(),this.reset()}return t.prototype.reset=function(){this.Gi=0},t.prototype.Ji=function(){this.Gi=this.ji},t.prototype.Yi=function(t){var e=this;this.cancel();var n=Math.floor(this.Gi+this.Xi()),r=Math.max(0,Date.now()-this.Hi),i=Math.max(0,n-r);i>0&&ra("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Gi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.zi=this.Fe.enqueueAfterDelay(this.timerId,i,function(){return e.Hi=Date.now(),t()}),this.Gi*=this.Wi,this.Gi<this.Ki&&(this.Gi=this.Ki),this.Gi>this.ji&&(this.Gi=this.ji)},t.prototype.Zi=function(){null!==this.zi&&(this.zi.skipDelay(),this.zi=null)},t.prototype.cancel=function(){null!==this.zi&&(this.zi.cancel(),this.zi=null)},t.prototype.Xi=function(){return(Math.random()-.5)*this.Gi},t}(),hf=function(){function t(t,e,n,r,i,s){this.Fe=t,this.tr=n,this.er=r,this.nr=i,this.listener=s,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new lf(t,e)}return t.prototype.cr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.ar=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.ur()},t.prototype.stop=function(){return Object(Jo.b)(this,void 0,void 0,function(){return Object(Jo.d)(this,function(t){switch(t.label){case 0:return this.cr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.hr=function(){this.state=0,this.rr.reset()},t.prototype.lr=function(){var t=this;this.ar()&&null===this.ir&&(this.ir=this.Fe.enqueueAfterDelay(this.tr,6e4,function(){return t.dr()}))},t.prototype.wr=function(t){this._r(),this.stream.send(t)},t.prototype.dr=function(){return Object(Jo.b)(this,void 0,void 0,function(){return Object(Jo.d)(this,function(t){return this.ar()?[2,this.close(0)]:[2]})})},t.prototype._r=function(){this.ir&&(this.ir.cancel(),this.ir=null)},t.prototype.close=function(t,e){return Object(Jo.b)(this,void 0,void 0,function(){return Object(Jo.d)(this,function(n){switch(n.label){case 0:return this._r(),this.rr.cancel(),this.sr++,3!==t?this.rr.reset():e&&e.code===wa.RESOURCE_EXHAUSTED?(ia(e.toString()),ia("Using maximum backoff delay to prevent overloading the backend."),this.rr.Ji()):e&&e.code===wa.UNAUTHENTICATED&&this.nr.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Di(e)];case 1:return n.sent(),[2]}})})},t.prototype.mr=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.yr(this.sr),n=this.sr;this.nr.getToken().then(function(e){t.sr===n&&t.gr(e)},function(n){e(function(){var e=new Ca(wa.UNKNOWN,"Fetching auth token failed: "+n.message);return t.pr(e)})})},t.prototype.gr=function(t){var e=this,n=this.yr(this.sr);this.stream=this.Er(t),this.stream.Vi(function(){n(function(){return e.state=2,e.listener.Vi()})}),this.stream.Di(function(t){n(function(){return e.pr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.ur=function(){var t=this;this.state=4,this.rr.Yi(function(){return Object(Jo.b)(t,void 0,void 0,function(){return Object(Jo.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.pr=function(t){return ra("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.yr=function(t){var e=this;return function(n){e.Fe.enqueueAndForget(function(){return e.sr===t?n():(ra("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),df=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).D=i,o}return Object(Jo.c)(e,t),e.prototype.Er=function(t){return this.er.Qi("Listen",t)},e.prototype.onMessage=function(t){this.rr.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:aa()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.V?(ua(void 0===e||"string"==typeof e),Aa.fromBase64String(e||"")):(ua(void 0===e||e instanceof Uint8Array),Aa.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?wa.UNKNOWN:Oc(t.code);return new Ca(e,t.message||"")}(a);n=new Gc(r,i,s,o||null)}else if("documentChange"in e){i=al(t,(r=e.documentChange).document.name),s=rl(r.document.updateTime);var a=new Vu({mapValue:{fields:r.document.fields}}),u=(o=new Za(i,s,a,{}),r.targetIds||[]);n=new Qc(u,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=al(t,(r=e.documentDelete).document),s=r.readTime?rl(r.readTime):Pu.min(),a=new Xa(i,s),n=new Qc([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=al(t,(r=e.documentRemove).document),n=new Qc([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return aa();var c=e.filter;i=new Ec(r=c.count||0),n=new Hc(s=c.targetId,i)}return n}(this.D,t),n=function(t){if(!("targetChange"in t))return Pu.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Pu.min():e.readTime?rl(e.readTime):Pu.min()}(t);return this.listener.Tr(e,n)},e.prototype.Ir=function(t){var e={};e.database=ll(this.D),e.addTarget=function(t,e){var n,r=e.target;return(n=iu(r)?{documents:gl(t,r)}:{query:bl(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=el(t,e.resumeToken):e.snapshotVersion.compareTo(Pu.min())>0&&(n.readTime=tl(t,e.snapshotVersion.toTimestamp())),n}(this.D,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return aa()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.wr(e)},e.prototype.Ar=function(t){var e={};e.database=ll(this.D),e.removeTarget=t,this.wr(e)},e}(hf),ff=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).D=i,o.Rr=!1,o}return Object(Jo.c)(e,t),Object.defineProperty(e.prototype,"br",{get:function(){return this.Rr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Rr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.mr=function(){this.Rr&&this.vr([])},e.prototype.Er=function(t){return this.er.Qi("Write",t)},e.prototype.onMessage=function(t){if(ua(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Rr){this.rr.reset();var e=function(t,e){return t&&t.length>0?(ua(void 0!==e),t.map(function(t){return function(t,e){var n=rl(t.updateTime?t.updateTime:e);return n.isEqual(Pu.min())&&(n=rl(e)),new ic(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=rl(t.commitTime);return this.listener.Pr(n,e)}return ua(!t.writeResults||0===t.writeResults.length),this.Rr=!0,this.listener.Vr()},e.prototype.Sr=function(){var t={};t.database=ll(this.D),this.wr(t)},e.prototype.vr=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return pl(e.D,t)})};this.wr(n)},e}(hf),pf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.er=n,i.D=r,i.Dr=!1,i}return Object(Jo.c)(e,t),e.prototype.Cr=function(){if(this.Dr)throw new Ca(wa.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Mi=function(t,e,n){var r=this;return this.Cr(),this.credentials.getToken().then(function(i){return r.er.Mi(t,e,n,i)}).catch(function(t){throw t.code===wa.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.Ui=function(t,e,n){var r=this;return this.Cr(),this.credentials.getToken().then(function(i){return r.er.Ui(t,e,n,i)}).catch(function(t){throw t.code===wa.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.terminate=function(){this.Dr=!1},e}(function(){}),mf=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Nr=0,this.$r=null,this.Fr=!0}return t.prototype.Or=function(){var t=this;0===this.Nr&&(this.kr("Unknown"),this.$r=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.$r=null,t.Mr("Backend didn't respond within 10 seconds."),t.kr("Offline"),Promise.resolve()}))},t.prototype.Lr=function(t){"Online"===this.state?this.kr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr("Connection failed 1 times. Most recent error: "+t.toString()),this.kr("Offline")))},t.prototype.set=function(t){this.Br(),this.Nr=0,"Online"===t&&(this.Fr=!1),this.kr(t)},t.prototype.kr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Mr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Fr?(ia(e),this.Fr=!1):ra("OnlineStateTracker",e)},t.prototype.Br=function(){null!==this.$r&&(this.$r.cancel(),this.$r=null)},t}(),gf=function(t,e,n,r,i){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.qr=[],this.Ur=new Map,this.Qr=new Set,this.Kr=[],this.Wr=i,this.Wr.pi(function(t){n.enqueueAndForget(function(){return Object(Jo.b)(s,void 0,void 0,function(){return Object(Jo.d)(this,function(t){switch(t.label){case 0:return Of(this)?(ra("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Jo.b)(this,void 0,void 0,function(){var e;return Object(Jo.d)(this,function(n){switch(n.label){case 0:return(e=ca(t)).Qr.add(4),[4,yf(e)];case 1:return n.sent(),e.jr.set("Unknown"),e.Qr.delete(4),[4,bf(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.jr=new mf(n,r)};function bf(t){return Object(Jo.b)(this,void 0,void 0,function(){var e,n;return Object(Jo.d)(this,function(r){switch(r.label){case 0:if(!Of(t))return[3,4];e=0,n=t.Kr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function yf(t){return Object(Jo.b)(this,void 0,void 0,function(){var e,n;return Object(Jo.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Kr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function vf(t,e){var n=ca(t);n.Ur.has(e.targetId)||(n.Ur.set(e.targetId,e),Sf(n)?Ef(n):Bf(n).ar()&&wf(n,e))}function _f(t,e){var n=ca(t),r=Bf(n);n.Ur.delete(e),r.ar()&&Cf(n,e),0===n.Ur.size&&(r.ar()?r.lr():Of(n)&&n.jr.set("Unknown"))}function wf(t,e){t.Gr.H(e.targetId),Bf(t).Ir(e)}function Cf(t,e){t.Gr.H(e),Bf(t).Ar(e)}function Ef(t){t.Gr=new Wc({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},yt:function(e){return t.Ur.get(e)||null}}),Bf(t).start(),t.jr.Or()}function Sf(t){return Of(t)&&!Bf(t).cr()&&t.Ur.size>0}function Of(t){return 0===ca(t).Qr.size}function xf(t){t.Gr=void 0}function Df(t){return Object(Jo.b)(this,void 0,void 0,function(){return Object(Jo.d)(this,function(e){return t.Ur.forEach(function(e,n){wf(t,e)}),[2]})})}function Af(t,e){return Object(Jo.b)(this,void 0,void 0,function(){return Object(Jo.d)(this,function(n){return xf(t),Sf(t)?(t.jr.Lr(e),Ef(t)):t.jr.set("Unknown"),[2]})})}function kf(t,e,n){return Object(Jo.b)(this,void 0,void 0,function(){var r,i,s;return Object(Jo.d)(this,function(o){switch(o.label){case 0:if(t.jr.set("Online"),!(e instanceof Gc&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(Jo.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(Jo.d)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.Ur.has(s=i[r])?[4,t.remoteSyncer.rejectListen(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Ur.delete(s),t.Gr.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),ra("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Tf(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Qc?t.Gr.st(e):e instanceof Hc?t.Gr.ht(e):t.Gr.ot(e),n.isEqual(Pu.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,Cd(t.localStore)];case 8:return i=o.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.Gr.dt(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Ur.get(r);i&&t.Ur.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Ur.get(e);if(n){t.Ur.set(e,n.withResumeToken(Aa.EMPTY_BYTE_STRING,n.snapshotVersion)),Cf(t,e);var r=new ph(n.target,e,1,n.sequenceNumber);wf(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return ra("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,Tf(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function Tf(t,e,n){return Object(Jo.b)(this,void 0,void 0,function(){var r=this;return Object(Jo.d)(this,function(i){switch(i.label){case 0:if(!sh(e))throw e;return t.Qr.add(1),[4,yf(t)];case 1:return i.sent(),t.jr.set("Offline"),n||(n=function(){return Cd(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(Jo.b)(r,void 0,void 0,function(){return Object(Jo.d)(this,function(e){switch(e.label){case 0:return ra("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Qr.delete(1),[4,bf(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function If(t,e){return e().catch(function(n){return Tf(t,n,e)})}function Rf(t){return Object(Jo.b)(this,void 0,void 0,function(){var e,n,r,i,s;return Object(Jo.d)(this,function(o){switch(o.label){case 0:e=ca(t),n=Uf(e),r=e.qr.length>0?e.qr[e.qr.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return Of(t)&&t.qr.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,Od(e.localStore,r)];case 3:return null===(i=o.sent())?(0===e.qr.length&&n.lr(),[3,7]):(r=i.batchId,function(t,e){t.qr.push(e);var n=Uf(t);n.ar()&&n.br&&n.vr(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,Tf(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return Nf(e)&&jf(e),[2]}})})}function Nf(t){return Of(t)&&!Uf(t).cr()&&t.qr.length>0}function jf(t){Uf(t).start()}function Ff(t){return Object(Jo.b)(this,void 0,void 0,function(){return Object(Jo.d)(this,function(e){return Uf(t).Sr(),[2]})})}function Mf(t){return Object(Jo.b)(this,void 0,void 0,function(){var e,n,r;return Object(Jo.d)(this,function(i){for(e=Uf(t),n=0,r=t.qr;n<r.length;n++)e.vr(r[n].mutations);return[2]})})}function Pf(t,e,n){return Object(Jo.b)(this,void 0,void 0,function(){var r,i;return Object(Jo.d)(this,function(s){switch(s.label){case 0:return r=t.qr.shift(),i=fh.from(r,e,n),[4,If(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,Rf(t)];case 2:return s.sent(),[2]}})})}function Lf(t,e){return Object(Jo.b)(this,void 0,void 0,function(){return Object(Jo.d)(this,function(n){switch(n.label){case 0:return e&&Uf(t).br?[4,function(t,e){return Object(Jo.b)(this,void 0,void 0,function(){var n,r;return Object(Jo.d)(this,function(i){switch(i.label){case 0:return Sc(r=e.code)&&r!==wa.ABORTED?(n=t.qr.shift(),Uf(t).hr(),[4,If(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Rf(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Nf(t)&&jf(t),[2]}})})}function Vf(t,e){return Object(Jo.b)(this,void 0,void 0,function(){var n;return Object(Jo.d)(this,function(r){switch(r.label){case 0:return n=ca(t),e?(n.Qr.delete(2),[4,bf(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Qr.add(2),[4,yf(n)]);case 3:r.sent(),n.jr.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Bf(t){var e=this;return t.zr||(t.zr=function(t,e,n){var r=ca(t);return r.Cr(),new df(e,r.er,r.credentials,r.D,n)}(t.datastore,t.asyncQueue,{Vi:Df.bind(null,t),Di:Af.bind(null,t),Tr:kf.bind(null,t)}),t.Kr.push(function(n){return Object(Jo.b)(e,void 0,void 0,function(){return Object(Jo.d)(this,function(e){switch(e.label){case 0:return n?(t.zr.hr(),Sf(t)?Ef(t):t.jr.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.zr.stop()];case 2:e.sent(),xf(t),e.label=3;case 3:return[2]}})})})),t.zr}function Uf(t){var e=this;return t.Hr||(t.Hr=function(t,e,n){var r=ca(t);return r.Cr(),new ff(e,r.er,r.credentials,r.D,n)}(t.datastore,t.asyncQueue,{Vi:Ff.bind(null,t),Di:Lf.bind(null,t),Vr:Mf.bind(null,t),Pr:Pf.bind(null,t)}),t.Kr.push(function(n){return Object(Jo.b)(e,void 0,void 0,function(){return Object(Jo.d)(this,function(e){switch(e.label){case 0:return n?(t.Hr.hr(),[4,Rf(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Hr.stop()];case 3:e.sent(),t.qr.length>0&&(ra("RemoteStore","Stopping write stream with "+t.qr.length+" pending writes"),t.qr=[]),e.label=4;case 4:return[2]}})})})),t.Hr}var qf=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Jl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ca(wa.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function zf(t,e){if(ia("AsyncQueue",e+": "+t),sh(t))return new Ca(wa.UNAVAILABLE,e+": "+t);throw t}var Qf=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Da.comparator(e.key,n.key)}:function(t,e){return Da.comparator(t.key,e.key)},this.keyedMap=Fc(),this.sortedSet=new xc(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Hf=function(){function t(){this.Jr=new xc(Da.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Jr.get(e);n?0!==t.type&&3===n.type?this.Jr=this.Jr.insert(e,t):3===t.type&&1!==n.type?this.Jr=this.Jr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Jr=this.Jr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Jr=this.Jr.remove(e):1===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):aa():this.Jr=this.Jr.insert(e,t)},t.prototype.Yr=function(){var t=[];return this.Jr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Gf=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,Qf.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Iu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Kf=function(){this.Xr=void 0,this.listeners=[]},Wf=function(){this.queries=new td(function(t){return Ru(t)},Iu),this.onlineState="Unknown",this.Zr=new Set};function $f(t,e){return Object(Jo.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(Jo.d)(this,function(c){switch(c.label){case 0:if(n=ca(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new Kf),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),o=s,[4,n.onListen(r)];case 2:return o.Xr=c.sent(),[3,4];case 3:return a=c.sent(),u=zf(a,"Initialization of query '"+Nu(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.eo(n.onlineState),s.Xr&&e.no(s.Xr)&&Jf(n),[2]}})})}function Yf(t,e){return Object(Jo.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Jo.d)(this,function(a){return n=ca(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Zf(t,e){for(var n=ca(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].no(o)&&(r=!0);a.Xr=o}}r&&Jf(n)}function Xf(t,e,n){var r=ca(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function Jf(t){t.Zr.forEach(function(t){t.next()})}var tp=function(){function t(t,e,n){this.query=t,this.so=e,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.no=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Gf(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var s=!1;return this.io?this.oo(t)&&(this.so.next(t),s=!0):this.co(t,this.onlineState)&&(this.ao(t),s=!0),this.ro=t,s},t.prototype.onError=function(t){this.so.error(t)},t.prototype.eo=function(t){this.onlineState=t;var e=!1;return this.ro&&!this.io&&this.co(this.ro,t)&&(this.ao(this.ro),e=!0),e},t.prototype.co=function(t,e){return!t.fromCache||!(this.options.uo&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.oo=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.ao=function(t){t=Gf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.io=!0,this.so.next(t)},t}(),ep=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.ho=function(){return"metadata"in this.payload},t}(),np=function(){function t(t){this.D=t}return t.prototype.Gn=function(t){return al(this.D,t)},t.prototype.zn=function(t){return t.metadata.exists?fl(this.D,t.document,!1):new Xa(this.Gn(t.metadata.name),this.Hn(t.metadata.readTime))},t.prototype.Hn=function(t){return rl(t)},t}();!function(){function t(t,e,n){this.lo=t,this.localStore=e,this.D=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.fo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.wo=function(t){for(var e=new Map,n=new np(this.D),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.Gn(s.metadata.name),a=0,u=s.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||Vc()).add(o);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Jo.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(Jo.d)(this,function(s){switch(s.label){case 0:return[4,Rd(this.localStore,new np(this.D),this.documents,this.lo.id)];case 1:t=s.sent(),e=this.wo(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,Nd(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new pd(Object.assign({},this.progress),t))]}})})}}();var rp=function(t){this.key=t},ip=function(t){this.key=t},sp=function(){function t(t,e){this.query=t,this._o=e,this.mo=null,this.current=!1,this.yo=Vc(),this.mutatedKeys=Vc(),this.po=Fu(t),this.Eo=new Qf(this.po)}return Object.defineProperty(t.prototype,"To",{get:function(){return this._o},enumerable:!1,configurable:!0}),t.prototype.Io=function(t,e){var n=this,r=e?e.Ao:new Hf,i=e?e.Eo:this.Eo,s=e?e.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=Eu(this.query)&&i.size===this.query.limit?i.last():null,c=Su(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=e instanceof Za?e:null;h&&(h=ju(n.query,h)?h:null);var d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?d!==f&&(r.track({type:3,doc:h}),p=!0):n.Ro(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.po(h,u)>0||c&&n.po(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=f?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),Eu(this.query)||Su(this.query))for(;o.size>this.query.limit;){var l=Eu(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Eo:o,Ao:r,Mn:a,mutatedKeys:s}},t.prototype.Ro=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.Eo;this.Eo=t.Eo,this.mutatedKeys=t.mutatedKeys;var s=t.Ao.Yr();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return aa()}};return n(t)-n(e)}(t.type,e.type)||r.po(t.doc,e.doc)}),this.bo(n);var o=e?this.vo():[],a=0===this.yo.size&&this.current?1:0,u=a!==this.mo;return this.mo=a,0!==s.length||u?{snapshot:new Gf(this.query,t.Eo,i,s,t.mutatedKeys,0===a,u,!1),Po:o}:{Po:o}},t.prototype.eo=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new Hf,mutatedKeys:this.mutatedKeys,Mn:!1},!1)):{Po:[]}},t.prototype.Vo=function(t){return!this._o.has(t)&&!!this.Eo.has(t)&&!this.Eo.get(t).hasLocalMutations},t.prototype.bo=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e._o=e._o.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e._o=e._o.delete(t)}),this.current=t.current)},t.prototype.vo=function(){var t=this;if(!this.current)return[];var e=this.yo;this.yo=Vc(),this.Eo.forEach(function(e){t.Vo(e.key)&&(t.yo=t.yo.add(e.key))});var n=[];return e.forEach(function(e){t.yo.has(e)||n.push(new ip(e))}),this.yo.forEach(function(t){e.has(t)||n.push(new rp(t))}),n},t.prototype.So=function(t){this._o=t.jn,this.yo=Vc();var e=this.Io(t.documents);return this.applyChanges(e,!0)},t.prototype.Do=function(){return Gf.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)},t}(),op=function(t,e,n){this.query=t,this.targetId=e,this.view=n},ap=function(t){this.key=t,this.Co=!1},up=function(){function t(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.xo={},this.No=new td(function(t){return Ru(t)},Iu),this.$o=new Map,this.Fo=new Set,this.Oo=new xc(Da.comparator),this.ko=new Map,this.Mo=new Fd,this.Lo={},this.Bo=new Map,this.qo=qh.ne(),this.onlineState="Unknown",this.Uo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Uo},enumerable:!1,configurable:!0}),t}();function cp(t,e){return Object(Jo.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Jo.d)(this,function(a){switch(a.label){case 0:return n=Lp(t),(i=n.No.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Do(),[3,4]):[3,1];case 1:return[4,xd(n.localStore,ku(e))];case 2:return s=a.sent(),o=n.sharedClientState.addLocalQueryTarget(s.targetId),[4,lp(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.isPrimaryClient&&vf(n.remoteStore,s),a.label=4;case 4:return[2,r]}})})}function lp(t,e,n,r){return Object(Jo.b)(this,void 0,void 0,function(){var i,s,o,a,u,c;return Object(Jo.d)(this,function(l){switch(l.label){case 0:return t.Qo=function(e,n,r){return function(t,e,n,r){return Object(Jo.b)(this,void 0,void 0,function(){var i,s,o;return Object(Jo.d)(this,function(a){switch(a.label){case 0:return(i=e.view.Io(n)).Mn?[4,Ad(t.localStore,e.query,!1).then(function(t){return e.view.Io(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,s),[2,(Ep(t,e.targetId,o.Po),o.snapshot)]}})})}(t,e,n,r)},[4,Ad(t.localStore,e,!0)];case 1:return i=l.sent(),s=new sp(e,i.jn),o=s.Io(i.documents),a=zc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a),Ep(t,n,u.Po),c=new op(e,n,s),[2,(t.No.set(e,c),t.$o.has(n)?t.$o.get(n).push(e):t.$o.set(n,[e]),u.snapshot)]}})})}function hp(t,e){return Object(Jo.b)(this,void 0,void 0,function(){var n,r,i;return Object(Jo.d)(this,function(s){switch(s.label){case 0:return n=ca(t),r=n.No.get(e),(i=n.$o.get(r.targetId)).length>1?[2,(n.$o.set(r.targetId,i.filter(function(t){return!Iu(t,e)})),void n.No.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Dd(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),_f(n.remoteStore,r.targetId),wp(n,r.targetId)}).catch(Kh)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return wp(n,r.targetId),[4,Dd(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function dp(t,e,n){return Object(Jo.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Jo.d)(this,function(a){switch(a.label){case 0:r=Vp(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=ca(t),i=Na.now(),s=e.reduce(function(t,e){return t.add(e.key)},Vc());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Kn.bn(t,s).next(function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=lc(c,n.get(c.key));null!=l&&o.push(new pc(c.key,l,Uu(l.proto.mapValue),sc.exists(!0)))}return r.Tn.addMutationBatch(t,i,o,e)})}).then(function(t){var e=t.applyToLocalDocumentSet(n);return{batchId:t.batchId,changes:e}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.Lo[t.currentUser.toKey()];r||(r=new xc(da)),r=r.insert(e,n),t.Lo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,xp(r,i.changes)];case 3:return a.sent(),[4,Rf(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=zf(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function fp(t,e){return Object(Jo.b)(this,void 0,void 0,function(){var n,r;return Object(Jo.d)(this,function(i){switch(i.label){case 0:n=ca(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Ed(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.ko.get(e);r&&(ua(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.Co=!0:t.modifiedDocuments.size>0?ua(r.Co):t.removedDocuments.size>0&&(ua(r.Co),r.Co=!1))}),[4,xp(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Kh(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function pp(t,e,n){var r=ca(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.No.forEach(function(t,n){var r=n.view.eo(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=ca(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].eo(e)&&(r=!0)}),r&&Jf(n)}(r.eventManager,e),i.length&&r.xo.Tr(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function mp(t,e,n){return Object(Jo.b)(this,void 0,void 0,function(){var r,i,s,o,a,u;return Object(Jo.d)(this,function(c){switch(c.label){case 0:return(r=ca(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.ko.get(e),(s=i&&i.key)?(o=(o=new xc(Da.comparator)).insert(s,new Xa(s,Pu.min())),a=Vc().add(s),u=new qc(Pu.min(),new Map,new kc(da),o,a),[4,fp(r,u)]):[3,2];case 1:return c.sent(),r.Oo=r.Oo.remove(s),r.ko.delete(e),Op(r),[3,4];case 2:return[4,Dd(r.localStore,e,!1).then(function(){return wp(r,e,n)}).catch(Kh)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function gp(t,e){return Object(Jo.b)(this,void 0,void 0,function(){var n,r,i;return Object(Jo.d)(this,function(s){switch(s.label){case 0:n=ca(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,wd(n.localStore,e)];case 2:return i=s.sent(),_p(n,r,null),vp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,xp(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Kh(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function bp(t,e,n){return Object(Jo.b)(this,void 0,void 0,function(){var r,i;return Object(Jo.d)(this,function(s){switch(s.label){case 0:r=ca(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=ca(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.Tn.lookupMutationBatch(t,e).next(function(e){return ua(null!==e),r=e.keys(),n.Tn.removeMutationBatch(t,e)}).next(function(){return n.Tn.performConsistencyCheck(t)}).next(function(){return n.Kn.bn(t,r)})})}(r.localStore,e)];case 2:return i=s.sent(),_p(r,e,n),vp(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,xp(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Kh(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function yp(t,e){return Object(Jo.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Jo.d)(this,function(a){switch(a.label){case 0:Of((n=ca(t)).remoteStore)||ra("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=ca(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Tn.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Bo.get(r)||[]).push(e),n.Bo.set(r,i),[3,4]);case 3:return s=a.sent(),o=zf(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function vp(t,e){(t.Bo.get(e)||[]).forEach(function(t){t.resolve()}),t.Bo.delete(e)}function _p(t,e,n){var r=ca(t),i=r.Lo[r.currentUser.toKey()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Lo[r.currentUser.toKey()]=i}}function wp(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.$o.get(e);r<i.length;r++){var s=i[r];t.No.delete(s),n&&t.xo.Ko(s,n)}t.$o.delete(e),t.isPrimaryClient&&t.Mo.os(e).forEach(function(e){t.Mo.containsKey(e)||Cp(t,e)})}function Cp(t,e){t.Fo.delete(e.path.canonicalString());var n=t.Oo.get(e);null!==n&&(_f(t.remoteStore,n),t.Oo=t.Oo.remove(e),t.ko.delete(n),Op(t))}function Ep(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof rp?(t.Mo.addReference(s.key,e),Sp(t,s)):s instanceof ip?(ra("SyncEngine","Document no longer in limbo: "+s.key),t.Mo.removeReference(s.key,e),t.Mo.containsKey(s.key)||Cp(t,s.key)):aa()}}function Sp(t,e){var n=e.key,r=n.path.canonicalString();t.Oo.get(n)||t.Fo.has(r)||(ra("SyncEngine","New document in limbo: "+n),t.Fo.add(r),Op(t))}function Op(t){for(;t.Fo.size>0&&t.Oo.size<t.maxConcurrentLimboResolutions;){var e=t.Fo.values().next().value;t.Fo.delete(e);var n=new Da(Sa.fromString(e)),r=t.qo.next();t.ko.set(r,new ap(n)),t.Oo=t.Oo.insert(n,r),vf(t.remoteStore,new ph(ku(Cu(n.path)),r,2,ta.o))}}function xp(t,e,n){return Object(Jo.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Jo.d)(this,function(a){switch(a.label){case 0:return r=ca(t),i=[],s=[],o=[],r.No.isEmpty()?[3,3]:(r.No.forEach(function(t,a){o.push(r.Qo(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=gd.Nn(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.xo.Tr(i),[4,function(t,e){return Object(Jo.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c;return Object(Jo.d)(this,function(l){switch(l.label){case 0:n=ca(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return th.forEach(e,function(e){return th.forEach(e.Cn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return th.forEach(e.xn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!sh(r=l.sent()))throw r;return ra("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(u=n.Bn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Bn=n.Bn.insert(a,c));return[2]}})})}(r.localStore,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Dp(t,e){return Object(Jo.b)(this,void 0,void 0,function(){var n,r;return Object(Jo.d)(this,function(i){switch(i.label){case 0:return(n=ca(t)).currentUser.isEqual(e)?[3,3]:(ra("SyncEngine","User change. New user:",e.toKey()),[4,_d(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Bo.forEach(function(t){t.forEach(function(t){t.reject(new Ca(wa.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Bo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,xp(n,r.Wn)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Ap(t,e){var n=ca(t),r=n.ko.get(e);if(r&&r.Co)return Vc().add(r.key);var i=Vc(),s=n.$o.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.No.get(a[o]);i=i.unionWith(u.view.To)}return i}function kp(t,e){return Object(Jo.b)(this,void 0,void 0,function(){var n,r,i;return Object(Jo.d)(this,function(s){switch(s.label){case 0:return[4,Ad((n=ca(t)).localStore,e.query,!0)];case 1:return r=s.sent(),i=e.view.So(r),[2,(n.isPrimaryClient&&Ep(n,e.targetId,i.Po),i)]}})})}function Tp(t){return Object(Jo.b)(this,void 0,void 0,function(){var e;return Object(Jo.d)(this,function(n){return[2,Td((e=ca(t)).localStore).then(function(t){return xp(e,t)})]})})}function Ip(t,e,n,r){return Object(Jo.b)(this,void 0,void 0,function(){var i,s;return Object(Jo.d)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=ca(t),r=ca(n.Tn);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.Jt(t,e).next(function(e){return e?n.Kn.bn(t,e):th.resolve(null)})})}((i=ca(t)).localStore,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,Rf(i.remoteStore)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(_p(i,e,r||null),vp(i,e),function(t,e){ca(ca(t).Tn).Xt(e)}(i.localStore,e)):aa(),o.label=4;case 4:return[4,xp(i,s)];case 5:return o.sent(),[3,7];case 6:ra("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function Rp(t,e){return Object(Jo.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(Jo.d)(this,function(c){switch(c.label){case 0:return Lp(n=ca(t)),Vp(n),!0!==e||!0===n.Uo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Np(n,r.toArray())]);case 1:return i=c.sent(),n.Uo=!0,[4,Vf(n.remoteStore,!0)];case 2:for(c.sent(),s=0,o=i;s<o.length;s++)vf(n.remoteStore,o[s]);return[3,7];case 3:return!1!==e||!1===n.Uo?[3,7]:(a=[],u=Promise.resolve(),n.$o.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return wp(n,e),Dd(n.localStore,e,!0)}),_f(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,Np(n,a)];case 5:return c.sent(),function(t){var e=ca(t);e.ko.forEach(function(t,n){_f(e.remoteStore,n)}),e.Mo.cs(),e.ko=new Map,e.Oo=new xc(Da.comparator)}(n),n.Uo=!1,[4,Vf(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Np(t,e,n){return Object(Jo.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c,l,h,d,f,p;return Object(Jo.d)(this,function(m){switch(m.label){case 0:n=ca(t),r=[],i=[],s=0,o=e,m.label=1;case 1:return s<o.length?(u=void 0,(c=n.$o.get(a=o[s]))&&0!==c.length?[4,xd(n.localStore,ku(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),l=0,h=c,m.label=3;case 3:return l<h.length?(d=n.No.get(h[l]),[4,kp(n,d)]):[3,6];case 4:(f=m.sent()).snapshot&&i.push(f.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,kd(n.localStore,a)];case 8:return p=m.sent(),[4,xd(n.localStore,p)];case 9:return u=m.sent(),[4,lp(n,jp(p),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return s++,[3,1];case 13:return[2,(n.xo.Tr(i),r)]}})})}function jp(t){return wu(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Fp(t){var e=ca(t);return ca(ca(e.localStore).persistence).gn()}function Mp(t,e,n,r){return Object(Jo.b)(this,void 0,void 0,function(){var i,s,o;return Object(Jo.d)(this,function(a){switch(a.label){case 0:return(i=ca(t)).Uo?(ra("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.$o.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Td(i.localStore)];case 3:return s=a.sent(),o=qc.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,xp(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,Dd(i.localStore,e,!0)];case 6:return a.sent(),wp(i,e,r),[3,8];case 7:aa(),a.label=8;case 8:return[2]}})})}function Pp(t,e,n){return Object(Jo.b)(this,void 0,void 0,function(){var r,i,s,o,a,u,c,l,h;return Object(Jo.d)(this,function(d){switch(d.label){case 0:if(!(r=Lp(t)).Uo)return[3,10];i=0,s=e,d.label=1;case 1:return i<s.length?r.$o.has(o=s[i])?(ra("SyncEngine","Adding an already active target "+o),[3,5]):[4,kd(r.localStore,o)]:[3,6];case 2:return a=d.sent(),[4,xd(r.localStore,a)];case 3:return u=d.sent(),[4,lp(r,jp(a),u.targetId,!1)];case 4:d.sent(),vf(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Jo.d)(this,function(e){switch(e.label){case 0:return r.$o.has(t)?[4,Dd(r.localStore,t,!1).then(function(){_f(r.remoteStore,t),wp(r,t)}).catch(Kh)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,d.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Lp(t){var e=ca(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=fp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ap.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mp.bind(null,e),e.xo.Tr=Zf.bind(null,e.eventManager),e.xo.Ko=Xf.bind(null,e.eventManager),e}function Vp(t){var e=ca(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gp.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bp.bind(null,e),e}var Bp=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Jo.b)(this,void 0,void 0,function(){return Object(Jo.d)(this,function(e){switch(e.label){case 0:return this.D=cf(t.databaseInfo.databaseId),this.sharedClientState=this.jo(t),this.persistence=this.Go(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.zo(t),this.localStore=this.Ho(t),[2]}})})},t.prototype.zo=function(t){return null},t.prototype.Ho=function(t){return vd(this.persistence,new bd,t.initialUser,this.D)},t.prototype.Go=function(t){return new Ud(zd.Cs,this.D)},t.prototype.jo=function(t){return new tf},t.prototype.terminate=function(){return Object(Jo.b)(this,void 0,void 0,function(){return Object(Jo.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),Up=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Jo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Jo.c)(e,t),e.prototype.initialize=function(e){return Object(Jo.b)(this,void 0,void 0,function(){return Object(Jo.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Id(this.localStore)];case 2:return n.sent(),[4,this.Jo.initialize(this,e)];case 3:return n.sent(),[4,Vp(this.Jo.syncEngine)];case 4:return n.sent(),[4,Rf(this.Jo.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Ho=function(t){return vd(this.persistence,new bd,t.initialUser,this.D)},e.prototype.zo=function(t){return new Yh(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.Go=function(t){var e=fd(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?jh.withCacheSize(this.cacheSizeBytes):jh.DEFAULT;return new ld(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,af(),uf(),this.D,this.sharedClientState,!!this.forceOwnership)},e.prototype.jo=function(t){return new tf},e}(Bp),qp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Jo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Jo.c)(e,t),e.prototype.initialize=function(e){return Object(Jo.b)(this,void 0,void 0,function(){var n,r=this;return Object(Jo.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Jo.syncEngine,this.sharedClientState instanceof Jd?(this.sharedClientState.syncEngine={wi:Ip.bind(null,n),_i:Mp.bind(null,n),mi:Pp.bind(null,n),gn:Fp.bind(null,n),di:Tp.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.en(function(t){return Object(Jo.b)(r,void 0,void 0,function(){return Object(Jo.d)(this,function(e){switch(e.label){case 0:return[4,Rp(this.Jo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.jo=function(t){var e=af();if(!Jd.At(e))throw new Ca(wa.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=fd(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Jd(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Up),zp=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Jo.b)(this,void 0,void 0,function(){var n=this;return Object(Jo.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return pp(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Dp.bind(null,this.syncEngine),[4,Vf(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new Wf},t.prototype.createDatastore=function(t){var e=cf(t.databaseInfo.databaseId),n=new of(t.databaseInfo);return function(t,e,n){return new pf(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,s,o=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return pp(o.syncEngine,t,0)},s=nf.At()?new nf:new ef,new gf(e,n,r,i,s)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,s,o){var a=new up(t,e,n,r,i,s);return o&&(a.Uo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(Jo.b)(this,void 0,void 0,function(){var e;return Object(Jo.d)(this,function(n){switch(n.label){case 0:return e=ca(t),ra("RemoteStore","RemoteStore shutting down."),e.Qr.add(5),[4,yf(e)];case 1:return n.sent(),e.Wr.shutdown(),e.jr.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),Qp=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.Yo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.Yo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Xo=function(){this.muted=!0},t.prototype.Yo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Hp=(function(){function t(t,e){var n=this;this.Zo=t,this.D=e,this.metadata=new Jl,this.buffer=new Uint8Array,this.tc=new TextDecoder("utf-8"),this.ec().then(function(t){t&&t.ho()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Zo.cancel()},t.prototype.getMetadata=function(){return Object(Jo.b)(this,void 0,void 0,function(){return Object(Jo.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Wo=function(){return Object(Jo.b)(this,void 0,void 0,function(){return Object(Jo.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.ec())]}})})},t.prototype.ec=function(){return Object(Jo.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(Jo.d)(this,function(i){switch(i.label){case 0:return[4,this.nc()];case 1:return null===(t=i.sent())?[2,null]:(e=this.tc.decode(t),n=Number(e),isNaN(n)&&this.sc("length string ("+e+") is not valid number"),[4,this.ic(n)]);case 2:return r=i.sent(),[2,new ep(JSON.parse(r),t.length+n)]}})})},t.prototype.rc=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.nc=function(){return Object(Jo.b)(this,void 0,void 0,function(){var t,e;return Object(Jo.d)(this,function(n){switch(n.label){case 0:return this.rc()<0?[4,this.oc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.rc())<0&&this.sc("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.ic=function(t){return Object(Jo.b)(this,void 0,void 0,function(){var e;return Object(Jo.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.oc()]:[3,3];case 1:n.sent()&&this.sc("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.tc.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.sc=function(t){throw this.Zo.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.oc=function(){return Object(Jo.b)(this,void 0,void 0,function(){var t,e;return Object(Jo.d)(this,function(n){switch(n.label){case 0:return[4,this.Zo.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(Jo.b)(this,void 0,void 0,function(){var e,n=this;return Object(Jo.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Ca(wa.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Jo.b)(this,void 0,void 0,function(){var n,r,i,s,o,a;return Object(Jo.d)(this,function(u){switch(u.label){case 0:return n=ca(t),r=ll(n.D)+"/documents",i={documents:e.map(function(t){return ol(n.D,t)})},[4,n.Ui("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){ua(!!e.found);var n=al(t,e.found.name),r=rl(e.found.updateTime),i=new Vu({mapValue:{fields:e.found.fields}});return new Za(n,r,i,{})}(t,e):"missing"in e?function(t,e){ua(!!e.missing),ua(!!e.readTime);var n=al(t,e.missing),r=rl(e.readTime);return new Xa(n,r)}(t,e):aa()}(n.D,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());ua(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof Xa||t instanceof Za?n.recordVersion(t):aa()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new wc(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(Jo.b)(this,void 0,void 0,function(){var t,e=this;return Object(Jo.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Da.fromPath(n);e.mutations.push(new Cc(r,e.precondition(r)))}),[4,function(t,e){return Object(Jo.b)(this,void 0,void 0,function(){var n,r,i;return Object(Jo.d)(this,function(s){switch(s.label){case 0:return n=ca(t),r=ll(n.D)+"/documents",i={writes:e.map(function(t){return pl(n.D,t)})},[4,n.Mi("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t instanceof Za)e=t.version;else{if(!(t instanceof Xa))throw aa();e=Pu.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Ca(wa.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?sc.updateTime(e):sc.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Pu.min()))throw new Ca(wa.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return sc.updateTime(e)}return sc.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),Gp=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.cc=5,this.rr=new lf(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ac()},t.prototype.ac=function(){var t=this;this.rr.Yi(function(){return Object(Jo.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Jo.d)(this,function(r){return t=new Hp(this.datastore),(e=this.uc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.hc(t)})})}).catch(function(t){n.hc(t)}),[2]})})})},t.prototype.uc=function(t){try{var e=this.updateFunction(t);return!ya(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.hc=function(t){var e=this;this.cc>0&&this.lc(t)?(this.cc-=1,this.asyncQueue.enqueueAndForget(function(){return e.ac(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.lc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Sc(e)}return!1},t}(),Kp=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Qd.UNAUTHENTICATED,this.clientId=ha.u(),this.credentialListener=function(){},this.receivedInitialUser=new Jl,this.credentials.setChangeListener(function(t){ra("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()})}return t.prototype.getConfiguration=function(){return Object(Jo.b)(this,void 0,void 0,function(){return Object(Jo.d)(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Ca(wa.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Jl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Jo.b)(t,void 0,void 0,function(){var t,n;return Object(Jo.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=zf(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Wp(t,e){return Object(Jo.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(Jo.d)(this,function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),ra("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.initialUser,t.setCredentialChangeListener(function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable(function(){return Object(Jo.b)(i,void 0,void 0,function(){return Object(Jo.d)(this,function(t){switch(t.label){case 0:return[4,_d(e.localStore,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function $p(t,e){return Object(Jo.b)(this,void 0,void 0,function(){var n,r;return Object(Jo.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Yp(t)];case 1:return n=i.sent(),ra("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(n){return t.asyncQueue.enqueueRetryable(function(){return function(t,e){return Object(Jo.b)(this,void 0,void 0,function(){var n,r;return Object(Jo.d)(this,function(i){switch(i.label){case 0:return(n=ca(t)).asyncQueue.verifyOperationInProgress(),ra("RemoteStore","RemoteStore received new credentials"),r=Of(n),n.Qr.add(3),[4,yf(n)];case 1:return i.sent(),r&&n.jr.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Qr.delete(3),[4,bf(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,n)})}),t.onlineComponents=e,[2]}})})}function Yp(t){return Object(Jo.b)(this,void 0,void 0,function(){return Object(Jo.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(ra("FirestoreClient","Using default OfflineComponentProvider"),[4,Wp(t,new Bp)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Zp(t){return Object(Jo.b)(this,void 0,void 0,function(){return Object(Jo.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(ra("FirestoreClient","Using default OnlineComponentProvider"),[4,$p(t,new zp)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Xp(t){return Yp(t).then(function(t){return t.persistence})}function Jp(t){return Yp(t).then(function(t){return t.localStore})}function tm(t){return Zp(t).then(function(t){return t.remoteStore})}function em(t){return Zp(t).then(function(t){return t.syncEngine})}function nm(t){return Object(Jo.b)(this,void 0,void 0,function(){var e,n;return Object(Jo.d)(this,function(r){switch(r.label){case 0:return[4,Zp(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=cp.bind(null,e.syncEngine),n.onUnlisten=hp.bind(null,e.syncEngine),n)]}})})}function rm(t,e,n){var r=this;void 0===n&&(n={});var i=new Jl;return t.asyncQueue.enqueueAndForget(function(){return Object(Jo.b)(r,void 0,void 0,function(){var r;return Object(Jo.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Qp({next:function(s){e.enqueueAndForget(function(){return Yf(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new Ca(wa.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Ca(wa.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new tp(Cu(n.path),s,{includeMetadataChanges:!0,uo:!0});return $f(t,o)},[4,nm(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function im(t,e,n){var r=this;void 0===n&&(n={});var i=new Jl;return t.asyncQueue.enqueueAndForget(function(){return Object(Jo.b)(r,void 0,void 0,function(){var r;return Object(Jo.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Qp({next:function(n){e.enqueueAndForget(function(){return Yf(t,o)}),n.fromCache&&"server"===r.source?i.reject(new Ca(wa.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new tp(n,s,{includeMetadataChanges:!0,uo:!0});return $f(t,o)},[4,nm(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var sm=function(t,e,n,r,i,s){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.autoDetectLongPolling=s},om=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),am=new Map,um=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},cm=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(Qd.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),lm=function(){function t(t){var e=this;this.fc=null,this.currentUser=Qd.UNAUTHENTICATED,this.receivedInitialUser=!1,this.dc=0,this.changeListener=null,this.forceRefresh=!1,this.fc=function(){e.dc++,e.currentUser=e.wc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.dc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.fc):(this.fc(null),t.get().then(function(t){e.auth=t,e.fc&&e.auth.addAuthTokenListener(e.fc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.dc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.dc!==e?(ra("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(ua("string"==typeof n.accessToken),new um(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.fc),this.fc=null,this.changeListener=null},t.prototype.wc=function(){var t=this.auth&&this.auth.getUid();return ua(null===t||"string"==typeof t),new Qd(t)},t}(),hm=function(){function t(t,e){this._c=t,this.mc=e,this.type="FirstParty",this.user=Qd.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.mc},e=this._c.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),dm=function(){function t(t,e){this._c=t,this.mc=e}return t.prototype.getToken=function(){return Promise.resolve(new hm(this._c,this.mc))},t.prototype.setChangeListener=function(t){t(Qd.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function fm(t,e,n){if(!n)throw new Ca(wa.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function pm(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ca(wa.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function mm(t,e,n,r){if(!0===e&&!0===r)throw new Ca(wa.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function gm(t){if(!Da.isDocumentKey(t))throw new Ca(wa.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function bm(t){if(Da.isDocumentKey(t))throw new Ca(wa.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function ym(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":aa()}function vm(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ca(wa.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ym(t);throw new Ca(wa.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function _m(t,e){if(e<=0)throw new Ca(wa.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var wm=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ca(wa.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ca(wa.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,mm("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Cm=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new wm({}),this._settingsFrozen=!1,t instanceof om?(this._databaseId=t,this._credentials=new cm):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ca(wa.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new om(t.options.projectId)}(t),this._credentials=new lm(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Ca(wa.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Ca(wa.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wm(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new cm;switch(t.type){case"gapi":var e=t.client;return ua(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new dm(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Ca(wa.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=am.get(this))&&(ra("ComponentProvider","Removing Datastore"),am.delete(this),t.terminate()),Promise.resolve();var t},t}(),Em=function(t){this._delegate=t},Sm=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new xm(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Om=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),xm=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Cu(r))||this).firestore=e,i._path=r,i.type="collection",i}return Object(Jo.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Sm(this.firestore,null,new Da(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Om);function Dm(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Em&&(t=t._delegate),fm("collection","path",e),t instanceof Cm)return bm(n=Sa.fromString.apply(Sa,Object(Jo.f)([e],r))),new xm(t,null,n);if(!(t instanceof Sm||t instanceof xm))throw new Ca(wa.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return bm(n=Sa.fromString.apply(Sa,Object(Jo.f)([t.path],r)).child(Sa.fromString(e))),new xm(t.firestore,null,n)}function Am(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Em&&(t=t._delegate),1===arguments.length&&(e=ha.u()),fm("doc","path",e),t instanceof Cm)return gm(n=Sa.fromString.apply(Sa,Object(Jo.f)([e],r))),new Sm(t,null,new Da(n));if(!(t instanceof Sm||t instanceof xm))throw new Ca(wa.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return gm(n=t._path.child(Sa.fromString.apply(Sa,Object(Jo.f)([e],r)))),new Sm(t.firestore,t instanceof xm?t._converter:null,new Da(n))}function km(t,e){return t instanceof Em&&(t=t._delegate),e instanceof Em&&(e=e._delegate),(t instanceof Sm||t instanceof xm)&&(e instanceof Sm||e instanceof xm)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function Tm(t,e){return t instanceof Em&&(t=t._delegate),e instanceof Em&&(e=e._delegate),t instanceof Om&&e instanceof Om&&t.firestore===e.firestore&&Iu(t._query,e._query)&&t._converter===e._converter}var Im=function(){function t(){var t=this;this.yc=Promise.resolve(),this.gc=[],this.Ec=!1,this.Tc=[],this.Ic=null,this.Ac=!1,this.Rc=[],this.rr=new lf(this,"async_queue_retry"),this.bc=function(){var e=uf();e&&ra("AsyncQueue","Visibility state changed to "+e.visibilityState),t.rr.Zi()};var e=uf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.Ec},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.vc(),this.Pc(t)},t.prototype.enterRestrictedMode=function(){if(!this.Ec){this.Ec=!0;var t=uf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}},t.prototype.enqueue=function(t){return this.vc(),this.Ec?new Promise(function(t){}):this.Pc(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.gc.push(t),e.Vc()})},t.prototype.Vc=function(){return Object(Jo.b)(this,void 0,void 0,function(){var t,e=this;return Object(Jo.d)(this,function(n){switch(n.label){case 0:if(0===this.gc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gc[0]()];case 2:return n.sent(),this.gc.shift(),this.rr.reset(),[3,4];case 3:if(!sh(t=n.sent()))throw t;return ra("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gc.length>0&&this.rr.Yi(function(){return e.Vc()}),n.label=5;case 5:return[2]}})})},t.prototype.Pc=function(t){var e=this,n=this.yc.then(function(){return e.Ac=!0,t().catch(function(t){throw e.Ic=t,e.Ac=!1,ia("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.Ac=!1,t})});return this.yc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.vc(),this.Rc.indexOf(t)>-1&&(e=0);var i=qf.createAndSchedule(this,t,e,n,function(t){return r.Sc(t)});return this.Tc.push(i),i},t.prototype.vc=function(){this.Ic&&aa()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Dc=function(){return Object(Jo.b)(this,void 0,void 0,function(){var t;return Object(Jo.d)(this,function(e){switch(e.label){case 0:return[4,t=this.yc];case 1:e.sent(),e.label=2;case 2:if(t!==this.yc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Cc=function(t){for(var e=0,n=this.Tc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.xc=function(t){var e=this;return this.Dc().then(function(){e.Tc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.Tc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Dc()})},t.prototype.Nc=function(t){this.Rc.push(t)},t.prototype.Sc=function(t){var e=this.Tc.indexOf(t);this.Tc.splice(e,1)},t}();function Rm(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Jl,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Nm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new Im,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(Jo.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Fm(this),this._firestoreClient.terminate()},e}(Cm);function jm(t){return t._firestoreClient||Fm(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Fm(t){var e=t._freezeSettings(),n=function(t,e,n){return new sm(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t._databaseId,t._persistenceKey,e);t._firestoreClient=new Kp(t._credentials,t._queue,n)}function Mm(t,e,n){var r=this,i=new Jl;return t.asyncQueue.enqueue(function(){return Object(Jo.b)(r,void 0,void 0,function(){var r;return Object(Jo.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,Wp(t,n)];case 1:return s.sent(),[4,$p(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===wa.FAILED_PRECONDITION||t.code===wa.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Pm(t){if(t._initialized||t._terminated)throw new Ca(wa.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Lm=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Ca(wa.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xa(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Vm=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Aa.fromBase64String(e))}catch(e){throw new Ca(wa.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Aa.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Bm=function(t){this._methodName=t},Um=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ca(wa.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ca(wa.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return da(this._lat,t._lat)||da(this._long,t._long)},t}(),qm=/^__.*__$/,zm=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new pc(t,this.data,this.fieldMask,e,this.fieldTransforms):new fc(t,this.data,e,this.fieldTransforms)},t}(),Qm=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new pc(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function Hm(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw aa()}}var Gm=function(){function t(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.D=n,this.ignoreUndefinedProperties=r,void 0===i&&this.$c(),this.fieldTransforms=i||[],this.fieldMask=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Fc",{get:function(){return this.settings.Fc},enumerable:!1,configurable:!0}),t.prototype.Oc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.D,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:n,Mc:!1});return r.Lc(t),r},t.prototype.Bc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:n,Mc:!1});return r.$c(),r},t.prototype.qc=function(t){return this.Oc({path:void 0,Mc:!0})},t.prototype.Uc=function(t){return dg(t,this.settings.methodName,this.settings.Qc||!1,this.path,this.settings.Kc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.$c=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Lc(this.path.get(t))},t.prototype.Lc=function(t){if(0===t.length)throw this.Uc("Document fields must not be empty");if(Hm(this.Fc)&&qm.test(t))throw this.Uc('Document fields cannot begin and end with "__"')},t}(),Km=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.D=n||cf(t)}return t.prototype.Wc=function(t,e,n,r){return void 0===r&&(r=!1),new Gm({Fc:t,methodName:e,Kc:n,path:xa.emptyPath(),Mc:!1,Qc:r},this.databaseId,this.D,this.ignoreUndefinedProperties)},t}();function Wm(t){var e=t._freezeSettings(),n=cf(t._databaseId);return new Km(t._databaseId,!!e.ignoreUndefinedProperties,n)}function $m(t,e,n,r,i,s){void 0===s&&(s={});var o=t.Wc(s.merge||s.mergeFields?2:0,e,n,i);ug("Data must be an object, but it was:",o,r);var a,u,c=og(r,o);if(s.merge)a=new Lu(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,d=s.mergeFields;h<d.length;h++){var f=cg(e,d[h],n);if(!o.contains(f))throw new Ca(wa.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");fg(l,f)||l.push(f)}a=new Lu(l),u=o.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=o.fieldTransforms;return new zm(new Vu(c),a,u)}var Ym=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Jo.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Fc)throw t.Uc(1===t.Fc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Bm);function Zm(t,e,n){return new Gm({Fc:3,Kc:e.settings.Kc,methodName:t._methodName,Mc:n},e.databaseId,e.D,e.ignoreUndefinedProperties)}var Xm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Jo.c)(e,t),e.prototype._toFieldTransform=function(t){return new rc(t.path,new $u)},e.prototype.isEqual=function(t){return t instanceof e},e}(Bm),Jm=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return Object(Jo.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Zm(this,t,!0),n=this.jc.map(function(t){return sg(t,e)}),r=new Yu(n);return new rc(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Bm),tg=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return Object(Jo.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Zm(this,t,!0),n=this.jc.map(function(t){return sg(t,e)}),r=new Xu(n);return new rc(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Bm),eg=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Gc=n,r}return Object(Jo.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new tc(t.D,Qu(t.D,this.Gc));return new rc(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Bm);function ng(t,e,n,r){var i=t.Wc(1,e,n);ug("Data must be an object, but it was:",i,r);var s=[],o=new Bu;ga(r,function(t,r){var a=hg(e,t,n);r instanceof Em&&(r=r._delegate);var u=i.Bc(a);if(r instanceof Ym)s.push(a);else{var c=sg(r,u);null!=c&&(s.push(a),o.set(a,c))}});var a=new Lu(s);return new Qm(o.v(),a,i.fieldTransforms)}function rg(t,e,n,r,i,s){var o=t.Wc(1,e,n),a=[cg(e,r,n)],u=[i];if(s.length%2!=0)throw new Ca(wa.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push(cg(e,s[c])),u.push(s[c+1]);for(var l=[],h=new Bu,d=a.length-1;d>=0;--d)if(!fg(l,a[d])){var f=a[d],p=u[d];p instanceof Em&&(p=p._delegate);var m=o.Bc(f);if(p instanceof Ym)l.push(f);else{var g=sg(p,m);null!=g&&(l.push(f),h.set(f,g))}}var b=new Lu(l);return new Qm(h.v(),b,o.fieldTransforms)}function ig(t,e,n,r){return void 0===r&&(r=!1),sg(n,t.Wc(r?4:3,e))}function sg(t,e){if(t instanceof Em&&(t=t._delegate),ag(t))return ug("Unsupported field value:",e,t),og(t,e);if(t instanceof Bm)return function(t,e){if(!Hm(e.Fc))throw e.Uc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Uc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Mc&&4!==e.Fc)throw e.Uc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=sg(s[i],e.qc(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Em&&(t=t._delegate),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Qu(e.D,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Na.fromDate(t);return{timestampValue:tl(e.D,n)}}if(t instanceof Na)return n=new Na(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:tl(e.D,n)};if(t instanceof Um)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Vm)return{bytesValue:el(e.D,t._byteString)};if(t instanceof Sm){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Uc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:il(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Uc("Unsupported field value: "+ym(t))}(t,e)}function og(t,e){var n={};return ba(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ga(t,function(t,r){var i=sg(r,e.kc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function ag(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Na||t instanceof Um||t instanceof Vm||t instanceof Sm||t instanceof Bm)}function ug(t,e,n){if(!ag(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=ym(n);throw e.Uc("an object"===r?t+" a custom object":t+" "+r)}}function cg(t,e,n){if(e instanceof Em&&(e=e._delegate),e instanceof Lm)return e._internalPath;if("string"==typeof e)return hg(t,e);throw dg("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var lg=new RegExp("[~\\*/\\[\\]]");function hg(t,e,n){if(e.search(lg)>=0)throw dg("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Lm.bind.apply(Lm,Object(Jo.f)([void 0],e.split(".")))))._internalPath}catch(r){throw dg("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function dg(t,e,n,r,i){var s=r&&!r.isEmpty(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new Ca(wa.INVALID_ARGUMENT,(a+=". ")+t+u)}function fg(t,e){return t.some(function(t){return t.isEqual(e)})}var pg=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Sm(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new mg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data().field(gg("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),mg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Jo.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(pg);function gg(t,e){return"string"==typeof e?hg(t,e):e instanceof Em?e._delegate._internalPath:e._internalPath}var bg=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),yg=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this)._firestore=e,a._firestoreImpl=e,a.metadata=s,a}return Object(Jo.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new vg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data().field(gg("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(pg),vg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Jo.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(yg),_g=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new bg(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new vg(n._firestore,n._userDataWriter,r.key,r,new bg(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ca(wa.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new vg(t._firestore,t._userDataWriter,e.doc.key,e.doc,new bg(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new vg(t._firestore,t._userDataWriter,e.doc.key,e.doc,new bg(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:wg(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function wg(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return aa()}}function Cg(t,e){return t instanceof yg&&e instanceof yg?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof _g&&e instanceof _g&&t._firestore===e._firestore&&Tm(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Eg(t){if(Su(t)&&0===t.explicitOrderBy.length)throw new Ca(wa.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Sg=function(){};function Og(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s._apply(t)}return t}var xg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).zc=e,i.Hc=n,i.Jc=r,i.type="where",i}return Object(Jo.c)(e,t),e.prototype._apply=function(t){var e=Wm(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Ca(wa.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){Ng(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(Rg(r,t,l[c]));a={arrayValue:{values:u}}}else a=Rg(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Ng(o,s),a=ig(n,"where",o,"in"===s||"not-in"===s);var h=su.create(i,s,a);return function(t,e){if(e.g()){var n=xu(t);if(null!==n&&!n.isEqual(e.field))throw new Ca(wa.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Ou(t);null!==r&&jg(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Ca(wa.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.zc,this.Hc,this.Jc);return new Om(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new _u(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Sg),Dg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).zc=e,r.Yc=n,r.type="orderBy",r}return Object(Jo.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Ca(wa.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Ca(wa.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new gu(e,n);return function(t,e){if(null===Ou(t)){var n=xu(t);null!==n&&jg(0,n,e.field)}}(t,r),r}(t._query,this.zc,this.Yc);return new Om(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new _u(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Sg),Ag=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return Object(Jo.c)(e,t),e.prototype._apply=function(t){return new Om(t.firestore,t._converter,Tu(t._query,this.Xc,this.Zc))},e}(Sg),kg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ta=n,i.ea=r,i}return Object(Jo.c)(e,t),e.prototype._apply=function(t){var e=Ig(t,this.type,this.ta,this.ea);return new Om(t.firestore,t._converter,function(t,e){return new _u(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Sg),Tg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ta=n,i.ea=r,i}return Object(Jo.c)(e,t),e.prototype._apply=function(t){var e=Ig(t,this.type,this.ta,this.ea);return new Om(t.firestore,t._converter,function(t,e){return new _u(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Sg);function Ig(t,e,n,r){if(n[0]instanceof Em&&(n[0]=n[0]._delegate),n[0]instanceof pg)return function(t,e,n,r,i){if(!r)throw new Ca(wa.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=Au(t);o<a.length;o++){var u=a[o];if(u.field.isKeyField())s.push(Qa(e,r.key));else{var c=r.field(u.field);if(ja(c))throw new Ca(wa.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Ca(wa.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new pu(s,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Wm(t.firestore);return function(t,e,n,r,i,s){var o=t.explicitOrderBy;if(i.length>o.length)throw new Ca(wa.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Ca(wa.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Du(t)&&-1!==c.indexOf("/"))throw new Ca(wa.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Sa.fromString(c));if(!Da.isDocumentKey(l))throw new Ca(wa.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Da(l);a.push(Qa(e,h))}else{var d=ig(n,r,c);a.push(d)}}return new pu(a,s)}(t._query,t.firestore._databaseId,i,e,n,r)}function Rg(t,e,n){if(n instanceof Em&&(n=n._delegate),"string"==typeof n){if(""===n)throw new Ca(wa.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Du(e)&&-1!==n.indexOf("/"))throw new Ca(wa.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Sa.fromString(n));if(!Da.isDocumentKey(r))throw new Ca(wa.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Qa(t,new Da(r))}if(n instanceof Sm)return Qa(t,n._key);throw new Ca(wa.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+ym(n)+".")}function Ng(t,e){if(!Array.isArray(t)||0===t.length)throw new Ca(wa.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Ca(wa.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function jg(t,e,n){if(!n.isEqual(e))throw new Ca(wa.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Fg=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Pa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ia(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ra(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw aa()}},t.prototype.convertObject=function(t,e){var n=this,r={};return ga(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new Um(Ia(t.latitude),Ia(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Fa(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Ma(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Ta(t);return new Na(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Sa.fromString(t);ua(kl(n));var r=new om(n.get(1),n.get(3)),i=new Da(n.popFirst(5));return r.isEqual(e)||ia("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Mg(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Pg=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Jo.c)(e,t),e.prototype.convertBytes=function(t){return new Vm(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Sm(this.firestore,null,e)},e}(Fg),Lg=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Wm(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Vg(t,this._firestore),i=Mg(r._converter,e,n),s=$m(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(s.toMutation(r._key,sc.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var s,o=Vg(t,this._firestore);return e instanceof Em&&(e=e._delegate),s="string"==typeof e||e instanceof Lm?rg(this._dataReader,"WriteBatch.update",o._key,e,n,r):ng(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,sc.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Vg(t,this._firestore);return this._mutations=this._mutations.concat(new wc(e._key,sc.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Ca(wa.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Vg(t,e){if(t instanceof Em&&(t=t._delegate),t.firestore!==e)throw new Ca(wa.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Bg=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Jo.c)(e,t),e.prototype.convertBytes=function(t){return new Vm(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Sm(this.firestore,null,e)},e}(Fg);function Ug(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=vm(t,Sm);var s=vm(t.firestore,Nm),o=Wm(s);return e instanceof Em&&(e=e._delegate),zg(s,[("string"==typeof e||e instanceof Lm?rg(o,"updateDoc",t._key,e,n,r):ng(o,"updateDoc",t._key,e)).toMutation(t._key,sc.exists(!0))])}function qg(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t instanceof Em&&(t=t._delegate);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Rm(i[a])||(o=i[a],a++);var u,c,l,h={includeMetadataChanges:o.includeMetadataChanges};if(Rm(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof Sm)c=vm(t.firestore,Nm),l=Cu(t._key.path),u={next:function(e){i[a]&&i[a](Qg(c,t,e))},error:i[a+1],complete:i[a+2]};else{var f=vm(t,Om);c=vm(f.firestore,Nm),l=f._query;var p=new Bg(c);u={next:function(t){i[a]&&i[a](new _g(c,p,f,t))},error:i[a+1],complete:i[a+2]},Eg(t._query)}return function(t,e,n,r){var i=this,s=new Qp(r),o=new tp(e,s,n);return t.asyncQueue.enqueueAndForget(function(){return Object(Jo.b)(i,void 0,void 0,function(){var e;return Object(Jo.d)(this,function(n){switch(n.label){case 0:return e=$f,[4,nm(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.Xo(),t.asyncQueue.enqueueAndForget(function(){return Object(Jo.b)(i,void 0,void 0,function(){var e;return Object(Jo.d)(this,function(n){switch(n.label){case 0:return e=Yf,[4,nm(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(jm(c),l,h,u)}function zg(t,e){return function(t,e){var n=this,r=new Jl;return t.asyncQueue.enqueueAndForget(function(){return Object(Jo.b)(n,void 0,void 0,function(){var n;return Object(Jo.d)(this,function(i){switch(i.label){case 0:return n=dp,[4,em(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(jm(t),e)}function Qg(t,e,n){var r=n.docs.get(e._key),i=new Bg(t);return new yg(t,i,e._key,r,new bg(n.hasPendingWrites,n.fromCache),e._converter)}var Hg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(Jo.c)(e,t),e.prototype.get=function(e){var n=this,r=Vg(e,this._firestore),i=new Bg(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new yg(n._firestore,i,r._key,t._document,new bg(!1,!1),r._converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Wm(t)}return t.prototype.get=function(t){var e=this,n=Vg(t,this._firestore),r=new Pg(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return aa();var i=t[0];if(i instanceof Xa)return new pg(e._firestore,r,n._key,null,n._converter);if(i instanceof Za)return new pg(e._firestore,r,i.key,i,n._converter);throw aa()})},t.prototype.set=function(t,e,n){var r=Vg(t,this._firestore),i=Mg(r._converter,e,n),s=$m(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=Vg(t,this._firestore);return e instanceof Em&&(e=e._delegate),s="string"==typeof e||e instanceof Lm?rg(this._dataReader,"Transaction.update",o._key,e,n,r):ng(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,s),this},t.prototype.delete=function(t){var e=Vg(t,this._firestore);return this._transaction.delete(e._key),this},t}());function Gg(){if("undefined"==typeof Uint8Array)throw new Ca(wa.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Kg(){if("undefined"==typeof atob)throw new Ca(wa.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Wg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Jo.c)(e,t),e.fromBase64String=function(t){return Kg(),new e(Vm.fromBase64String(t))},e.fromUint8Array=function(t){return Gg(),new e(Vm.fromUint8Array(t))},e.prototype.toBase64=function(){return Kg(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return Gg(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Em),$g=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Pm(t=vm(t,Nm));var n=jm(t),r=t._freezeSettings(),i=new zp;return Mm(n,i,new Up(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Pm(t=vm(t,Nm));var e=jm(t),n=t._freezeSettings(),r=new zp;return Mm(e,r,new qp(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Ca(wa.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Jl;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Jo.b)(e,void 0,void 0,function(){var e;return Object(Jo.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Jo.b)(this,void 0,void 0,function(){return Object(Jo.d)(this,function(e){switch(e.label){case 0:return nh.At()?[4,nh.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(fd(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),Yg=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).na=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof om||(i.sa=e),i}return Object(Jo.c)(e,t),Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=vm(t,Cm))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==e&&sa("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Jo.b)(e,void 0,void 0,function(){var e,n;return Object(Jo.d)(this,function(r){switch(r.label){case 0:return[4,Xp(t)];case 1:return e=r.sent(),[4,tm(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=ca(t);return e.Qr.delete(0),bf(e)}(n))]}})})})}(jm(vm(this._delegate,Nm)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Jo.b)(e,void 0,void 0,function(){var e,n;return Object(Jo.d)(this,function(r){switch(r.label){case 0:return[4,Xp(t)];case 1:return e=r.sent(),[4,tm(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(Jo.b)(this,void 0,void 0,function(){var e;return Object(Jo.d)(this,function(n){switch(n.label){case 0:return(e=ca(t)).Qr.add(0),[4,yf(e)];case 1:return n.sent(),e.jr.set("Offline"),[2]}})})}(n))]}})})})}(jm(vm(this._delegate,Nm)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&mm("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.na.enableMultiTabIndexedDbPersistence(this):this.na.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.na.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.sa&&(this.sa._removeServiceInstance("firestore"),this.sa._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Jl;return t.asyncQueue.enqueueAndForget(function(){return Object(Jo.b)(e,void 0,void 0,function(){var e;return Object(Jo.d)(this,function(r){switch(r.label){case 0:return e=yp,[4,em(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(jm(vm(this._delegate,Nm)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Qp(e);return t.asyncQueue.enqueueAndForget(function(){return Object(Jo.b)(n,void 0,void 0,function(){var e;return Object(Jo.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){ca(t).Zr.add(e),e.next()},[4,nm(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Xo(),t.asyncQueue.enqueueAndForget(function(){return Object(Jo.b)(n,void 0,void 0,function(){var e;return Object(Jo.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){ca(t).Zr.delete(e)},[4,nm(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(jm(t=vm(t,Nm)),Rm(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.sa)throw new Ca(wa.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.sa},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new lb(this,Dm(this._delegate,t))}catch(t){throw nb(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new eb(this,Am(this._delegate,t))}catch(t){throw nb(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new ab(this,function(t,e){if(t=vm(t,Cm),fm("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ca(wa.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Om(t,null,function(t){return new _u(Sa.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw nb(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Jl;return t.asyncQueue.enqueueAndForget(function(){return Object(Jo.b)(n,void 0,void 0,function(){var n;return Object(Jo.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Zp(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new Gp(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(jm(t),function(n){return e(new Hg(t,n))})}(this._delegate,function(n){return t(new Xg(e,n))})},e.prototype.batch=function(){var t=this;return jm(this._delegate),new Jg(new Lg(this._delegate,function(e){return zg(t._delegate,e)}))},e.prototype.loadBundle=function(t){throw new Ca(wa.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Ca(wa.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Em),Zg=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Jo.c)(e,t),e.prototype.convertBytes=function(t){return new Wg(new Vm(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return eb.ia(e,this.firestore,null)},e}(Fg),Xg=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r._userDataWriter=new Zg(e),r}return Object(Jo.c)(e,t),e.prototype.get=function(t){var e=this,n=hb(t);return this._delegate.get(n).then(function(t){return new sb(e._firestore,new yg(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))})},e.prototype.set=function(t,e,n){var r=hb(t);return n?(pm("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=hb(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(Jo.f)([o,e,n],i)),this},e.prototype.delete=function(t){var e=hb(t);return this._delegate.delete(e),this},e}(Em),Jg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Jo.c)(e,t),e.prototype.set=function(t,e,n){var r=hb(t);return n?(pm("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=hb(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(Jo.f)([o,e,n],i)),this},e.prototype.delete=function(t){var e=hb(t);return this._delegate.delete(e),this},e.prototype.commit=function(){return this._delegate.commit()},e}(Em),tb=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this)._firestore=e,i._userDataWriter=n,i}return Object(Jo.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new vg(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new ob(this._firestore,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},e.ra=function(t,n){var r=e.oa,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var s=i.get(n);return s||(s=new e(t,new Zg(t),n),i.set(n,s)),s},e}(Em);tb.oa=new WeakMap;var eb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r._userDataWriter=new Zg(e),r}return Object(Jo.c)(e,t),e.ca=function(t,n,r){if(t.length%2!=0)throw new Ca(wa.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Sm(n._delegate,r,new Da(t)))},e.ia=function(t,n,r){return new e(n,new Sm(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new lb(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new lb(this.firestore,Dm(this._delegate,t))}catch(t){throw nb(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Em&&(t=t._delegate),t instanceof Sm&&km(this._delegate,t)},e.prototype.set=function(t,e){e=pm("DocumentReference.set",e);try{return function(t,e,n){t=vm(t,Sm);var r=vm(t.firestore,Nm),i=Mg(t._converter,e,n);return zg(r,[$m(Wm(r),"setDoc",t._key,i,null!==t._converter,n).toMutation(t._key,sc.none())])}(this._delegate,t,e)}catch(t){throw nb(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Ug(this._delegate,t):Ug.apply(void 0,Object(Jo.f)([this._delegate,t,e],n))}catch(t){throw nb(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return zg(vm((t=this._delegate).firestore,Nm),[new wc(t._key,sc.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=rb(e),i=ib(e,function(e){return new sb(t.firestore,new yg(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))});return qg(this._delegate,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=vm(t,Sm);var e=vm(t.firestore,Nm),n=jm(e),r=new Bg(e);return function(t,e){var n=this,r=new Jl;return t.asyncQueue.enqueueAndForget(function(){return Object(Jo.b)(n,void 0,void 0,function(){var n;return Object(Jo.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Jo.b)(this,void 0,void 0,function(){var r,i;return Object(Jo.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=ca(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Kn.In(t,e)})}(t,e)];case 1:return(i=s.sent())instanceof Za?n.resolve(i):i instanceof Xa?n.resolve(null):n.reject(new Ca(wa.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=zf(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Jp(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new yg(e,r,t._key,n,new bg(n instanceof Za&&n.hasLocalMutations,!0),t._converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=vm(t,Sm);var e=vm(t.firestore,Nm);return rm(jm(e),t._key,{source:"server"}).then(function(n){return Qg(e,t,n)})}(this._delegate):function(t){t=vm(t,Sm);var e=vm(t.firestore,Nm);return rm(jm(e),t._key).then(function(n){return Qg(e,t,n)})}(this._delegate)).then(function(t){return new sb(e.firestore,new yg(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?tb.ra(this.firestore,t):null))},e}(Em);function nb(t,e,n){return t.message=t.message.replace(e,n),t}function rb(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Rm(r))return r}return{}}function ib(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Rm(t[0])?t[0]:Rm(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var sb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(Jo.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new eb(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,e){return this._delegate.get(t,e)},e.prototype.isEqual=function(t){return Cg(this._delegate,t._delegate)},e}(Em),ob=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Jo.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(sb),ab=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r._userDataWriter=new Zg(e),r}return Object(Jo.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Og(this._delegate,function(t,e,n){var r=e,i=gg("where",t);return new xg(i,r,n)}(t,n,r)))}catch(t){throw nb(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Og(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=gg("orderBy",t);return new Dg(r,n)}(t,n)))}catch(t){throw nb(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Og(this._delegate,function(t){return _m("limit",t),new Ag("limit",t,"F")}(t)))}catch(t){throw nb(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Og(this._delegate,function(t){return _m("limitToLast",t),new Ag("limitToLast",t,"L")}(t)))}catch(t){throw nb(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Og(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new kg("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw nb(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Og(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new kg("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw nb(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Og(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Tg("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw nb(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Og(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Tg("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw nb(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Tm(this._delegate,t._delegate)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=vm(t,Om);var e=vm(t.firestore,Nm),n=jm(e),r=new Bg(e);return function(t,e){var n=this,r=new Jl;return t.asyncQueue.enqueueAndForget(function(){return Object(Jo.b)(n,void 0,void 0,function(){var n;return Object(Jo.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Jo.b)(this,void 0,void 0,function(){var r,i,s,o,a;return Object(Jo.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Ad(t,e,!0)];case 1:return a=u.sent(),r=new sp(e,a.jn),i=r.Io(a.documents),s=r.applyChanges(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=u.sent(),a=zf(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Jp(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new _g(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=vm(t,Om);var e=vm(t.firestore,Nm),n=jm(e),r=new Bg(e);return im(n,t._query,{source:"server"}).then(function(n){return new _g(e,r,t,n)})}(this._delegate):function(t){t=vm(t,Om);var e=vm(t.firestore,Nm),n=jm(e),r=new Bg(e);return Eg(t._query),im(n,t._query).then(function(n){return new _g(e,r,t,n)})}(this._delegate)).then(function(t){return new cb(e.firestore,new _g(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=rb(e),i=ib(e,function(e){return new cb(t.firestore,new _g(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return qg(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?tb.ra(this.firestore,t):null))},e}(Em),ub=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(Jo.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new ob(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(Em),cb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(Jo.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new ab(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new ob(t._firestore,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new ub(e._firestore,t)})},e.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new ob(n._firestore,r))})},e.prototype.isEqual=function(t){return Cg(this._delegate,t._delegate)},e}(Em),lb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(Jo.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new eb(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new eb(this.firestore,void 0===t?Am(this._delegate):Am(this._delegate,t))}catch(t){throw nb(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=vm(t.firestore,Nm),r=Am(t),i=Mg(t._converter,e);return zg(n,[$m(Wm(t.firestore),"addDoc",r._key,i,null!==t._converter,{}).toMutation(r._key,sc.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new eb(e.firestore,t)})},e.prototype.isEqual=function(t){return km(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?tb.ra(this.firestore,t):null))},e}(ab);function hb(t){return t instanceof Em&&(t=t._delegate),vm(t,Sm)}var db,fb=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Lm.bind.apply(Lm,Object(Jo.f)([void 0],e))))||this}return Object(Jo.c)(e,t),e.documentId=function(){return new e(xa.keyField().canonicalString())},e.prototype.isEqual=function(t){return t instanceof Em&&(t=t._delegate),t instanceof Lm&&this._delegate._internalPath.isEqual(t._internalPath)},e}(Em),pb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Jo.c)(e,t),e.serverTimestamp=function(){var t=new Xm("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Ym("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Jm("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new tg("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new eg("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(Em),mb=n("/6Yf"),gb={Firestore:Yg,GeoPoint:Um,Timestamp:Na,Blob:Wg,Transaction:Xg,WriteBatch:Jg,DocumentReference:eb,DocumentSnapshot:sb,Query:ab,QueryDocumentSnapshot:ob,QuerySnapshot:cb,CollectionReference:lb,FieldPath:fb,FieldValue:pb,setLogLevel:function(t){ea.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new mb.a("firestore",function(t){return function(t,e){return new Yg(t,new Nm(t,e),new $g)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},gb)))})(db=Wn.a),db.registerVersion("@firebase/firestore","2.2.1");var bb=n("XNiG"),yb=n("VRyK"),vb=n("zx2A");function _b(t,e){return"function"==typeof e?n=>n.pipe(_b((n,r)=>Object(Zt.a)(t(n,r)).pipe(Object(te.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new wb(t))}class wb{constructor(t){this.project=t}call(t,e){return e.subscribe(new Cb(t,this.project))}}class Cb extends vb.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new vb.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(vb.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}var Eb=n("qgXg"),Sb=n("quSY"),Ob=n("9ppp"),xb=n("Ylt2");class Db extends bb.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Ab(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new Ob.a;if(this.isStopped||this.hasError?s=Sb.a.EMPTY:(this.observers.push(t),s=new xb.a(this,t)),r&&t.add(t=new Gn.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||Eb.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class Ab{constructor(t,e){this.time=t,this.value=e}}function kb(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(c){let l;o++,!i||a?(a=!1,i=new Db(t,e,r),l=i.subscribe(this),s=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,s=void 0,i.complete()}}),u&&(s=void 0)):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),l=void 0,s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}const Tb=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),Ib=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();var Rb=n("EY2u");function Nb(t){return e=>0===t?Object(Rb.b)():e.lift(new jb(t))}class jb{constructor(t){if(this.total=t,this.total<0)throw new Ib}call(t,e){return e.subscribe(new Fb(t,this.total))}}class Fb extends Nn.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Mb(t=null){return e=>e.lift(new Pb(t))}class Pb{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Lb(t,this.defaultValue))}}class Lb extends Nn.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Vb(t=qb){return e=>e.lift(new Bb(t))}class Bb{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Ub(t,this.errorFactory))}}class Ub extends Nn.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(db){t=db}this.destination.error(t)}}}function qb(){return new Tb}var zb=n("SpAZ");function Qb(t,e){const n=arguments.length>=2;return r=>r.pipe(t?zn((e,n)=>t(e,n,r)):zb.a,Nb(1),n?Mb(e):Vb(()=>new Tb))}function Hb(t,e){return e?_b(()=>t,e):_b(()=>t)}var Gb=n("tf+s");const Kb=new r.r("angularfire2.auth.use-emulator"),Wb=new r.r("angularfire2.auth.settings"),$b=new r.r("angularfire2.auth.tenant-id"),Yb=new r.r("angularfire2.auth.langugage-code"),Zb=new r.r("angularfire2.auth.use-device-language"),Xb=new r.r("angularfire.auth.persistence");let Jb=(()=>{class t{constructor(t,e,r,i,s,o,a,u,c,l){const h=new xn.d(i),d=Object(xn.h)(h),f=new bb.a,p=Object(An.a)(void 0).pipe(Object(Gn.b)(h.outsideAngular),_b(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(te.a)(()=>Object(xn.g)(t,i,e)),Object(te.a)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return Object(xn.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),kb({bufferSize:1,refCount:!1}));if(yt(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(An.a)(null);else{p.pipe(Qb()).subscribe();const t=p.pipe(_b(t=>t.getRedirectResult().then(t=>t,()=>null)),d,kb({bufferSize:1,refCount:!1})),e=t=>new Xt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(_b(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(_b(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Hb(n),Object(Gb.a)(h.outsideAngular),Object(Gn.b)(h.insideAngular)),this.user=t.pipe(Hb(r),Object(Gb.a)(h.outsideAngular),Object(Gn.b)(h.insideAngular)),this.idToken=this.user.pipe(_b(t=>t?Object(Zt.a)(t.getIdToken()):Object(An.a)(null))),this.idTokenResult=this.user.pipe(_b(t=>t?Object(Zt.a)(t.getIdTokenResult()):Object(An.a)(null))),this.credential=Object(yb.a)(t,f,this.authState.pipe(zn(t=>!t))).pipe(Object(te.a)(t=>(null==t?void 0:t.user)?t:null),Object(Gb.a)(h.outsideAngular),Object(Gn.b)(h.insideAngular))}return Object(xn.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(xn.c),r.Vb(xn.b,8),r.Vb(r.C),r.Vb(r.A),r.Vb(Kb,8),r.Vb(Wb,8),r.Vb($b,8),r.Vb(Yb,8),r.Vb(Zb,8),r.Vb(Xb,8))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Vb)(xn.c),Object(r.Vb)(xn.b,8),Object(r.Vb)(r.C),Object(r.Vb)(r.A),Object(r.Vb)(Kb,8),Object(r.Vb)(Wb,8),Object(r.Vb)($b,8),Object(r.Vb)(Yb,8),Object(r.Vb)(Zb,8),Object(r.Vb)(Xb,8))},token:t,providedIn:"any"}),t})();Object(xn.e)(Jb,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let ty=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[Jb]}),t})();function ey(t,e){return function(t,e=Dn.b){return new Xt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function ny(t,e){return ey(t,e).pipe(Object(te.a)(t=>({payload:t,type:"query"})))}function ry(t,e){return ny(t,e).pipe(Rn(void 0),jn(),Object(te.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function iy(t,e,n){return ry(t,n).pipe(Pn((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return sy(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return sy(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return sy(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),Bn(),Object(te.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function sy(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function oy(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class ay{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=ry(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(te.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Rn(void 0),jn(),zn(([t,e])=>e.length>0||!t),Object(te.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Pn((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=oy(t);return iy(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return ny(this.query,this.afs.schedulers.outsideAngular).pipe(Object(te.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Zt.a)(this.query.get(t)).pipe(Object(Gn.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new uy(this.ref.doc(t),this.afs)}}class uy{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=py(n,e);return new ay(r,i,this.afs)}snapshotChanges(){return ey(this.ref,this.afs.schedulers.outsideAngular).pipe(Rn(void 0),jn(),Object(te.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(te.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(Zt.a)(this.ref.get(t)).pipe(Object(Gn.b)(this.afs.schedulers.insideAngular))}}class cy{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?ry(this.query,this.afs.schedulers.outsideAngular).pipe(Object(te.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),zn(t=>t.length>0),this.afs.keepUnstableUntilFirst):ry(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Pn((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=oy(t);return iy(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return ny(this.query,this.afs.schedulers.outsideAngular).pipe(Object(te.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Zt.a)(this.query.get(t)).pipe(Object(Gn.b)(this.afs.schedulers.insideAngular))}}const ly=new r.r("angularfire2.enableFirestorePersistence"),hy=new r.r("angularfire2.firestore.persistenceSettings"),dy=new r.r("angularfire2.firestore.settings"),fy=new r.r("angularfire2.firestore.use-emulator");function py(t,e=(t=>t)){return{query:e(t),ref:t}}let my=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){this.schedulers=new xn.d(s),this.keepUnstableUntilFirst=Object(xn.h)(this.schedulers);const c=Object(xn.g)(t,s,e);!Kn.a.auth&&u&&Object(xn.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(xn.f)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=s.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!yt(i)){const e=()=>{try{return Object(Zt.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(db){return"undefined"!=typeof console&&console.warn(db),Object(An.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(An.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=py(n,e),s=this.schedulers.ngZone.run(()=>r);return new ay(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new cy(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new uy(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(xn.c),r.Vb(xn.b,8),r.Vb(ly,8),r.Vb(dy,8),r.Vb(r.C),r.Vb(r.A),r.Vb(hy,8),r.Vb(fy,8),r.Vb(Kb,8))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Vb)(xn.c),Object(r.Vb)(xn.b,8),Object(r.Vb)(ly,8),Object(r.Vb)(dy,8),Object(r.Vb)(r.C),Object(r.Vb)(r.A),Object(r.Vb)(hy,8),Object(r.Vb)(fy,8),Object(r.Vb)(Kb,8))},token:t,providedIn:"any"}),t})(),gy=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:ly,useValue:!0},{provide:hy,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[my]}),t})();class by extends bb.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ob.a;return this._value}next(t){super.next(this._value=t)}}class yy extends Nn.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class vy extends Nn.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var _y=n("SeVD");function wy(t,e,n,r,i=new vy(t,n,r)){if(!i.closed)return e instanceof Xt.a?e.subscribe(i):Object(_y.a)(e)(i)}var Cy=n("yCtX");const Ey={};function Sy(...t){let e,n;return Object(In.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Jt.a)(t[0])&&(t=t[0]),Object(Cy.a)(t,n).lift(new Oy(e))}class Oy{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new xy(t,this.resultSelector))}}class xy extends yy{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Ey),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(wy(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Ey?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function Dy(t){return new Xt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Zt.a)(n):Object(Rb.b)()).subscribe(e)})}var Ay=n("EQ5u");function ky(t){return function(e){const n=new Ty(t),r=e.lift(n);return n.caught=r}}class Ty{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Iy(t,this.selector,this.caught))}}class Iy extends vb.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new vb.a(this);this.add(r);const i=Object(vb.c)(n,r);i!==r&&this.add(i)}}}var Ry=n("5+tZ");function Ny(t,e){return Object(Ry.a)(t,e,1)}function jy(t){return function(e){return 0===t?Object(Rb.b)():e.lift(new Fy(t))}}class Fy{constructor(t){if(this.total=t,this.total<0)throw new Ib}call(t,e){return e.subscribe(new My(t,this.total))}}class My extends Nn.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}var Py=n("vkgz"),Ly=n("x+ZX");class Vy{constructor(t){this.callback=t}call(t,e){return e.subscribe(new By(t,this.callback))}}class By extends Nn.a{constructor(t,e){super(t),this.add(new Sb.a(e))}}class Uy{constructor(t,e){this.id=t,this.url=e}}class qy extends Uy{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zy extends Uy{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Qy extends Uy{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Hy extends Uy{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Gy extends Uy{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ky extends Uy{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wy extends Uy{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $y extends Uy{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yy extends Uy{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zy{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Xy{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Jy{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tv{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ev{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nv{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rv{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const iv="primary";class sv{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ov(t){return new sv(t)}function av(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function uv(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function cv(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!lv(t[i],e[i]))return!1;return!0}function lv(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function hv(t){return Array.prototype.concat.apply([],t)}function dv(t){return t.length>0?t[t.length-1]:null}function fv(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function pv(t){return Object(r.sb)(t)?t:Object(r.tb)(t)?Object(Zt.a)(Promise.resolve(t)):Object(An.a)(t)}function mv(t,e,n){return n?function(t,e){return cv(t,e)}(t.queryParams,e.queryParams)&&gv(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>lv(t[n],e[n]))}(t.queryParams,e.queryParams)&&bv(t.root,e.root)}function gv(t,e){if(!Cv(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!gv(t.children[n],e.children[n]))return!1}return!0}function bv(t,e){return yv(t,e,e.segments)}function yv(t,e,n){if(t.segments.length>n.length)return!!Cv(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Cv(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!bv(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!Cv(t.segments,r)&&!!t.children.primary&&yv(t.children.primary,e,i)}}class vv{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ov(this.queryParams)),this._queryParamMap}toString(){return Ov.serialize(this)}}class _v{constructor(t,e){this.segments=t,this.children=e,this.parent=null,fv(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xv(this)}}class wv{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ov(this.parameters)),this._parameterMap}toString(){return Nv(this)}}function Cv(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Ev{}class Sv{parse(t){const e=new Lv(t);return new vv(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Dv(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${kv(e)}=${kv(t)}`).join("&"):`${kv(e)}=${kv(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Ov=new Sv;function xv(t){return t.segments.map(t=>Nv(t)).join("/")}function Dv(t,e){if(!t.hasChildren())return xv(t);if(e){const e=t.children.primary?Dv(t.children.primary,!1):"",n=[];return fv(t.children,(t,e)=>{e!==iv&&n.push(`${e}:${Dv(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return fv(t.children,(t,r)=>{r===iv&&(n=n.concat(e(t,r)))}),fv(t.children,(t,r)=>{r!==iv&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===iv?[Dv(t.children.primary,!1)]:[`${n}:${Dv(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${xv(t)}/${e[0]}`:`${xv(t)}/(${e.join("//")})`}}function Av(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kv(t){return Av(t).replace(/%3B/gi,";")}function Tv(t){return Av(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Iv(t){return decodeURIComponent(t)}function Rv(t){return Iv(t.replace(/\+/g,"%20"))}function Nv(t){return`${Tv(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Tv(t)}=${Tv(e[t])}`).join("")}`;var e}const jv=/^[^\/()?;=#]+/;function Fv(t){const e=t.match(jv);return e?e[0]:""}const Mv=/^[^=?&#]+/,Pv=/^[^?&#]+/;class Lv{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _v([],{}):new _v([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new _v(t,e)),n}parseSegment(){const t=Fv(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new wv(Iv(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Fv(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Fv(this.remaining);t&&(n=t,this.capture(n))}t[Iv(e)]=Iv(n)}parseQueryParam(t){const e=function(t){const e=t.match(Mv);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Pv);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Rv(e),i=Rv(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Fv(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=iv);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new _v([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Vv{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Bv(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Bv(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Uv(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Uv(t,this._root).map(t=>t.value)}}function Bv(t,e){if(t===e.value)return e;for(const n of e.children){const e=Bv(t,n);if(e)return e}return null}function Uv(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Uv(t,n);if(r.length)return r.unshift(e),r}return[]}class qv{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function zv(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Qv extends Vv{constructor(t,e){super(t),this.snapshot=e,Yv(this,t)}toString(){return this.snapshot.toString()}}function Hv(t,e){const n=function(t,e){const n=new Wv([],{},{},"",{},iv,e,null,t.root,-1,{});return new $v("",new qv(n,[]))}(t,e),r=new by([new wv("",{})]),i=new by({}),s=new by({}),o=new by({}),a=new by(""),u=new Gv(r,i,o,a,s,iv,e,n.root);return u.snapshot=n.root,new Qv(new qv(u,[]),n)}class Gv{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(te.a)(t=>ov(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(te.a)(t=>ov(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Kv(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Wv{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ov(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ov(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $v extends Vv{constructor(t,e){super(e),this.url=t,Yv(this,e)}toString(){return Zv(this._root)}}function Yv(t,e){e.value._routerState=t,e.children.forEach(e=>Yv(t,e))}function Zv(t){const e=t.children.length>0?` { ${t.children.map(Zv).join(", ")} } `:"";return`${t.value}${e}`}function Xv(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,cv(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),cv(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!cv(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),cv(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Jv(t,e){return cv(t.params,e.params)&&function(t,e){return Cv(t,e)&&t.every((t,n)=>cv(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Jv(t.parent,e.parent))}function t_(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return t_(t,e,r);return t_(t,e)})}(t,e,n);return new qv(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return e_(e,t),t}{const n=new Gv(new by((r=e.value).url),new by(r.params),new by(r.queryParams),new by(r.fragment),new by(r.data),r.outlet,r.component,r),i=e.children.map(e=>t_(t,e));return new qv(n,i)}}var r}function e_(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)e_(t.children[n],e.children[n])}function n_(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function r_(t){return"object"==typeof t&&null!=t&&t.outlets}function i_(t,e,n,r,i){let s={};return r&&fv(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new vv(n.root===t?e:s_(n.root,t,e),s,i)}function s_(t,e,n){const r={};return fv(t.children,(t,i)=>{r[i]=t===e?n:s_(t,e,n)}),new _v(t.segments,r)}class o_{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&n_(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(r_);if(r&&r!==dv(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class a_{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function u_(t,e,n){if(t||(t=new _v([],{})),0===t.segments.length&&t.hasChildren())return c_(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(r_(o))break;const a=`${o}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!f_(a,u,e))return s;r+=2}else{if(!f_(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new _v(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new _v(t.segments.slice(r.pathIndex),t.children),c_(e,0,i)}return r.match&&0===i.length?new _v(t.segments,{}):r.match&&!t.hasChildren()?l_(t,e,n):r.match?c_(t,0,i):l_(t,e,n)}function c_(t,e,n){if(0===n.length)return new _v(t.segments,{});{const r=function(t){return r_(t[0])?t[0].outlets:{[iv]:t}}(n),i={};return fv(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=u_(t.children[r],e,n))}),fv(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new _v(t.segments,i)}}function l_(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(r_(s)){const t=h_(s.outlets);return new _v(r,t)}if(0===i&&n_(n[0])){r.push(new wv(t.segments[e].path,d_(n[0]))),i++;continue}const o=r_(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&n_(a)?(r.push(new wv(o,d_(a))),i+=2):(r.push(new wv(o,{})),i++)}return new _v(r,{})}function h_(t){const e={};return fv(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=l_(new _v([],{}),0,t))}),e}function d_(t){const e={};return fv(t,(t,n)=>e[n]=`${t}`),e}function f_(t,e,n){return t==n.path&&cv(e,n.parameters)}class p_{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Xv(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=zv(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),fv(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=zv(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=zv(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new nv(t.value.snapshot))}),t.children.length&&this.forwardEvent(new tv(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Xv(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),m_(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function m_(t){Xv(t.value),t.children.forEach(m_)}class g_{constructor(t,e){this.routes=t,this.module=e}}function b_(t){return"function"==typeof t}function y_(t){return t instanceof vv}const v_=Symbol("INITIAL_VALUE");function __(){return _b(t=>Sy(t.map(t=>t.pipe(Nb(1),Rn(v_)))).pipe(Pn((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==v_)return t;if(r===v_&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||y_(r))return r}return t},t)},v_),zn(t=>t!==v_),Object(te.a)(t=>y_(t)?t:!0===t),Nb(1)))}let w_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Nb(0,"router-outlet")},directives:function(){return[gw]},encapsulation:2}),t})();function C_(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];E_(r,S_(e,r))}}function E_(t,e){t.children&&C_(t.children,e)}function S_(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function O_(t){const e=t.children&&t.children.map(O_),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==iv&&(n.component=w_),n}function x_(t){return t.outlet||iv}function D_(t,e){const n=t.filter(t=>x_(t)===e);return n.push(...t.filter(t=>x_(t)!==e)),n}const A_={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function k_(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},A_):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||uv)(n,t,e);if(!i)return Object.assign({},A_);const s={};fv(i.posParams,(t,e)=>{s[e]=t.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function T_(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>I_(t,e,n)&&x_(n)!==iv)}(t,n,r)){const i=new _v(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&x_(s)!==iv){const n=new _v([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[x_(s)]=n}return i}(t,e,r,new _v(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>I_(t,e,n))}(t,n,r)){const s=new _v(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(I_(t,n,a)&&!i[x_(a)]){const n=new _v([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[x_(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new _v(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function I_(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function R_(t,e,n,r){return!!(x_(t)===r||r!==iv&&I_(e,n,t))&&("**"===t.path||k_(e,t,n).matched)}function N_(t,e,n){return 0===e.length&&!t.children[n]}class j_{constructor(t){this.segmentGroup=t||null}}class F_{constructor(t){this.urlTree=t}}function M_(t){return new Xt.a(e=>e.error(new j_(t)))}function P_(t){return new Xt.a(e=>e.error(new F_(t)))}function L_(t){return new Xt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class V_{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.y)}apply(){const t=T_(this.urlTree.root,[],[],this.config).segmentGroup,e=new _v(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,iv).pipe(Object(te.a)(t=>this.createUrlTree(B_(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ky(t=>{if(t instanceof F_)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof j_)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,iv).pipe(Object(te.a)(e=>this.createUrlTree(B_(e),t.queryParams,t.fragment))).pipe(ky(t=>{if(t instanceof j_)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new _v([],{[iv]:t}):t;return new vv(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(te.a)(t=>new _v([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(Zt.a)(r).pipe(Ny(r=>{const i=n.children[r],s=D_(e,r);return this.expandSegmentGroup(t,s,i,r).pipe(Object(te.a)(t=>({segment:t,outlet:r})))}),Pn((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?zn((e,n)=>t(e,n,r)):zb.a,jy(1),n?Mb(e):Vb(()=>new Tb))}())}expandSegment(t,e,n,r,i,s){return Object(Zt.a)(n).pipe(Ny(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(ky(t=>{if(t instanceof j_)return Object(An.a)(null);throw t}))),Qb(t=>!!t),ky((t,n)=>{if(t instanceof Tb||"EmptyError"===t.name){if(N_(e,r,i))return Object(An.a)(new _v([],{}));throw new j_(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return R_(r,e,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):M_(e):M_(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?P_(i):this.lineralizeSegments(n,i).pipe(Object(Ry.a)(n=>{const i=new _v(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=k_(e,r,i);if(!o)return M_(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?P_(l):this.lineralizeSegments(r,l).pipe(Object(Ry.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(An.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(te.a)(t=>(n._loadedConfig=t,new _v(r,{})))):Object(An.a)(new _v(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=k_(e,n,r);if(!s)return M_(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(Ry.a)(t=>{const r=t.module,s=t.routes,{segmentGroup:a,slicedSegments:c}=T_(e,o,u,s),l=new _v(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,s,l).pipe(Object(te.a)(t=>new _v(o,t)));if(0===s.length&&0===c.length)return Object(An.a)(new _v(o,{}));const h=x_(n)===i;return this.expandSegment(r,l,s,c,h?iv:i,!0).pipe(Object(te.a)(t=>new _v(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(An.a)(new g_(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(An.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Ry.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(te.a)(t=>(e._loadedConfig=t,t))):function(t){return new Xt.a(e=>e.error(av(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(An.a)(new g_([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(An.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&b_(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!b_(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return pv(s)});return Object(An.a)(i).pipe(__(),Object(Py.a)(t=>{if(!y_(t))return;const e=av(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(te.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(An.a)(n);if(r.numberOfChildren>1||!r.children.primary)return L_(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new vv(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return fv(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return fv(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new _v(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function B_(t){const e={};for(const n of Object.keys(t.children)){const r=B_(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new _v(t.segments.concat(e.segments),e.children)}return t}(new _v(t.segments,e))}class U_{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class q_{constructor(t,e){this.component=t,this.route=e}}function z_(t,e,n){const r=t._root;return H_(r,e?e._root:null,n,[r.value])}function Q_(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function H_(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=zv(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Cv(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Cv(t.url,e.url)||!cv(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jv(t,e)||!cv(t.queryParams,e.queryParams);case"paramsChange":default:return!Jv(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new U_(r)):(s.data=o.data,s._resolvedData=o._resolvedData),H_(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new q_(a.outlet.component,o))}else o&&G_(e,a,i),i.canActivateChecks.push(new U_(r)),H_(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),fv(s,(t,e)=>G_(t,n.getContext(e),i)),i}function G_(t,e,n){const r=zv(t),i=t.value;fv(r,(t,r)=>{G_(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new q_(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class K_{}function W_(t){return new Xt.a(e=>e.error(t))}class $_{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const t=T_(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,iv);if(null===e)return null;const n=new Wv([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},iv,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new qv(n,e),i=new $v(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Kv(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],s=D_(t,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=function(t){const e=[];for(const n of t){if(!Y_(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===iv?-1:e.value.outlet===iv?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return N_(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!R_(t,e,n,r))return null;let i,s=[],o=[];if("**"===t.path){const r=n.length>0?dv(n).parameters:{};i=new Wv(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,J_(t),x_(t),t.component,t,Z_(e),X_(e)+n.length,tw(t))}else{const r=k_(e,t,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new Wv(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,J_(t),x_(t),t.component,t,Z_(e),X_(e)+s.length,tw(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=T_(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new qv(i,t)]}if(0===a.length&&0===c.length)return[new qv(i,[])];const l=x_(t)===r,h=this.processSegment(a,u,c,l?iv:r);return null===h?null:[new qv(i,h)]}}function Y_(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Z_(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function X_(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function J_(t){return t.data||{}}function tw(t){return t.resolve||{}}function ew(t){return _b(e=>{const n=t(e);return n?Object(Zt.a)(n).pipe(Object(te.a)(()=>e)):Object(An.a)(e)})}class nw extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const rw=new r.r("ROUTES");class iw{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(te.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new g_(hv(i.injector.get(rw,void 0,r.q.Self|r.q.Optional)).map(O_),i)}),ky(t=>{throw e._loader$=void 0,t}));return e._loader$=new Ay.a(n,()=>new bb.a).pipe(Object(Ly.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(Zt.a)(this.loader.load(t)):pv(t()).pipe(Object(Ry.a)(t=>t instanceof r.w?Object(An.a)(t):Object(Zt.a)(this.compiler.compileModuleAsync(t))))}}class sw{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ow,this.attachRef=null}}class ow{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new sw,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class aw{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function uw(t){throw t}function cw(t,e,n){return e.parse("/")}function lw(t,e){return Object(An.a)(null)}let hw=(()=>{class t{constructor(t,e,n,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new bb.a,this.errorHandler=uw,this.malformedUriErrorHandler=cw,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:lw,afterPreactivation:lw},this.urlHandlingStrategy=new aw,this.routeReuseStrategy=new nw,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(r.y),this.console=s.get(r.ab);const c=s.get(r.A);this.isNgZoneEnabled=c instanceof r.A&&r.A.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new vv(new _v([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new iw(o,a,t=>this.triggerEvent(new Zy(t)),t=>this.triggerEvent(new Xy(t))),this.routerState=Hv(this.currentUrlTree,this.rootComponentType),this.transitions=new by({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(zn(t=>0!==t.id),Object(te.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),_b(t=>{let n=!1,r=!1;return Object(An.a)(t).pipe(Object(Py.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),_b(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(An.a)(t).pipe(_b(t=>{const n=this.transitions.getValue();return e.next(new qy(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Rb.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,_b(t=>function(t,e,n,r,i){return new V_(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(te.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(Py.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(Ry.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new $_(t,e,n,r,i,s).recognize();return null===o?W_(new K_):Object(An.a)(o)}catch(db){return W_(db)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(te.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Py.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Gy(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new qy(n,this.serializeUrl(r),i,s);e.next(a);const u=Hv(r,this.rootComponentType).snapshot;return Object(An.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Rb.a}),ew(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Py.a)(t=>{const e=new Ky(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(te.a)(t=>Object.assign(Object.assign({},t),{guards:z_(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(Ry.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(An.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Zt.a)(t).pipe(Object(Ry.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(An.a)(!0);const o=s.map(s=>{const o=Q_(s,e,i);let a;if(function(t){return t&&b_(t.canDeactivate)}(o))a=pv(o.canDeactivate(t,e,n,r));else{if(!b_(o))throw new Error("Invalid CanDeactivate guard");a=pv(o(t,e,n,r))}return a.pipe(Qb())});return Object(An.a)(o).pipe(__())}(t.component,t.route,n,e,r)),Qb(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(Ry.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(Zt.a)(e).pipe(Ny(e=>Tn(function(t,e){return null!==t&&e&&e(new Jy(t)),Object(An.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new ev(t)),Object(An.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Dy(()=>{const i=e.guards.map(i=>{const s=Q_(i,e.node,n);let o;if(function(t){return t&&b_(t.canActivateChild)}(s))o=pv(s.canActivateChild(r,t));else{if(!b_(s))throw new Error("Invalid CanActivateChild guard");o=pv(s(r,t))}return o.pipe(Qb())});return Object(An.a)(i).pipe(__())}));return Object(An.a)(i).pipe(__())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(An.a)(!0);const i=r.map(r=>Dy(()=>{const i=Q_(r,e,n);let s;if(function(t){return t&&b_(t.canActivate)}(i))s=pv(i.canActivate(e,t));else{if(!b_(i))throw new Error("Invalid CanActivate guard");s=pv(i(e,t))}return s.pipe(Qb())}));return Object(An.a)(i).pipe(__())}(t,e.route,n))),Qb(t=>!0!==t,!0))}(r,s,t,e):Object(An.a)(n)),Object(te.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Py.a)(t=>{if(y_(t.guardsResult)){const e=av(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Wy(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),zn(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Qy(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),ew(t=>{if(t.guards.canActivateChecks.length)return Object(An.a)(t).pipe(Object(Py.a)(t=>{const e=new $y(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),_b(t=>{let n=!1;return Object(An.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(Ry.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(An.a)(t);let s=0;return Object(Zt.a)(n).pipe(Ny(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(An.a)({});const s={};return Object(Zt.a)(i).pipe(Object(Ry.a)(i=>function(t,e,n,r){const i=Q_(t,e,r);return pv(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Py.a)(t=>{s[i]=t}))),jy(1),Object(Ry.a)(()=>Object.keys(s).length===i.length?Object(An.a)(s):Rb.a))}(t._resolve,t,e,r).pipe(Object(te.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Kv(t,n).resolve),null)))}(t.route,e,r,i)),Object(Py.a)(()=>s++),jy(1),Object(Ry.a)(e=>s===n.length?Object(An.a)(t):Rb.a))})),Object(Py.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Qy(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Py.a)(t=>{const e=new Yy(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),ew(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(te.a)(t=>{const e=function(t,e,n){const r=t_(t,e._root,n?n._root:void 0);return new Qv(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Py.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(te.a)(t=>(new p_(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),Object(Py.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Qy(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Vy(i))),ky(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=y_(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Qy(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Hy(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(ju){t.reject(ju)}}var i;return Rb.a}));var i,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){C_(t),this.config=t.map(O_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return i_(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new o_(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return fv(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new o_(n,e,r)}(n);if(s.toRoot())return i_(e.root,new _v([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new a_(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new a_(t,t===e.root,0)}const r=n_(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new a_(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?c_(o.segmentGroup,o.index,s.commands):u_(o.segmentGroup,o.index,s.commands);return i_(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=y_(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(db){e=this.malformedUriErrorHandler(db,this.urlSerializer,t)}return e}isActive(t,e){if(y_(t))return mv(this.currentUrlTree,t,e);const n=this.parseUrl(t);return mv(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new zy(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(r.O),r.Vb(Ev),r.Vb(ow),r.Vb(w),r.Vb(r.s),r.Vb(r.x),r.Vb(r.i),r.Vb(void 0))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),dw=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new bb.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:pw(this.skipLocationChange),replaceUrl:pw(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:pw(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(hw),r.Mb(Gv),r.Wb("tabindex"),r.Mb(r.F),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Yb("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.Ab]}),t})(),fw=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new bb.a,this.subscription=t.events.subscribe(t=>{t instanceof zy&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:pw(this.skipLocationChange),replaceUrl:pw(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:pw(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(hw),r.Mb(Gv),r.Mb(g))},t.\u0275dir=r.Hb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Yb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Ub("href",e.href,r.oc),r.Db("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.Ab]}),t})();function pw(t){return""===t||!!t}let mw=(()=>{class t{constructor(t,e,n,r,i,s){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof zy&&this.update()})}ngAfterContentInit(){Object(An.a)(this.links.changes,this.linksWithHrefs.changes,Object(An.a)(null)).pipe(Object(kn.a)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=Object(Zt.a)(e).pipe(Object(kn.a)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(hw),r.Mb(r.l),r.Mb(r.F),r.Mb(r.h),r.Mb(dw,8),r.Mb(fw,8))},t.\u0275dir=r.Hb({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){if(1&t&&(r.Fb(n,dw,1),r.Fb(n,fw,1)),2&t){let t;r.lc(t=r.Zb())&&(e.links=t),r.lc(t=r.Zb())&&(e.linksWithHrefs=t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.Ab]}),t})(),gw=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||iv,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new bw(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(ow),r.Mb(r.R),r.Mb(r.j),r.Wb("name"),r.Mb(r.h))},t.\u0275dir=r.Hb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class bw{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Gv?this.route:t===ow?this.childContexts:this.parent.get(t,e)}}class yw{}class vw{preload(t,e){return Object(An.a)(null)}}let _w=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new iw(e,n,e=>t.triggerEvent(new Zy(e)),e=>t.triggerEvent(new Xy(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(zn(t=>t instanceof zy),Ny(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(Zt.a)(n).pipe(Object(kn.a)(),Object(te.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(An.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(Ry.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(hw),r.Vb(r.x),r.Vb(r.i),r.Vb(r.s),r.Vb(yw))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),ww=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof qy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof zy&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof rv&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new rv(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(hw),r.Vb(vt),r.Vb(void 0))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const Cw=new r.r("ROUTER_CONFIGURATION"),Ew=new r.r("ROUTER_FORROOT_GUARD"),Sw=[w,{provide:Ev,useClass:Sv},{provide:hw,useFactory:function(t,e,n,r,i,o,a,u={},c,l){const h=new hw(null,t,e,n,r,i,o,hv(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[Ev,ow,w,r.s,r.x,r.i,rw,Cw,[class{},new r.B],[class{},new r.B]]},ow,{provide:Gv,useFactory:function(t){return t.routerState.root},deps:[hw]},{provide:r.x,useClass:r.L},_w,vw,class{preload(t,e){return e().pipe(ky(()=>Object(An.a)(null)))}},{provide:Cw,useValue:{enableTracing:!1}}];function Ow(){return new r.z("Router",hw)}let xw=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Sw,Tw(e),{provide:Ew,useFactory:kw,deps:[[hw,new r.B,new r.K]]},{provide:Cw,useValue:n||{}},{provide:g,useFactory:Aw,deps:[a,[new r.p(y),new r.B],Cw]},{provide:ww,useFactory:Dw,deps:[hw,vt,Cw]},{provide:yw,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:vw},{provide:r.z,multi:!0,useFactory:Ow},[Iw,{provide:r.d,multi:!0,useFactory:Rw,deps:[Iw]},{provide:jw,useFactory:Nw,deps:[Iw]},{provide:r.b,multi:!0,useExisting:jw}]]}}static forChild(e){return{ngModule:t,providers:[Tw(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(Ew,8),r.Vb(hw,8))},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})();function Dw(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new ww(t,e,n)}function Aw(t,e,n={}){return n.useHash?new _(t,e):new v(t,e)}function kw(t){return"guarded"}function Tw(t){return[{provide:r.a,multi:!0,useValue:t},{provide:rw,multi:!0,useValue:t}]}let Iw=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new bb.a}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(hw),r=this.injector.get(Cw);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(An.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Cw),n=this.injector.get(_w),i=this.injector.get(ww),s=this.injector.get(hw),o=this.injector.get(r.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(r.s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();function Rw(t){return t.appInitializer.bind(t)}function Nw(t){return t.bootstrapListener.bind(t)}const jw=new r.r("Router Initializer");var Fw=n("mCNh");const Mw=Object(te.a)(t=>!!t);let Pw=(()=>{class t{constructor(t,e){this.router=t,this.auth=e,this.canActivate=(t,e)=>{const n=t.data.authGuardPipe||(()=>Mw);return this.auth.user.pipe(Nb(1),n(t,e),Object(te.a)(t=>"boolean"==typeof t?t:Array.isArray(t)?this.router.createUrlTree(t):this.router.parseUrl(t)))}}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(hw),r.Vb(Jb))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Vb)(hw),Object(r.Vb)(Jb))},token:t,providedIn:"any"}),t})();Object(te.a)(t=>!!t&&!t.isAnonymous);const Lw=_b(t=>t?t.getIdTokenResult():Object(An.a)(null));Object(te.a)(t=>!!t&&t.emailVerified),Object(Fw.a)(Lw,Object(te.a)(t=>t?t.claims:[]));let Vw,Bw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[Pw]}),t})();function Uw(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function qw(t,e=Dn.a){return n=>n.lift(new zw(t,e))}class zw{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new Qw(t,this.dueTime,this.scheduler))}}class Qw extends Nn.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Hw,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Hw(t){t.debouncedNext()}function Gw(t){return null!=t&&"false"!=`${t}`}function Kw(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function Ww(t){return Array.isArray(t)?t:[t]}function $w(t){return null==t?"":"string"==typeof t?t:`${t}px`}function Yw(t){return t instanceof r.l?t.nativeElement:t}try{Vw="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(qT){Vw=!1}let Zw,Xw,Jw,tC,eC=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?bt(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Vw)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(r.C))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Vb)(r.C))},token:t,providedIn:"root"}),t})(),nC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})();function rC(t){return function(){if(null==Zw&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Zw=!0}))}finally{Zw=Zw||!1}return Zw}()?t:!!t.capture}function iC(){if(null==Jw){if("object"!=typeof document||!document)return Jw=!1,Jw;if("scrollBehavior"in document.documentElement.style)Jw=!0;else{const t=Element.prototype.scrollTo;Jw=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return Jw}function sC(){if("object"!=typeof document||!document)return 0;if(null==Xw){const t=document.createElement("div"),e=t.style;t.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const n=document.createElement("div"),r=n.style;r.width="2px",r.height="1px",t.appendChild(n),document.body.appendChild(t),Xw=0,0===t.scrollLeft&&(t.scrollLeft=1,Xw=0===t.scrollLeft?1:2),t.parentNode.removeChild(t)}return Xw}let oC=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),aC=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=Yw(t);return new Xt.a(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new bb.a,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(oC))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Vb)(oC))},token:t,providedIn:"root"}),t})(),uC=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new r.n,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Gw(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Kw(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(qw(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(aC),r.Mb(r.l),r.Mb(r.A))},t.\u0275dir=r.Hb({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),cC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[oC]}),t})();class lC extends class{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new bb.a,this._typeaheadSubscription=Sb.a.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new bb.a,this.change=new bb.a,t instanceof r.E&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Object(Py.a)(t=>this._pressedLetters.push(t)),qw(t),zn(()=>this._pressedLetters.length>0),Object(te.a)(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const r=(this._activeItemIndex+n)%e.length,i=e[r];if(!this._skipPredicateFn(i)&&0===i.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(r);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break}return;default:return void((n||Uw(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),r=e[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const r=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof r.E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let hC=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(qT){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){if(-1===fC(e))return!1;if(!this.isVisible(e))return!1}let r=t.nodeName.toLowerCase(),i=fC(t);return t.hasAttribute("contenteditable")?-1!==i:"iframe"!==r&&"object"!==r&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==i:"video"===r?-1!==i&&(null!==i||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||dC(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(eC))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Vb)(eC))},token:t,providedIn:"root"}),t})();function dC(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function fC(t){if(!dC(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class pC{constructor(t,e,n,r,i=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]):e[n].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const e=this._getFirstTabbableElement(t);return null==e||e.focus(),!!e}return t.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Nb(1)).subscribe(t)}}let mC=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new pC(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(hC),r.Vb(r.A),r.Vb(o))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Vb)(hC),Object(r.Vb)(r.A),Object(r.Vb)(o))},token:t,providedIn:"root"}),t})();"undefined"!=typeof Element&&Element;const gC=new r.r("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),bC=new r.r("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let yC=(()=>{class t{constructor(t,e,n,r){this._ngZone=e,this._defaultOptions=r,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let r,i;return 1===e.length&&"number"==typeof e[0]?i=e[0]:[r,i]=e,this.clear(),clearTimeout(this._previousTimeout),r||(r=n&&n.politeness?n.politeness:"polite"),null==i&&n&&(i=n.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof i&&(this._previousTimeout=setTimeout(()=>this.clear(),i))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t="cdk-live-announcer-element",e=this._document.getElementsByClassName(t),n=this._document.createElement("div");for(let r=0;r<e.length;r++)e[r].parentNode.removeChild(e[r]);return n.classList.add(t),n.classList.add("cdk-visually-hidden"),n.setAttribute("aria-atomic","true"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),n}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(gC,8),r.Vb(r.A),r.Vb(o),r.Vb(bC,8))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Vb)(gC,8),Object(r.Vb)(r.A),Object(r.Vb)(o),Object(r.Vb)(bC,8))},token:t,providedIn:"root"}),t})();function vC(t){return 0===t.buttons}function _C(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const wC=new r.r("cdk-focus-monitor-default-options"),CC=rC({passive:!0,capture:!0});let EC=(()=>{class t{constructor(t,e,n,r){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=vC(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{_C(t)?this._lastTouchTarget||this._setOriginForCurrentEventQueue("keyboard"):(null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=SC(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650))},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=SC(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let r=e;r;r=r.parentElement)n.call(this,t,r)},this._document=n,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(t,e=!1){const n=Yw(t);if(!this._platform.isBrowser||1!==n.nodeType)return Object(An.a)(null);const r=function(t){if(function(){if(null==tC){const t="undefined"!=typeof document?document.head:null;tC=!(!t||!t.createShadowRoot&&!t.attachShadow)}return tC}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject;const s={checkChildren:e,subject:new bb.a,rootNode:r};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(t){const e=Yw(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const r=Yw(t);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([t,n])=>this._originChanged(t,e,n)):(this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=SC(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);n&&(n.checkChildren||e===SC(t))&&this._originChanged(e,this._getFocusOrigin(t),n)}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,CC),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,CC)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,CC),t.addEventListener("mousedown",this._documentMousedownListener,CC),t.addEventListener("touchstart",this._documentTouchstartListener,CC),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,CC),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,CC),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,CC),t.removeEventListener("mousedown",this._documentMousedownListener,CC),t.removeEventListener("touchstart",this._documentTouchstartListener,CC),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}_getClosestElementsInfo(t){const e=[];return this._elementInfo.forEach((n,r)=>{(r===t||n.checkChildren&&r.contains(t))&&e.push([r,n])}),e}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(r.A),r.Vb(eC),r.Vb(o,8),r.Vb(wC,8))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Vb)(r.A),Object(r.Vb)(eC),Object(r.Vb)(o,8),Object(r.Vb)(wC,8))},token:t,providedIn:"root"}),t})();function SC(t){return t.composedPath?t.composedPath()[0]:t.target}const OC="cdk-high-contrast-black-on-white",xC="cdk-high-contrast-white-on-black",DC="cdk-high-contrast-active";let AC=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(DC),t.remove(OC),t.remove(xC);const e=this.getHighContrastMode();1===e?(t.add(DC),t.add(OC)):2===e&&(t.add(DC),t.add(xC))}}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(eC),r.Vb(o))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Vb)(eC),Object(r.Vb)(o))},token:t,providedIn:"root"}),t})();const kC=new r.r("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.W)(o)}});let TC=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.n,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(kC,8))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Vb)(kC,8))},token:t,providedIn:"root"}),t})(),IC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})();const RC=new r.Q("11.2.5");class NC{}const jC="*";function FC(t,e){return{type:7,name:t,definitions:e,options:{}}}function MC(t,e=null){return{type:4,styles:e,timings:t}}function PC(t,e=null){return{type:2,steps:t,options:e}}function LC(t){return{type:6,styles:t,offset:null}}function VC(t,e,n){return{type:0,name:t,styles:e,options:n}}function BC(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function UC(t){Promise.resolve(null).then(t)}class qC{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){UC(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class zC{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?UC(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function QC(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function HC(t){switch(t.length){case 0:return new qC;case 1:return t[0];default:return new zC(t)}}function GC(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case jC:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function KC(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&WC(n,"start",t)));break;case"done":t.onDone(()=>r(n&&WC(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&WC(n,"destroy",t)))}}function WC(t,e,n){const r=n.totalTime,i=$C(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function $C(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function YC(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function ZC(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let XC=(t,e)=>!1,JC=(t,e)=>!1,tE=(t,e,n)=>[];const eE=QC();(eE||"undefined"!=typeof Element)&&(XC=(t,e)=>t.contains(e),JC=(()=>{if(eE||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):JC}})(),tE=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let nE=null,rE=!1;function iE(t){nE||(nE=("undefined"!=typeof document?document.body:null)||{},rE=!!nE.style&&"WebkitAppearance"in nE.style);let e=!0;return nE.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in nE.style,!e&&rE)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in nE.style),e}const sE=JC,oE=XC,aE=tE;function uE(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let cE=(()=>{class t{validateStyleProperty(t){return iE(t)}matchesElement(t,e){return sE(t,e)}containsElement(t,e){return oE(t,e)}query(t,e,n){return aE(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new qC(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),lE=(()=>{class t{}return t.NOOP=new cE,t})();const hE="ng-enter",dE="ng-leave",fE="ng-trigger",pE=".ng-trigger",mE="ng-animating",gE=".ng-animating";function bE(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:yE(parseFloat(e[1]),e[2])}function yE(t,e){switch(e){case"s":return 1e3*t;default:return t}}function vE(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=yE(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=yE(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function _E(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function wE(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else _E(t,n);return n}function CE(t,e,n){return n?e+":"+n+";":""}function EE(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=CE(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=CE(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function SE(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=RE(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),QC()&&EE(t))}function OE(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=RE(e);t.style[n]=""}),QC()&&EE(t))}function xE(t){return Array.isArray(t)?1==t.length?t[0]:PC(t):t}const DE=new RegExp("{{\\s*(.+?)\\s*}}","g");function AE(t){let e=[];if("string"==typeof t){let n;for(;n=DE.exec(t);)e.push(n[1]);DE.lastIndex=0}return e}function kE(t,e,n){const r=t.toString(),i=r.replace(DE,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function TE(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const IE=/-+([a-z0-9])/g;function RE(t){return t.replace(IE,(...t)=>t[1].toUpperCase())}function NE(t,e){return 0===t||0===e}function jE(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=ME(t,e)})}}return e}function FE(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function ME(t,e){return window.getComputedStyle(t)[e]}const PE="*";function LE(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(UE(i,o)),"<"!=s[0]||i==PE&&o==PE||e.push(UE(o,i))}(t,n,e)):n.push(t),n}const VE=new Set(["true","1"]),BE=new Set(["false","0"]);function UE(t,e){const n=VE.has(t)||BE.has(t),r=VE.has(e)||BE.has(e);return(i,s)=>{let o=t==PE||t==i,a=e==PE||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?VE.has(t):BE.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?VE.has(e):BE.has(e)),o&&a}}const qE=new RegExp("s*:selfs*,?","g");function zE(t,e,n){return new QE(t).build(e,n)}class QE{constructor(t){this._driver=t}build(t,e){const n=new HE(e);return this._resetContextStyleTimingState(n),FE(this,xE(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(GE(t)){const e=t;Object.keys(e).forEach(t=>{AE(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=TE(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=FE(this,xE(t.animation),e);return{type:1,matchers:LE(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:KE(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>FE(this,t,e)),options:KE(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=FE(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:KE(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return WE(vE(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=WE(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||vE(r,e),WE(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:LC({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=LC(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==jC?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(GE(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=AE(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(GE(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(GE(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:FE(this,xE(t.animation),e),options:KE(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:KE(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:KE(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(qE,"")),[t=t.replace(/@\*/g,pE).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,gE),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,YC(e.collectedStyles,e.currentQuerySelector,{});const o=FE(this,xE(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:KE(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:vE(t.timings,e.errors,!0);return{type:12,animation:FE(this,xE(t.animation),e),timings:n,options:null}}}class HE{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function GE(t){return!Array.isArray(t)&&"object"==typeof t}function KE(t){var e;return t?(t=_E(t)).params&&(t.params=(e=t.params)?_E(e):null):t={},t}function WE(t,e,n){return{duration:t,delay:e,easing:n}}function $E(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class YE{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const ZE=new RegExp(":enter","g"),XE=new RegExp(":leave","g");function JE(t,e,n,r,i,s={},o={},a,u,c=[]){return(new tS).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class tS{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new YE;const l=new nS(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),FE(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[$E(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?bE(n.duration):null,s=null!=n.delay?bE(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),FE(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=eS);const t=bE(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>FE(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?bE(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),FE(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return vE(e.params?kE(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?bE(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=eS);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),FE(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;FE(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const eS={};class nS{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=eS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new rS(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=bE(n.duration)),null!=n.delay&&(r.delay=bE(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=kE(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new nS(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=eS,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new iS(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(ZE,"."+this._enterClassName)).replace(XE,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class rS{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new rS(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||jC,this._currentKeyframe[t]=jC}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=jC})):wE(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=kE(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:jC),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=wE(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==jC&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?TE(t.values()):[],s=e.size?TE(e.values()):[];if(n){const t=r[0],e=_E(t);t.offset=0,e.offset=1,r=[t,e]}return $E(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class iS extends rS{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=wE(t[0],!1);a.offset=0,i.push(a);const u=wE(t[0],!1);u.offset=sS(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=wE(t[r],!1);o.offset=sS((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return $E(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function sS(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class oS{}class aS extends oS{normalizePropertyName(t,e){return RE(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(uS[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const uS=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function cS(t,e,n,r,i,s,o,a,u,c,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:d}}const lS={};class hS{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||lS,d=this.buildStyles(n,o&&o.params||lS,l),f=a&&a.params||lS,p=this.buildStyles(r,f,l),m=new Set,g=new Map,b=new Map,y="void"===r,v={params:Object.assign(Object.assign({},h),f)},_=c?[]:JE(t,e,this.ast.animation,i,s,d,p,v,u,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return cS(e,this._triggerName,n,r,y,d,p,[],[],g,b,w,l);_.forEach(t=>{const n=t.element,r=YC(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=YC(b,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const C=TE(m.values());return cS(e,this._triggerName,n,r,y,d,p,_,C,g,b,w)}}class dS{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=_E(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=kE(s,r,e)),n[t]=s})}}),n}}class fS{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new dS(t.style,t.options&&t.options.params||{})}),pS(this.states,"true","1"),pS(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new hS(t,e,this.states))}),this.fallbackTransition=new hS(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function pS(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const mS=new YE;class gS{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=zE(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=GC(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=JE(this._driver,e,i,hE,dE,{},{},n,mS,r),s.forEach(t=>{const e=YC(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,jC)})});const a=HC(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=$C(e,"","","");return KC(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const bS="ng-animate-queued",yS="ng-animate-disabled",vS=".ng-animate-disabled",_S=[],wS={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},CS={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class ES{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=_E(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const SS="void",OS=new ES(SS);class xS{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,NS(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=YC(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=YC(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(NS(t,fE),NS(t,"ng-trigger-"+e),a[e]=OS),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new AS(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(NS(t,fE),NS(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new ES(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=OS),u.value!==SS&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{OE(t,n),SE(t,r)})}return}const c=YC(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(NS(t,bS),s.onStart(()=>{jS(t,bS)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,pE,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,SS,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&HC(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||OS,a=new ES(SS),u=new AS(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:s,fromState:o,toState:a,player:u,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==wS||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){NS(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=$C(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,KC(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class DS{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new xS(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(kS(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!kS(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),NS(t,yS)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),jS(t,yS))}removeNode(t,e,n,r){if(kS(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return kS(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,pE,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,gE,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return HC(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=wS,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,vS)&&this.markElementAsDisabled(t,!1),this.driver.query(t,vS,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)NS(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?HC(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new YE,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=RS(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=hE+p++;f.set(e,n),t.forEach(t=>NS(t,n))});const m=[],g=new Set,b=new Set;for(let T=0;T<this.collectedLeaveElements.length;T++){const t=this.collectedLeaveElements[T],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):b.add(t))}const y=new Map,v=RS(h,Array.from(g));v.forEach((t,e)=>{const n=dE+p++;y.set(e,n),t.forEach(t=>NS(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>jS(t,n))}),v.forEach((t,e)=>{const n=y.get(e);t.forEach(t=>jS(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let T=this._namespaceList.length-1;T>=0;T--)this._namespaceList[T].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=y.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>OE(i,p.fromStyles)),e.onDestroy(()=>SE(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>OE(i,p.fromStyles)),e.onDestroy(()=>SE(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>YC(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const C=new Map,E=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(E.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,C))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{YC(C,e,[]).push(t),t.destroy()})});const S=m.filter(t=>PS(t,a,u)),O=new Map;IS(O,this.driver,b,u,jC).forEach(t=>{PS(t,a,u)&&S.push(t)});const x=new Map;d.forEach((t,e)=>{IS(x,this.driver,new Set(t),a,"!")}),S.forEach(t=>{const e=O.get(t),n=x.get(t);O.set(t,Object.assign(Object.assign({},e),n))});const D=[],A=[],k={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>SE(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=k;if(E.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=E.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>E.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,C,i,x,O);if(s.setRealPlayer(n),t===k)D.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=HC(e)),r.push(s)}}else OE(e,o.fromStyles),s.onDestroy(()=>SE(e,o.toStyles)),A.push(s),c.has(e)&&r.push(s)}),A.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=HC(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let T=0;T<m.length;T++){const t=m[T],e=t.__ng_removed;if(jS(t,dE),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,gE,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?FS(this,t,r):this.processLeaveNode(t)}return m.length=0,D.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),D}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==SS;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=YC(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}OE(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new qC(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return MS(t,e),e}((n.get(h)||_S).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=s.get(h),b=GC(0,this._normalizer,0,e.keyframes,m,g),y=this._buildPlayer(e,b,p);if(e.subTimeline&&r&&l.add(h),f){const e=new AS(t,o,h);e.setRealPlayer(y),u.push(e)}return y});u.forEach(t=>{YC(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>NS(t,mE));const d=HC(h);return d.onDestroy(()=>{c.forEach(t=>jS(t,mE)),SE(a,e.toStyles)}),l.forEach(t=>{YC(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new qC(t.duration,t.delay)}}class AS{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new qC,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>KC(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){YC(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function kS(t){return t&&1===t.nodeType}function TS(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function IS(t,e,n,r,i){const s=[];n.forEach(t=>s.push(TS(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=CS,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>TS(t,s[a++])),o}function RS(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function NS(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function jS(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function FS(t,e,n){HC(n).onDone(()=>t.processLeaveNode(e))}function MS(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof zC?MS(r.players,e):e.push(r)}}function PS(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class LS{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new DS(t,e,n),this._timelineEngine=new gS(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=zE(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new fS(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=ZC(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=ZC(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function VS(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=US(e[0]),e.length>1&&(r=US(e[e.length-1]))):e&&(n=US(e)),n||r?new BS(t,n,r):null}let BS=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&SE(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(SE(this._element,this._initialStyles),this._endStyles&&(SE(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(OE(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(OE(this._element,this._endStyles),this._endStyles=null),SE(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function US(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];qS(i)&&(e=e||{},e[i]=t[i])}return e}function qS(t){return"display"===t||"position"===t}const zS="animation",QS="animationend";class HS{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=ZS(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),YS(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),$S(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){GS(this._element,this._name,"paused")}resume(){GS(this._element,this._name,"running")}setPosition(t){const e=KS(this._element,this._name);this._position=t*this._duration,YS(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),$S(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=ZS(t,"").split(","),r=WS(n,e);r>=0&&(n.splice(r,1),YS(t,"",n.join(",")))}(this._element,this._name))}}function GS(t,e,n){YS(t,"PlayState",n,KS(t,e))}function KS(t,e){const n=ZS(t,"");return n.indexOf(",")>0?WS(n.split(","),e):WS([n],e)}function WS(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function $S(t,e,n){n?t.removeEventListener(QS,e):t.addEventListener(QS,e)}function YS(t,e,n,r){const i=zS+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function ZS(t,e){return t.style[zS+e]||""}class XS{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new HS(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:ME(this.element,n))})}this.currentSnapshot=t}}class JS extends qC{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=uE(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class tO{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return iE(t)}matchesElement(t,e){return sE(t,e)}containsElement(t,e){return oE(t,e)}query(t,e,n){return aE(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>uE(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){const a=s.filter(t=>t instanceof XS),u={};NE(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=jE(t,e,u));if(0==n)return new JS(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const d=VS(t,e),f=new XS(t,e,l,n,r,i,c,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}}class eO{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:ME(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class nO{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(rO().toString()),this._cssKeyframesDriver=new tO}validateStyleProperty(t){return iE(t)}matchesElement(t,e){return sE(t,e)}containsElement(t,e){return oE(t,e)}query(t,e,n){return aE(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof eO);NE(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=VS(t,e=jE(t,e=e.map(t=>wE(t,!1)),u));return new eO(t,e,a,l)}}function rO(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let iO=(()=>{class t extends NC{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.S.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?PC(t):t;return aO(this._renderer,null,e,"register",[n]),new sO(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(r.G),r.Vb(o))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class sO extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new oO(this._id,t,e||{},this._renderer)}}class oO{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return aO(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function aO(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const uO="@",cO="@.disabled";let lO=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new hO("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new dO(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(r.G),r.Vb(LS),r.Vb(r.A))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class hO{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==uO&&e==cO?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class dO extends hO{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==uO?"."==e.charAt(1)&&e==cO?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==uO){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=uO&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let fO=(()=>{class t extends LS{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(o),r.Vb(lE),r.Vb(oS))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const pO=new r.r("AnimationModuleType"),mO=[{provide:lE,useFactory:function(){return"function"==typeof rO()?new nO:new tO}},{provide:pO,useValue:"BrowserAnimations"},{provide:NC,useClass:iO},{provide:oS,useFactory:function(){return new aS}},{provide:LS,useClass:fO},{provide:r.G,useFactory:function(t,e,n){return new lO(t,e,n)},deps:[Pt,LS,r.A]}];let gO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:mO,imports:[Yt]}),t})();const bO=new r.Q("11.2.5"),yO=new r.r("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let vO,_O=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return Object(r.X)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&bO.full!==RC.full&&console.warn("The Angular Material version ("+bO.full+") does not match the Angular CDK version ("+RC.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(AC),r.Vb(yO,8),r.Vb(o))},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[IC],IC]}),t})();function wO(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Gw(t)}}}function CO(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),e&&this._elementRef.nativeElement.classList.add(`mat-${e}`),this._color=e)}}}function EO(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Gw(t)}}}function SO(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?Kw(t):this.defaultTabIndex}}}function OO(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new bb.a}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}try{vO="undefined"!=typeof Intl}catch(qT){vO=!1}let xO=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),DO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[_O],_O]}),t})();class AO{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const kO={enterDuration:450,exitDuration:400},TO=rC({passive:!0}),IO=["mousedown","touchstart"],RO=["mouseup","mouseleave","touchend","touchcancel"];class NO{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Yw(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},kO),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),o=t-r.left,a=e-r.top,u=i.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=o-s+"px",c.style.top=a-s+"px",c.style.height=2*s+"px",c.style.width=2*s+"px",null!=n.color&&(c.style.backgroundColor=n.color),c.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(c),window.getComputedStyle(c).getPropertyValue("opacity"),c.style.transform="scale(1)";const l=new AO(this,c,n);return l.state=0,this._activeRipples.add(l),n.persistent||(this._mostRecentTransientRipple=l),this._runTimeoutOutsideZone(()=>{const t=l===this._mostRecentTransientRipple;l.state=1,n.persistent||t&&this._isPointerDown||l.fadeOut()},u),l}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},kO),t.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=Yw(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(IO))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(RO),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=vC(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!_C(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,TO)})})}_removeTriggerEvents(){this._triggerElement&&(IO.forEach(t=>{this._triggerElement.removeEventListener(t,this,TO)}),this._pointerUpEventsRegistered&&RO.forEach(t=>{this._triggerElement.removeEventListener(t,this,TO)}))}}const jO=new r.r("mat-ripple-global-options");let FO=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new NO(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.A),r.Mb(eC),r.Mb(jO,8),r.Mb(pO,8))},t.\u0275dir=r.Hb({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&r.Eb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),MO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[_O,nC],_O]}),t})(),PO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[_O]]}),t})();const LO=["mat-button",""],VO=["*"],BO=".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n",UO=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class qO{constructor(t){this._elementRef=t}}const zO=CO(wO(EO(qO)));let QO=(()=>{class t extends zO{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of UO)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,e){t?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(EC),r.Mb(pO,8))},t.\u0275cmp=r.Gb({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){if(1&t&&r.yc(FO,1),2&t){let t;r.lc(t=r.Zb())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(r.Db("disabled",e.disabled||null),r.Eb("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.zb],attrs:LO,ngContentSelectors:VO,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(r.fc(),r.Rb(0,"span",0),r.ec(1),r.Qb(),r.Nb(2,"span",1),r.Nb(3,"span",2)),2&t&&(r.Cb(2),r.Eb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),r.gc("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[FO],styles:[BO],encapsulation:2,changeDetection:0}),t})(),HO=(()=>{class t extends QO{constructor(t,e,n){super(e,t,n)}_haltDisabledEvents(t){this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(EC),r.Mb(r.l),r.Mb(pO,8))},t.\u0275cmp=r.Gb({type:t,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(t,e){1&t&&r.Yb("click",function(t){return e._haltDisabledEvents(t)}),2&t&&(r.Db("tabindex",e.disabled?-1:e.tabIndex||0)("disabled",e.disabled||null)("aria-disabled",e.disabled.toString()),r.Eb("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[r.zb],attrs:LO,ngContentSelectors:VO,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(r.fc(),r.Rb(0,"span",0),r.ec(1),r.Qb(),r.Nb(2,"span",1),r.Nb(3,"span",2)),2&t&&(r.Cb(2),r.Eb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),r.gc("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[FO],styles:[BO],encapsulation:2,changeDetection:0}),t})(),GO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[MO,_O],_O]}),t})();var KO=n("n6bG");function WO(t,e,n,r){return Object(KO.a)(n)&&(r=n,n=void 0),r?WO(t,e,n).pipe(Object(te.a)(t=>Object(Jt.a)(t)?r(...t):r(t))):new Xt.a(r=>{$O(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function $O(t,e,n,r,i){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),s=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),s=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),s=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)$O(t[s],e,n,r,i)}r.add(s)}n("3N8a"),n("IjjT");var YO=n("7Hc7");class ZO{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new XO(t,this.durationSelector))}}class XO extends vb.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=Object(vb.c)(n,new vb.a(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var JO=n("Y7HM");function tx(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function ex(t,e=Dn.a){return n=()=>function(t=0,e,n){let r=-1;return Object(JO.a)(e)?r=Number(e)<1?1:Number(e):Object(In.a)(e)&&(n=e),Object(In.a)(n)||(n=Dn.a),new Xt.a(e=>{const i=Object(JO.a)(t)?t:+t-n.now();return n.schedule(tx,i,{index:0,period:r,subscriber:e})})}(t,e),function(t){return t.lift(new ZO(n))};var n}function nx(t){return e=>e.lift(new rx(t))}class rx{constructor(t){this.notifier=t}call(t,e){const n=new ix(t),r=Object(vb.c)(this.notifier,new vb.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class ix extends vb.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}class sx{constructor(t=!1,e,n=!0){this._multiple=t,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new bb.a,e&&e.length&&(t?e.forEach(t=>this._markSelected(t)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}let ox=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new bb.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Xt.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(ex(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(An.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(zn(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=Yw(e),r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>WO(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(r.A),r.Vb(eC),r.Vb(o,8))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Vb)(r.A),Object(r.Vb)(eC),Object(r.Vb)(o,8))},token:t,providedIn:"root"}),t})(),ax=(()=>{class t{constructor(t,e,n,r){this.elementRef=t,this.scrollDispatcher=e,this.ngZone=n,this.dir=r,this._destroyed=new bb.a,this._elementScrolled=new Xt.a(t=>this.ngZone.runOutsideAngular(()=>WO(this.elementRef.nativeElement,"scroll").pipe(nx(this._destroyed)).subscribe(t)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const e=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=n?t.end:t.start),null==t.right&&(t.right=n?t.start:t.end),null!=t.bottom&&(t.top=e.scrollHeight-e.clientHeight-t.bottom),n&&0!=sC()?(null!=t.left&&(t.right=e.scrollWidth-e.clientWidth-t.left),2==sC()?t.left=t.right:1==sC()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=e.scrollWidth-e.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const e=this.elementRef.nativeElement;iC()?e.scrollTo(t):(null!=t.top&&(e.scrollTop=t.top),null!=t.left&&(e.scrollLeft=t.left))}measureScrollOffset(t){const e="left",n="right",r=this.elementRef.nativeElement;if("top"==t)return r.scrollTop;if("bottom"==t)return r.scrollHeight-r.clientHeight-r.scrollTop;const i=this.dir&&"rtl"==this.dir.value;return"start"==t?t=i?n:e:"end"==t&&(t=i?e:n),i&&2==sC()?t==e?r.scrollWidth-r.clientWidth-r.scrollLeft:r.scrollLeft:i&&1==sC()?t==e?r.scrollLeft+r.scrollWidth-r.clientWidth:-r.scrollLeft:t==e?r.scrollLeft:r.scrollWidth-r.clientWidth-r.scrollLeft}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(ox),r.Mb(r.A),r.Mb(TC,8))},t.\u0275dir=r.Hb({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),t})(),ux=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new bb.a,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(ex(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(eC),r.Vb(r.A),r.Vb(o,8))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Vb)(eC),Object(r.Vb)(r.A),Object(r.Vb)(o,8))},token:t,providedIn:"root"}),t})(),cx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})(),lx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[IC,nC,cx],IC,cx]}),t})();class hx{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class dx extends hx{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class fx extends hx{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class px extends hx{constructor(t){super(),this.element=t instanceof r.l?t.nativeElement:t}}class mx{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof dx?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof fx?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof px?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class gx extends mx{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let bx=(()=>{class t extends mx{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new r.n,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.j),r.Mb(r.R),r.Mb(o))},t.\u0275dir=r.Hb({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r.zb]}),t})(),yx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})();const vx=iC();class _x{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=$w(-this._previousScrollPosition.left),t.style.top=$w(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),vx&&(e.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),vx&&(e.scrollBehavior=r,n.scrollBehavior=i)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class wx{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Cx{enable(){}disable(){}attach(){}}function Ex(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function Sx(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class Ox{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();Ex(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let xx=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new Cx,this.close=t=>new wx(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new _x(this._viewportRuler,this._document),this.reposition=t=>new Ox(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(ox),r.Vb(ux),r.Vb(r.A),r.Vb(o))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Vb)(ox),Object(r.Vb)(ux),Object(r.Vb)(r.A),Object(r.Vb)(o))},token:t,providedIn:"root"}),t})();class Dx{constructor(t){if(this.scrollStrategy=new Cx,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class Ax{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class kx{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let Tx=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(o))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Vb)(o))},token:t,providedIn:"root"}),t})(),Ix=(()=>{class t extends Tx{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(o))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Vb)(o))},token:t,providedIn:"root"}),t})(),Rx=(()=>{class t extends Tx{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,n=this._attachedOverlays.slice();for(let r=n.length-1;r>-1;r--){const i=n[r];if(!(i._outsidePointerEvents.observers.length<1)&&i.hasAttached()){if(i.overlayElement.contains(e))break;i._outsidePointerEvents.next(t)}}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(o),r.Vb(eC))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Vb)(o),Object(r.Vb)(eC))},token:t,providedIn:"root"}),t})();const Nx=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let jx=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Nx){const e=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}const e=this._document.createElement("div");e.classList.add(t),Nx?e.setAttribute("platform","test"):this._platform.isBrowser||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(o),r.Vb(eC))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Vb)(o),Object(r.Vb)(eC))},token:t,providedIn:"root"}),t})();class Fx{constructor(t,e,n,r,i,s,o,a,u){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=u,this._backdropElement=null,this._backdropClick=new bb.a,this._attachments=new bb.a,this._detachments=new bb.a,this._locationChanges=Sb.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new bb.a,this._outsidePointerEvents=new bb.a,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Nb(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=$w(this._config.width),t.height=$w(this._config.height),t.minWidth=$w(this._config.minWidth),t.minHeight=$w(this._config.minHeight),t.maxWidth=$w(this._config.maxWidth),t.maxHeight=$w(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;Ww(e).forEach(t=>{t&&(n?r.add(t):r.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(nx(Object(yb.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const Mx="cdk-overlay-connected-position-bounding-box",Px=/([A-Za-z%]+)$/;class Lx{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new bb.a,this._resizeSubscription=Sb.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(Mx),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),u=this._getOverlayFit(a,e,n,s);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(u,a,n)?r.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!i||i.overlayFit.visibleArea<u.visibleArea)&&(i={overlayFit:u,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Vx(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Mx),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){const i=Ux(e);let{x:s,y:o}=t,a=this._getOffset(r,"x"),u=this._getOffset(r,"y");a&&(s+=a),u&&(o+=u);let c=0-o,l=o+i.height-n.height,h=this._subtractOverflows(i.width,0-s,s+i.width-n.width),d=this._subtractOverflows(i.height,c,l),f=h*d;return{visibleArea:f,isCompletelyWithinViewport:i.width*i.height===f,fitsInViewportVertically:d===i.height,fitsInViewportHorizontally:h==i.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,s=Bx(this._overlayRef.getConfig().minHeight),o=Bx(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=o&&o<=i;return(t.fitsInViewportVertically||null!=s&&s<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=Ux(e),i=this._viewportRect,s=Math.max(t.x+r.width-i.width,0),o=Math.max(t.y+r.height-i.height,0),a=Math.max(i.top-n.top-t.y,0),u=Math.max(i.left-n.left-t.x,0);let c=0,l=0;return c=r.width<=i.width?u||-s:t.x<this._viewportMargin?i.left-n.left-t.x:0,l=r.height<=i.height?a||-o:t.y<this._viewportMargin?i.top-n.top-t.y:0,this._previousPushAmount={x:c,y:l},{x:t.x+c,y:t.y+l}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new kx(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,s,o,a,u,c;if("top"===e.overlayY)s=t.y,i=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,i=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,s=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)c=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)u=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;a=2*e,u=t.x-e,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-r/2)}return{top:s,left:u,bottom:o,right:c,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=$w(n.height),r.top=$w(n.top),r.bottom=$w(n.bottom),r.width=$w(n.width),r.left=$w(n.left),r.right=$w(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=$w(t)),i&&(r.maxWidth=$w(i))}this._lastBoundingBoxSize=n,Vx(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Vx(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Vx(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();Vx(n,this._getExactOverlayY(e,t,r)),Vx(n,this._getExactOverlayX(e,t,r))}else n.position="static";let o="",a=this._getOffset(e,"x"),u=this._getOffset(e,"y");a&&(o+=`translateX(${a}px) `),u&&(o+=`translateY(${u}px)`),n.transform=o.trim(),s.maxHeight&&(r?n.maxHeight=$w(s.maxHeight):i&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=$w(s.maxWidth):i&&(n.maxWidth="")),Vx(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=s,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=$w(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=$w(s.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Sx(t,n),isOriginOutsideView:Ex(t,n),isOverlayClipped:Sx(e,n),isOverlayOutsideView:Ex(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Ww(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof r.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function Vx(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Bx(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(Px);return n&&"px"!==n?null:parseFloat(e)}return t||null}function Ux(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}class qx{constructor(t,e,n,r,i,s,o){this._preferredPositions=[],this._positionStrategy=new Lx(n,r,i,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new Ax(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const zx="cdk-global-overlay-wrapper";class Qx{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(zx),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:s,maxHeight:o}=n,a=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),u=!("100%"!==i&&"100vh"!==i||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=u?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(zx),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Hx=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new Qx}connectedTo(t,e,n){return new qx(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new Lx(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(ux),r.Vb(o),r.Vb(eC),r.Vb(jx))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Vb)(ux),Object(r.Vb)(o),Object(r.Vb)(eC),Object(r.Vb)(jx))},token:t,providedIn:"root"}),t})(),Gx=0,Kx=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u,c,l){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=s,this._ngZone=o,this._document=a,this._directionality=u,this._location=c,this._outsideClickDispatcher=l}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new Dx(t);return i.direction=i.direction||this._directionality.value,new Fx(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+Gx++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(r.g)),new gx(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(xx),r.Vb(jx),r.Vb(r.j),r.Vb(Hx),r.Vb(Ix),r.Vb(r.s),r.Vb(r.A),r.Vb(o),r.Vb(TC),r.Vb(w),r.Vb(Rx))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const Wx={provide:new r.r("cdk-connected-overlay-scroll-strategy"),deps:[Kx],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let $x=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[Kx,Wx],imports:[[IC,yx,lx],lx]}),t})();class Yx{constructor(t){this.total=t}call(t,e){return e.subscribe(new Zx(t,this.total))}}class Zx extends Nn.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}const Xx=new Set;let Jx,tD=(()=>{class t{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):eD}matchMedia(t){return this._platform.WEBKIT&&function(t){if(!Xx.has(t))try{Jx||(Jx=document.createElement("style"),Jx.setAttribute("type","text/css"),document.head.appendChild(Jx)),Jx.sheet&&(Jx.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),Xx.add(t))}catch(db){console.error(db)}}(t),this._matchMedia(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(eC))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Vb)(eC))},token:t,providedIn:"root"}),t})();function eD(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let nD=(()=>{class t{constructor(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new bb.a}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return rD(Ww(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){let e=Sy(rD(Ww(t)).map(t=>this._registerQuery(t).observable));return e=Tn(e.pipe(Nb(1)),e.pipe(t=>t.lift(new Yx(1)),qw(0))),e.pipe(Object(te.a)(t=>{const e={matches:!1,breakpoints:{}};return t.forEach(({matches:t,query:n})=>{e.matches=e.matches||t,e.breakpoints[n]=t}),e}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this._mediaMatcher.matchMedia(t),n={observable:new Xt.a(t=>{const n=e=>this._zone.run(()=>t.next(e));return e.addListener(n),()=>{e.removeListener(n)}}).pipe(Rn(e),Object(te.a)(({matches:e})=>({query:t,matches:e})),nx(this._destroySubject)),mql:e};return this._queries.set(t,n),n}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(tD),r.Vb(r.A))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Vb)(tD),Object(r.Vb)(r.A))},token:t,providedIn:"root"}),t})();function rD(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function iD(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",1),r.Rb(1,"button",2),r.Yb("click",function(){return r.nc(t),r.ac().action()}),r.uc(2),r.Qb(),r.Qb()}if(2&t){const t=r.ac();r.Cb(2),r.vc(t.data.action)}}function sD(t,e){}const oD=new r.r("MatSnackBarData");class aD{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const uD=Math.pow(2,31)-1;class cD{constructor(t,e){this._overlayRef=e,this._afterDismissed=new bb.a,this._afterOpened=new bb.a,this._onAction=new bb.a,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete())}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,uD))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let lD=(()=>{class t{constructor(t,e){this.snackBarRef=t,this.data=e}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(cD),r.Mb(oD))},t.\u0275cmp=r.Gb({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(r.Rb(0,"span"),r.uc(1),r.Qb(),r.tc(2,iD,3,1,"div",0)),2&t&&(r.Cb(1),r.vc(e.data.message),r.Cb(1),r.gc("ngIf",e.hasAction))},directives:[ct,QO],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),t})();const hD={snackBarState:FC("state",[VC("void, hidden",LC({transform:"scale(0.8)",opacity:0})),VC("visible",LC({transform:"scale(1)",opacity:1})),BC("* => visible",MC("150ms cubic-bezier(0, 0, 0.2, 1)")),BC("* => void, * => hidden",MC("75ms cubic-bezier(0.4, 0.0, 1, 1)",LC({opacity:0})))])};let dD=(()=>{class t extends mx{constructor(t,e,n,r,i){super(),this._ngZone=t,this._elementRef=e,this._changeDetectorRef=n,this._platform=r,this.snackBarConfig=i,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new bb.a,this._onExit=new bb.a,this._onEnter=new bb.a,this._animationState="void",this.attachDomPortal=t=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(t)),this._live="assertive"!==i.politeness||i.announcementMessage?"off"===i.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:e,toState:n}=t;if(("void"===n&&"void"!==e||"hidden"===n)&&this._completeExit(),"visible"===n){const t=this._onEnter;this._ngZone.run(()=>{t.next(),t.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Nb(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach(e=>t.classList.add(e)):t.classList.add(e)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),e=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&e){let n=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(n=document.activeElement),t.removeAttribute("aria-hidden"),e.appendChild(t),null==n||n.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.A),r.Mb(r.l),r.Mb(r.h),r.Mb(eC),r.Mb(aD))},t.\u0275cmp=r.Gb({type:t,selectors:[["snack-bar-container"]],viewQuery:function(t,e){if(1&t&&r.yc(bx,3),2&t){let t;r.lc(t=r.Zb())&&(e._portalOutlet=t.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(t,e){1&t&&r.rc("@state.done",function(t){return e.onAnimationEnd(t)}),2&t&&r.sc("@state",e._animationState)},features:[r.zb],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.tc(1,sD,0,0,"ng-template",1),r.Qb(),r.Nb(2,"div")),2&t&&(r.Cb(2),r.Db("aria-live",e._live)("role",e._role))},directives:[bx],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[hD.snackBarState]}}),t})(),fD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[$x,yx,gt,GO,_O],_O]}),t})();const pD=new r.r("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new aD}});let mD=(()=>{class t{constructor(t,e,n,r,i,s){this._overlay=t,this._live=e,this._injector=n,this._breakpointObserver=r,this._parentSnackBar=i,this._defaultConfig=s,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=lD,this.snackBarContainerComponent=dD,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,e){return this._attach(t,e)}openFromTemplate(t,e){return this._attach(t,e)}open(t,e="",n){const r=Object.assign(Object.assign({},this._defaultConfig),n);return r.data={message:t,action:e},r.announcementMessage===t&&(r.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,r)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,e){const n=r.s.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:aD,useValue:e}]}),i=new dx(this.snackBarContainerComponent,e.viewContainerRef,n),s=t.attach(i);return s.instance.snackBarConfig=e,s.instance}_attach(t,e){const n=Object.assign(Object.assign(Object.assign({},new aD),this._defaultConfig),e),i=this._createOverlay(n),s=this._attachSnackBarContainer(i,n),o=new cD(s,i);if(t instanceof r.M){const e=new fx(t,null,{$implicit:n.data,snackBarRef:o});o.instance=s.attachTemplatePortal(e)}else{const e=this._createInjector(n,o),r=new dx(t,void 0,e),i=s.attachComponentPortal(r);o.instance=i.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(nx(i.detachments())).subscribe(t=>{const e=i.overlayElement.classList;t.matches?e.add(this.handsetCssClass):e.remove(this.handsetCssClass)}),n.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(n.announcementMessage,n.politeness)}),this._animateSnackBar(o,n),this._openedSnackBarRef=o,this._openedSnackBarRef}_animateSnackBar(t,e){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),e.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),e.duration&&e.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(e.duration))}_createOverlay(t){const e=new Dx;e.direction=t.direction;let n=this._overlay.position().global();const r="rtl"===t.direction,i="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!r||"end"===t.horizontalPosition&&r,s=!i&&"center"!==t.horizontalPosition;return i?n.left("0"):s?n.right("0"):n.centerHorizontally(),"top"===t.verticalPosition?n.top("0"):n.bottom("0"),e.positionStrategy=n,this._overlay.create(e)}_createInjector(t,e){return r.s.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:cD,useValue:e},{provide:oD,useValue:t.data}]})}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(Kx),r.Vb(yC),r.Vb(r.s),r.Vb(nD),r.Vb(t,12),r.Vb(pD))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Vb)(Kx),Object(r.Vb)(yC),Object(r.Vb)(r.o),Object(r.Vb)(nD),Object(r.Vb)(t,12),Object(r.Vb)(pD))},token:t,providedIn:fD}),t})();const gD=["*",[["mat-toolbar-row"]]],bD=["*","mat-toolbar-row"];class yD{constructor(t){this._elementRef=t}}const vD=CO(yD);let _D=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),t})(),wD=(()=>{class t extends vD{constructor(t,e,n){super(t),this._platform=e,this._document=n}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(eC),r.Mb(o))},t.\u0275cmp=r.Gb({type:t,selectors:[["mat-toolbar"]],contentQueries:function(t,e,n){if(1&t&&r.Fb(n,_D,1),2&t){let t;r.lc(t=r.Zb())&&(e._toolbarRows=t)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,e){2&t&&r.Eb("mat-toolbar-multiple-rows",e._toolbarRows.length>0)("mat-toolbar-single-row",0===e._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[r.zb],ngContentSelectors:bD,decls:2,vars:0,template:function(t,e){1&t&&(r.fc(gD),r.ec(0),r.ec(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),t})(),CD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[_O],_O]}),t})();function ED(t){return e=>e.lift(new SD(t))}class SD{constructor(t){this.value=t}call(t,e){return e.subscribe(new OD(t,this.value))}}class OD extends Nn.a{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}const xD=["*"];function DD(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",2),r.Yb("click",function(){return r.nc(t),r.ac()._onBackdropClicked()}),r.Qb()}if(2&t){const t=r.ac();r.Eb("mat-drawer-shown",t._isShowingBackdrop())}}function AD(t,e){1&t&&(r.Rb(0,"mat-drawer-content"),r.ec(1,2),r.Qb())}const kD=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],TD=["mat-drawer","mat-drawer-content","*"],ID={transformDrawer:FC("transform",[VC("open, open-instant",LC({transform:"none",visibility:"visible"})),VC("void",LC({"box-shadow":"none",visibility:"hidden"})),BC("void => open-instant",MC("0ms")),BC("void <=> open, open-instant => void",MC("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},RD=new r.r("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),ND=new r.r("MAT_DRAWER_CONTAINER");let jD=(()=>{class t extends ax{constructor(t,e,n,r,i){super(n,r,i),this._changeDetectorRef=t,this._container=e}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.h),r.Mb(Object(r.V)(()=>MD)),r.Mb(r.l),r.Mb(ox),r.Mb(r.A))},t.\u0275cmp=r.Gb({type:t,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,e){2&t&&r.qc("margin-left",e._container._contentMargins.left,"px")("margin-right",e._container._contentMargins.right,"px")},features:[r.zb],ngContentSelectors:xD,decls:1,vars:0,template:function(t,e){1&t&&(r.fc(),r.ec(0))},encapsulation:2,changeDetection:0}),t})(),FD=(()=>{class t{constructor(t,e,n,i,s,o,a){this._elementRef=t,this._focusTrapFactory=e,this._focusMonitor=n,this._platform=i,this._ngZone=s,this._doc=o,this._container=a,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new bb.a,this._animationEnd=new bb.a,this._animationState="void",this.openedChange=new r.n(!0),this._openedStream=this.openedChange.pipe(zn(t=>t),Object(te.a)(()=>{})),this.openedStart=this._animationStarted.pipe(zn(t=>t.fromState!==t.toState&&0===t.toState.indexOf("open")),ED(void 0)),this._closedStream=this.openedChange.pipe(zn(t=>!t),Object(te.a)(()=>{})),this.closedStart=this._animationStarted.pipe(zn(t=>t.fromState!==t.toState&&"void"===t.toState),ED(void 0)),this._destroyed=new bb.a,this.onPositionChanged=new r.n,this._modeChanged=new bb.a,this.openedChange.subscribe(t=>{t?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{WO(this._elementRef.nativeElement,"keydown").pipe(zn(t=>27===t.keyCode&&!this.disableClose&&!Uw(t)),nx(this._destroyed)).subscribe(t=>this._ngZone.run(()=>{this.close(),t.stopPropagation(),t.preventDefault()}))}),this._animationEnd.pipe(Bn((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{const{fromState:e,toState:n}=t;(0===n.indexOf("open")&&"void"===e||"void"===n&&0===e.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!=this._position&&(this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=Gw(t)}get autoFocus(){const t=this._autoFocus;return null==t?"side"!==this.mode:t}set autoFocus(t){this._autoFocus=Gw(t)}get opened(){return this._opened}set opened(t){this.toggle(Gw(t))}_takeFocus(){this.autoFocus&&this._focusTrap&&this._focusTrap.focusInitialElementWhenReady().then(t=>{t||"function"!=typeof this._elementRef.nativeElement.focus||this._elementRef.nativeElement.focus()})}_restoreFocus(){this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null)}_isFocusWithinDrawer(){var t;const e=null===(t=this._doc)||void 0===t?void 0:t.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0)}toggle(t=!this.opened,e){return this._setOpen(t,!t&&this._isFocusWithinDrawer(),e)}_setOpen(t,e,n="program"){return this._opened=t,t?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=n):(this._animationState="void",e&&this._restoreFocus()),this._updateFocusTrapState(),new Promise(t=>{this.openedChange.pipe(Nb(1)).subscribe(e=>t(e?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(t){this._animationStarted.next(t)}_animationDoneListener(t){this._animationEnd.next(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(mC),r.Mb(EC),r.Mb(eC),r.Mb(r.A),r.Mb(o,8),r.Mb(ND,8))},t.\u0275cmp=r.Gb({type:t,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,e){1&t&&r.rc("@transform.start",function(t){return e._animationStartListener(t)})("@transform.done",function(t){return e._animationDoneListener(t)}),2&t&&(r.Db("align",null),r.sc("@transform",e._animationState),r.Eb("mat-drawer-end","end"===e.position)("mat-drawer-over","over"===e.mode)("mat-drawer-push","push"===e.mode)("mat-drawer-side","side"===e.mode)("mat-drawer-opened",e.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:xD,decls:2,vars:0,consts:[[1,"mat-drawer-inner-container"]],template:function(t,e){1&t&&(r.fc(),r.Rb(0,"div",0),r.ec(1),r.Qb())},encapsulation:2,data:{animation:[ID.transformDrawer]},changeDetection:0}),t})(),MD=(()=>{class t{constructor(t,e,n,i,s,o=!1,a){this._dir=t,this._element=e,this._ngZone=n,this._changeDetectorRef=i,this._animationMode=a,this._drawers=new r.E,this.backdropClick=new r.n,this._destroyed=new bb.a,this._doCheckSubject=new bb.a,this._contentMargins={left:null,right:null},this._contentMarginChanges=new bb.a,t&&t.change.pipe(nx(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),s.change().pipe(nx(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=o}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=Gw(t)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(t){this._backdropOverride=null==t?null:Gw(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Rn(this._allDrawers),nx(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(t=>!t._container||t._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Rn(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(qw(10),nx(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,e=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const n=this._left._getWidth();t+=n,e-=n}if(this._right&&this._right.opened)if("side"==this._right.mode)e+=this._right._getWidth();else if("push"==this._right.mode){const n=this._right._getWidth();e+=n,t-=n}t=t||null,e=e||null,t===this._contentMargins.left&&e===this._contentMargins.right||(this._contentMargins={left:t,right:e},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(zn(t=>t.fromState!==t.toState),nx(this._drawers.changes)).subscribe(t=>{"open-instant"!==t.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(nx(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(nx(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Nb(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(nx(Object(yb.a)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const e=this._element.nativeElement.classList,n="mat-drawer-container-has-open";t?e.add(n):e.remove(n)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(TC,8),r.Mb(r.l),r.Mb(r.A),r.Mb(r.h),r.Mb(ux),r.Mb(RD),r.Mb(pO,8))},t.\u0275cmp=r.Gb({type:t,selectors:[["mat-drawer-container"]],contentQueries:function(t,e,n){if(1&t&&(r.Fb(n,jD,1),r.Fb(n,FD,1)),2&t){let t;r.lc(t=r.Zb())&&(e._content=t.first),r.lc(t=r.Zb())&&(e._allDrawers=t)}},viewQuery:function(t,e){if(1&t&&r.yc(jD,1),2&t){let t;r.lc(t=r.Zb())&&(e._userContent=t.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,e){2&t&&r.Eb("mat-drawer-container-explicit-backdrop",e._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[r.Bb([{provide:ND,useExisting:t}])],ngContentSelectors:TD,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,e){1&t&&(r.fc(kD),r.tc(0,DD,1,2,"div",0),r.ec(1),r.ec(2,1),r.tc(3,AD,2,0,"mat-drawer-content",1)),2&t&&(r.gc("ngIf",e.hasBackdrop),r.Cb(3),r.gc("ngIf",!e._content))},directives:[ct,jD],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),t})(),PD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[gt,_O,nC,cx],cx,_O]}),t})();n("z6cu"),n("w1tV");let LD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[_O],_O]}),t})();var VD=n("WMd4");function BD(t,e=Dn.a){var n;const r=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new UD(r,e))}class UD{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new qD(t,this.delay,this.scheduler))}}class qD extends Nn.a{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,r=t.scheduler,i=t.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const e=Math.max(0,n[0].time-r.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(qD.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new zD(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(VD.a.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(VD.a.createComplete()),this.unsubscribe()}}class zD{constructor(t,e){this.time=t,this.notification=e}}const QD=["mat-menu-item",""],HD=["*"];function GD(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",0),r.Yb("keydown",function(e){return r.nc(t),r.ac()._handleKeydown(e)})("click",function(){return r.nc(t),r.ac().closed.emit("click")})("@transformMenu.start",function(e){return r.nc(t),r.ac()._onAnimationStart(e)})("@transformMenu.done",function(e){return r.nc(t),r.ac()._onAnimationDone(e)}),r.Rb(1,"div",1),r.ec(2),r.Qb(),r.Qb()}if(2&t){const t=r.ac();r.gc("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),r.Db("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const KD={transformMenu:FC("transformMenu",[VC("void",LC({opacity:0,transform:"scale(0.8)"})),BC("void => enter",MC("120ms cubic-bezier(0, 0, 0.2, 1)",LC({opacity:1,transform:"scale(1)"}))),BC("* => void",MC("100ms 25ms linear",LC({opacity:0})))]),fadeInItems:FC("fadeInItems",[VC("showing",LC({opacity:1})),BC("void => *",[LC({opacity:0}),MC("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},WD=new r.r("MatMenuContent"),$D=new r.r("MAT_MENU_PANEL");class YD{}const ZD=EO(wO(YD));let XD=(()=>{class t extends ZD{constructor(t,e,n,r){super(),this._elementRef=t,this._focusMonitor=n,this._parentMenu=r,this.role="menuitem",this._hovered=new bb.a,this._focused=new bb.a,this._highlighted=!1,this._triggersSubmenu=!1,r&&r.addItem&&r.addItem(this)}focus(t,e){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var t,e;const n=this._elementRef.nativeElement.cloneNode(!0),r=n.querySelectorAll("mat-icon, .material-icons");for(let i=0;i<r.length;i++){const e=r[i];null===(t=e.parentNode)||void 0===t||t.removeChild(e)}return(null===(e=n.textContent)||void 0===e?void 0:e.trim())||""}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(o),r.Mb(EC),r.Mb($D,8))},t.\u0275cmp=r.Gb({type:t,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,e){1&t&&r.Yb("click",function(t){return e._checkDisabled(t)})("mouseenter",function(){return e._handleMouseEnter()}),2&t&&(r.Db("role",e.role)("tabindex",e._getTabIndex())("aria-disabled",e.disabled.toString())("disabled",e.disabled||null),r.Eb("mat-menu-item",!0)("mat-menu-item-highlighted",e._highlighted)("mat-menu-item-submenu-trigger",e._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[r.zb],attrs:QD,ngContentSelectors:HD,decls:2,vars:2,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"]],template:function(t,e){1&t&&(r.fc(),r.ec(0),r.Nb(1,"div",0)),2&t&&(r.Cb(1),r.gc("matRippleDisabled",e.disableRipple||e.disabled)("matRippleTrigger",e._getHostElement()))},directives:[FO],encapsulation:2,changeDetection:0}),t})();const JD=new r.r("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let tA=0,eA=(()=>{class t{constructor(t,e,n){this._elementRef=t,this._ngZone=e,this._defaultOptions=n,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new r.E,this._tabSubscription=Sb.a.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new bb.a,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new r.n,this.close=this.closed,this.panelId="mat-menu-panel-"+tA++}get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=Gw(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Gw(t)}set panelClass(t){const e=this._previousPanelClass;e&&e.length&&e.split(" ").forEach(t=>{this._classList[t]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(t=>{this._classList[t]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new lC(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Rn(this._directDescendantItems),_b(t=>Object(yb.a)(...t.map(t=>t._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(Rn(this._directDescendantItems),_b(t=>Object(yb.a)(...t.map(t=>t._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const e=t.keyCode,n=this._keyManager;switch(e){case 27:Uw(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:38!==e&&40!==e||n.setFocusOrigin("keyboard"),n.onKeydown(t)}}focusFirstItem(t="program"){this.lazyContent?this._ngZone.onStable.pipe(Nb(1)).subscribe(()=>this._focusFirstItem(t)):this._focusFirstItem(t)}_focusFirstItem(t){const e=this._keyManager;if(e.setFocusOrigin(t).setFirstItemActive(),!e.activeItem&&this._directDescendantItems.length){let t=this._directDescendantItems.first._getHostElement().parentElement;for(;t;){if("menu"===t.getAttribute("role")){t.focus();break}t=t.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const e=`mat-elevation-z${Math.min(4+t,24)}`,n=Object.keys(this._classList).find(t=>t.startsWith("mat-elevation-z"));n&&n!==this._previousElevation||(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[e]=!0,this._previousElevation=e)}setPositionClasses(t=this.xPosition,e=this.yPosition){const n=this._classList;n["mat-menu-before"]="before"===t,n["mat-menu-after"]="after"===t,n["mat-menu-above"]="above"===e,n["mat-menu-below"]="below"===e}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Rn(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(t=>t._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.A),r.Mb(JD))},t.\u0275dir=r.Hb({type:t,contentQueries:function(t,e,n){if(1&t&&(r.Fb(n,WD,1),r.Fb(n,XD,1),r.Fb(n,XD,0)),2&t){let t;r.lc(t=r.Zb())&&(e.lazyContent=t.first),r.lc(t=r.Zb())&&(e._allItems=t),r.lc(t=r.Zb())&&(e.items=t)}},viewQuery:function(t,e){if(1&t&&r.yc(r.M,1),2&t){let t;r.lc(t=r.Zb())&&(e.templateRef=t.first)}},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),t})(),nA=(()=>{class t extends eA{constructor(t,e,n){super(t,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.A),r.Mb(JD))},t.\u0275cmp=r.Gb({type:t,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(t,e){2&t&&r.Db("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[r.Bb([{provide:$D,useExisting:t}]),r.zb],ngContentSelectors:HD,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,e){1&t&&(r.fc(),r.tc(0,GD,3,6,"ng-template"))},directives:[st],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:"";display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[KD.transformMenu,KD.fadeInItems]},changeDetection:0}),t})();const rA=new r.r("mat-menu-scroll-strategy"),iA={provide:rA,deps:[Kx],useFactory:function(t){return()=>t.scrollStrategies.reposition()}},sA=rC({passive:!0});let oA=(()=>{class t{constructor(t,e,n,i,s,o,a,u){this._overlay=t,this._element=e,this._viewContainerRef=n,this._menuItemInstance=o,this._dir=a,this._focusMonitor=u,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Sb.a.EMPTY,this._hoverSubscription=Sb.a.EMPTY,this._menuCloseSubscription=Sb.a.EMPTY,this._handleTouchStart=t=>{_C(t)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new r.n,this.onMenuOpen=this.menuOpened,this.menuClosed=new r.n,this.onMenuClose=this.menuClosed,this._scrollStrategy=i,this._parentMaterialMenu=s instanceof eA?s:void 0,e.nativeElement.addEventListener("touchstart",this._handleTouchStart,sA),o&&(o._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(t=>{this._destroyMenu(t),"click"!==t&&"tab"!==t||!this._parentMaterialMenu||this._parentMaterialMenu.closed.emit(t)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,sA),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const t=this._createOverlay(),e=t.getConfig();this._setPosition(e.positionStrategy),e.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,t.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof eA&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(t,e){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,e):this._element.nativeElement.focus(e)}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const e=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),!this.restoreFocus||"keydown"!==t&&this._openedBy&&this.triggersSubmenu()||this.focus(this._openedBy),this._openedBy=void 0,e instanceof eA?(e._resetAnimation(),e.lazyContent?e._animationDone.pipe(zn(t=>"void"===t.toState),Nb(1),nx(e.lazyContent._attached)).subscribe({next:()=>e.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),e.lazyContent&&e.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let t=0,e=this.menu.parentMenu;for(;e;)t++,e=e.parentMenu;this.menu.setElevation(t)}}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=t)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const t=this._getOverlayConfig();this._subscribeToPositions(t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new Dx({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t){this.menu.setPositionClasses&&t.positionChanges.subscribe(t=>{this.menu.setPositionClasses("start"===t.connectionPair.overlayX?"after":"before","top"===t.connectionPair.overlayY?"below":"above")})}_setPosition(t){let[e,n]="before"===this.menu.xPosition?["end","start"]:["start","end"],[r,i]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[s,o]=[r,i],[a,u]=[e,n],c=0;this.triggersSubmenu()?(u=e="before"===this.menu.xPosition?"start":"end",n=a="end"===e?"start":"end",c="bottom"===r?8:-8):this.menu.overlapTrigger||(s="top"===r?"bottom":"top",o="top"===i?"bottom":"top"),t.withPositions([{originX:e,originY:s,overlayX:a,overlayY:r,offsetY:c},{originX:n,originY:s,overlayX:u,overlayY:r,offsetY:c},{originX:e,originY:o,overlayX:a,overlayY:i,offsetY:-c},{originX:n,originY:o,overlayX:u,overlayY:i,offsetY:-c}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),e=this._overlayRef.detachments(),n=this._parentMaterialMenu?this._parentMaterialMenu.closed:Object(An.a)(),r=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(zn(t=>t!==this._menuItemInstance),zn(()=>this._menuOpen)):Object(An.a)();return Object(yb.a)(t,n,r,e)}_handleMousedown(t){vC(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const e=t.keyCode;13!==e&&32!==e||(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===e&&"ltr"===this.dir||37===e&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&this._parentMaterialMenu&&(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(zn(t=>t===this._menuItemInstance&&!t.disabled),BD(0,YO.b)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof eA&&this.menu._isAnimating?this.menu._animationDone.pipe(Nb(1),BD(0,YO.b),nx(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return this._portal&&this._portal.templateRef===this.menu.templateRef||(this._portal=new fx(this.menu.templateRef,this._viewContainerRef)),this._portal}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Kx),r.Mb(r.l),r.Mb(r.R),r.Mb(rA),r.Mb($D,8),r.Mb(XD,10),r.Mb(TC,8),r.Mb(EC))},t.\u0275dir=r.Hb({type:t,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:["aria-haspopup","true",1,"mat-menu-trigger"],hostVars:2,hostBindings:function(t,e){1&t&&r.Yb("mousedown",function(t){return e._handleMousedown(t)})("keydown",function(t){return e._handleKeydown(t)})("click",function(t){return e._handleClick(t)}),2&t&&r.Db("aria-expanded",e.menuOpen||null)("aria-controls",e.menuOpen?e.menu.panelId:null)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]}),t})(),aA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[iA],imports:[_O]}),t})(),uA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[iA],imports:[[gt,_O,MO,$x,aA],cx,_O,aA]}),t})(),cA=(()=>{class t{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=Gw(t)}get inset(){return this._inset}set inset(t){this._inset=Gw(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Db("aria-orientation",e.vertical?"vertical":"horizontal"),r.Eb("mat-divider-vertical",e.vertical)("mat-divider-horizontal",!e.vertical)("mat-divider-inset",e.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,e){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),t})(),lA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[_O],_O]}),t})();const hA=["*"];class dA{}const fA=wO(EO(dA)),pA=new r.r("MatList");let mA=(()=>{class t extends fA{constructor(t){super(),this._elementRef=t,this._stateChanges=new bb.a,"action-list"===this._getListType()&&t.nativeElement.classList.add("mat-action-list")}_getListType(){const t=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===t?"list":"mat-action-list"===t?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l))},t.\u0275cmp=r.Gb({type:t,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[r.Bb([{provide:pA,useExisting:t}]),r.zb,r.Ab],ngContentSelectors:hA,decls:1,vars:0,template:function(t,e){1&t&&(r.fc(),r.ec(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),t})(),gA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[DO,MO,_O,PO,gt],DO,_O,PO,lA]}),t})();const bA=["*",[["mat-card-footer"]]],yA=["*","mat-card-footer"];let vA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),t})(),_A=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),t})(),wA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),t})(),CA=(()=>{class t{constructor(t){this._animationMode=t}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(pO,8))},t.\u0275cmp=r.Gb({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,e){2&t&&r.Eb("_mat-animation-noopable","NoopAnimations"===e._animationMode)},exportAs:["matCard"],ngContentSelectors:yA,decls:2,vars:0,template:function(t,e){1&t&&(r.fc(bA),r.ec(0),r.ec(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),t})(),EA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[_O],_O]}),t})(),SA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t}),t})();const OA=["*"],xA=new r.r("MatChipRemove"),DA=new r.r("MatChipAvatar"),AA=new r.r("MatChipTrailingIcon");class kA{constructor(t){this._elementRef=t}}const TA=SO(CO(EO(kA),"primary"),-1);let IA=(()=>{class t extends TA{constructor(t,e,n,i,s,o,a,u){super(t),this._elementRef=t,this._ngZone=e,this._changeDetectorRef=s,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new bb.a,this._onBlur=new bb.a,this.selectionChange=new r.n,this.destroyed=new r.n,this.removed=new r.n,this._addHostClassName(),this._chipRippleTarget=o.createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new NO(this,e,this._chipRippleTarget,n),this._chipRipple.setupTriggerEvents(t),this.rippleConfig=i||{},this._animationsDisabled="NoopAnimations"===a,this.tabIndex=null!=u&&parseInt(u)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(t){const e=Gw(t);e!==this._selected&&(this._selected=e,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(t){this._value=t}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(t){this._selectable=Gw(t)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(t){this._disabled=Gw(t)}get removable(){return this._removable}set removable(t){this._removable=Gw(t)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const t="mat-basic-chip",e=this._elementRef.nativeElement;e.hasAttribute(t)||e.tagName.toLowerCase()===t?e.classList.add(t):e.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._changeDetectorRef.markForCheck())}toggleSelected(t=!1){return this._selected=!this.selected,this._dispatchSelectionChange(t),this._changeDetectorRef.markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(t){this.disabled?t.preventDefault():t.stopPropagation()}_handleKeydown(t){if(!this.disabled)switch(t.keyCode){case 46:case 8:this.remove(),t.preventDefault();break;case 32:this.selectable&&this.toggleSelected(!0),t.preventDefault()}}_blur(){this._ngZone.onStable.pipe(Nb(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(t=!1){this.selectionChange.emit({source:this,isUserInput:t,selected:this._selected})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.A),r.Mb(eC),r.Mb(jO,8),r.Mb(r.h),r.Mb(o),r.Mb(pO,8),r.Wb("tabindex"))},t.\u0275dir=r.Hb({type:t,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(t,e,n){if(1&t&&(r.Fb(n,DA,1),r.Fb(n,AA,1),r.Fb(n,xA,1)),2&t){let t;r.lc(t=r.Zb())&&(e.avatar=t.first),r.lc(t=r.Zb())&&(e.trailingIcon=t.first),r.lc(t=r.Zb())&&(e.removeIcon=t.first)}},hostAttrs:["role","option",1,"mat-chip","mat-focus-indicator"],hostVars:14,hostBindings:function(t,e){1&t&&r.Yb("click",function(t){return e._handleClick(t)})("keydown",function(t){return e._handleKeydown(t)})("focus",function(){return e.focus()})("blur",function(){return e._blur()}),2&t&&(r.Db("tabindex",e.disabled?null:e.tabIndex)("disabled",e.disabled||null)("aria-disabled",e.disabled.toString())("aria-selected",e.ariaSelected),r.Eb("mat-chip-selected",e.selected)("mat-chip-with-avatar",e.avatar)("mat-chip-with-trailing-icon",e.trailingIcon||e.removeIcon)("mat-chip-disabled",e.disabled)("_mat-animation-noopable",e._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[r.zb]}),t})();const RA=new r.r("mat-chips-default-options");class NA{constructor(t,e,n,r){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r}}const jA=OO(NA);let FA=0;class MA{constructor(t,e){this.source=t,this.value=e}}let PA=(()=>{class t extends jA{constructor(t,e,n,i,s,o,a){super(o,i,s,a),this._elementRef=t,this._changeDetectorRef=e,this._dir=n,this.ngControl=a,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new bb.a,this._uid="mat-chip-list-"+FA++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(t,e)=>t===e,this._required=!1,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new r.n,this.valueChange=new r.n,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get role(){return this.empty?null:"listbox"}get multiple(){return this._multiple}set multiple(t){this._multiple=Gw(t),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this.writeValue(t),this._value=t}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){return this._required}set required(t){this._required=Gw(t),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Gw(t),this._syncChipsState()}get selectable(){return this._selectable}set selectable(t){this._selectable=Gw(t),this.chips&&this.chips.forEach(t=>t.chipListSelectable=this._selectable)}set tabIndex(t){this._userTabIndex=t,this._tabIndex=t}get chipSelectionChanges(){return Object(yb.a)(...this.chips.map(t=>t.selectionChange))}get chipFocusChanges(){return Object(yb.a)(...this.chips.map(t=>t._onFocus))}get chipBlurChanges(){return Object(yb.a)(...this.chips.map(t=>t._onBlur))}get chipRemoveChanges(){return Object(yb.a)(...this.chips.map(t=>t.destroyed))}ngAfterContentInit(){this._keyManager=new lC(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe(nx(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t)),this._keyManager.tabOut.pipe(nx(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe(Rn(null),nx(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new sx(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(t){this._chipInput=t,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",t.id)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}writeValue(t){this.chips&&this._setSelectionByValue(t,!1)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this.stateChanges.next()}onContainerClick(t){this._originatesFromChip(t)||this.focus()}focus(t){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(t),this.stateChanges.next()))}_focusInput(t){this._chipInput&&this._chipInput.focus(t)}_keydown(t){const e=t.target;8===t.keyCode&&this._isInputEmpty(e)?(this._keyManager.setLastItemActive(),t.preventDefault()):e&&e.classList.contains("mat-chip")&&(this._keyManager.onKeydown(t),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const t=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(t)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(t){return t>=0&&t<this.chips.length}_isInputEmpty(t){return!(!t||"input"!==t.nodeName.toLowerCase()||t.value)}_setSelectionByValue(t,e=!0){if(this._clearSelection(),this.chips.forEach(t=>t.deselect()),Array.isArray(t))t.forEach(t=>this._selectValue(t,e)),this._sortValues();else{const n=this._selectValue(t,e);n&&e&&this._keyManager.setActiveItem(n)}}_selectValue(t,e=!0){const n=this.chips.find(e=>null!=e.value&&this._compareWith(e.value,t));return n&&(e?n.selectViaInteraction():n.select(),this._selectionModel.select(n)),n}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(t){this._selectionModel.clear(),this.chips.forEach(e=>{e!==t&&e.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(t=>{t.selected&&this._selectionModel.select(t)}),this.stateChanges.next())}_propagateChanges(t){let e=null;e=Array.isArray(this.selected)?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.change.emit(new MA(this,e)),this.valueChange.emit(e),this._onChange(e),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(t=>{t.source.selected?this._selectionModel.select(t.source):this._selectionModel.deselect(t.source),this.multiple||this.chips.forEach(t=>{!this._selectionModel.isSelected(t)&&t.selected&&t.deselect()}),t.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(t=>{let e=this.chips.toArray().indexOf(t.chip);this._isValidIndex(e)&&this._keyManager.updateActiveItem(e),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(t=>{const e=t.chip,n=this.chips.toArray().indexOf(t.chip);this._isValidIndex(n)&&e._hasFocus&&(this._lastDestroyedChipIndex=n)})}_originatesFromChip(t){let e=t.target;for(;e&&e!==this._elementRef.nativeElement;){if(e.classList.contains("mat-chip"))return!0;e=e.parentElement}return!1}_hasFocusedChip(){return this.chips&&this.chips.some(t=>t._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(t=>{t._chipListDisabled=this._disabled,t._chipListMultiple=this.multiple})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.h),r.Mb(TC,8),r.Mb(on,8),r.Mb(hn,8),r.Mb(xO),r.Mb(Ie,10))},t.\u0275cmp=r.Gb({type:t,selectors:[["mat-chip-list"]],contentQueries:function(t,e,n){if(1&t&&r.Fb(n,IA,1),2&t){let t;r.lc(t=r.Zb())&&(e.chips=t)}},hostAttrs:[1,"mat-chip-list"],hostVars:15,hostBindings:function(t,e){1&t&&r.Yb("focus",function(){return e.focus()})("blur",function(){return e._blur()})("keydown",function(t){return e._keydown(t)}),2&t&&(r.Ub("id",e._uid),r.Db("tabindex",e.disabled?null:e._tabIndex)("aria-describedby",e._ariaDescribedby||null)("aria-required",e.role?e.required:null)("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-multiselectable",e.multiple)("role",e.role)("aria-orientation",e.ariaOrientation),r.Eb("mat-chip-list-disabled",e.disabled)("mat-chip-list-invalid",e.errorState)("mat-chip-list-required",e.required))},inputs:{ariaOrientation:["aria-orientation","ariaOrientation"],multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",selectable:"selectable",tabIndex:"tabIndex",errorStateMatcher:"errorStateMatcher"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[r.Bb([{provide:SA,useExisting:t}]),r.zb],ngContentSelectors:OA,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(t,e){1&t&&(r.fc(),r.Rb(0,"div",0),r.ec(1),r.Qb())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;transform:translateZ(0);border:none;-webkit-appearance:none;-moz-appearance:none}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove.mat-icon{width:18px;height:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip:focus{outline:dotted 2px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}\n'],encapsulation:2,changeDetection:0}),t})();const LA={separatorKeyCodes:[13]};let VA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({providers:[xO,{provide:RA,useValue:LA}],imports:[[_O]]}),t})();const BA=["thumbContainer"],UA=["toggleBar"],qA=["input"],zA=function(){return{enterDuration:150}},QA=["*"],HA=new r.r("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let GA=0;const KA={provide:ie,useExisting:Object(r.V)(()=>ZA),multi:!0};class WA{constructor(t,e){this.source=t,this.checked=e}}class $A{constructor(t){this._elementRef=t}}const YA=SO(CO(EO(wO($A)),"accent"));let ZA=(()=>{class t extends YA{constructor(t,e,n,i,s,o){super(t),this._focusMonitor=e,this._changeDetectorRef=n,this.defaults=s,this._animationMode=o,this._onChange=t=>{},this._onTouched=()=>{},this._uniqueId="mat-slide-toggle-"+ ++GA,this._required=!1,this._checked=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new r.n,this.toggleChange=new r.n,this.tabIndex=parseInt(i)||0}get required(){return this._required}set required(t){this._required=Gw(t)}get checked(){return this._checked}set checked(t){this._checked=Gw(t),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{"keyboard"===t||"program"===t?this._inputElement.nativeElement.focus():t||Promise.resolve().then(()=>this._onTouched())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onChangeEvent(t){t.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(t){t.stopPropagation()}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}focus(t,e){e?this._focusMonitor.focusVia(this._inputElement,e,t):this._inputElement.nativeElement.focus(t)}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(new WA(this,this.checked))}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(EC),r.Mb(r.h),r.Wb("tabindex"),r.Mb(HA),r.Mb(pO,8))},t.\u0275cmp=r.Gb({type:t,selectors:[["mat-slide-toggle"]],viewQuery:function(t,e){if(1&t&&(r.yc(BA,1),r.yc(UA,1),r.yc(qA,1)),2&t){let t;r.lc(t=r.Zb())&&(e._thumbEl=t.first),r.lc(t=r.Zb())&&(e._thumbBarEl=t.first),r.lc(t=r.Zb())&&(e._inputElement=t.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:12,hostBindings:function(t,e){2&t&&(r.Ub("id",e.id),r.Db("tabindex",e.disabled?null:-1)("aria-label",null)("aria-labelledby",null),r.Eb("mat-checked",e.checked)("mat-disabled",e.disabled)("mat-slide-toggle-label-before","before"==e.labelPosition)("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[r.Bb([KA]),r.zb],ngContentSelectors:QA,decls:16,vars:18,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(t,e){if(1&t&&(r.fc(),r.Rb(0,"label",0,1),r.Rb(2,"div",2,3),r.Rb(4,"input",4,5),r.Yb("change",function(t){return e._onChangeEvent(t)})("click",function(t){return e._onInputClick(t)}),r.Qb(),r.Rb(6,"div",6,7),r.Nb(8,"div",8),r.Rb(9,"div",9),r.Nb(10,"div",10),r.Qb(),r.Qb(),r.Qb(),r.Rb(11,"span",11,12),r.Yb("cdkObserveContent",function(){return e._onLabelTextChange()}),r.Rb(13,"span",13),r.uc(14,"\xa0"),r.Qb(),r.ec(15),r.Qb(),r.Qb()),2&t){const t=r.mc(1),n=r.mc(12);r.Db("for",e.inputId),r.Cb(2),r.Eb("mat-slide-toggle-bar-no-side-margin",!n.textContent||!n.textContent.trim()),r.Cb(2),r.gc("id",e.inputId)("required",e.required)("tabIndex",e.tabIndex)("checked",e.checked)("disabled",e.disabled),r.Db("name",e.name)("aria-checked",e.checked.toString())("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby),r.Cb(5),r.gc("matRippleTrigger",t)("matRippleDisabled",e.disableRipple||e.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",r.ic(17,zA))}},directives:[FO,uC],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),t})(),XA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})(),JA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[XA,MO,_O,cC],XA,_O]}),t})(),tk=(()=>{class t{constructor(){this.onClick=new r.n}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-button"]],inputs:{text:"text"},outputs:{onClick:"onClick"},decls:2,vars:1,consts:[["mat-raised-button","",3,"click"]],template:function(t,e){1&t&&(r.Rb(0,"button",0),r.Yb("click",function(){return e.onClick.emit()}),r.uc(1),r.Qb()),2&t&&(r.Cb(1),r.vc(e.text))},directives:[QO],styles:["button[_ngcontent-%COMP%]{background:#c10b21;color:#fff;font-weight:700;padding-left:30px;padding-right:30px;display:block;margin:auto}"]}),t})(),ek=(()=>{class t{constructor(t,e,n,r){this.store=t,this.auth=e,this.snackBar=n,this.router=r,this.LoginForm=new en({email:new tn("",fe.required),password:new tn("",fe.required)})}ngOnInit(){}login(){this.auth.signInWithEmailAndPassword(this.LoginForm.value.email,this.LoginForm.value.password).then(t=>this.router.navigate([""])).catch(t=>{switch(t.code){case"auth/invalid-email":this.snackBar.open("El correo ingresado es inv\xe1lido.","ENTENDIDO",{duration:3e3});break;case"auth/user-not-found":this.snackBar.open("No se encontr\xf3 un usuario con ese email.","ENTENDIDO",{duration:3e3});break;case"auth/wrong-password":this.snackBar.open("La contrase\xf1a ingresada es incorrecta.","ENTENDIDO",{duration:3e3});break;default:this.snackBar.open("Ha ocurrido un error, int\xe9ntelo nuevamente.","ENTENDIDO",{duration:3e3})}console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(my),r.Mb(Jb),r.Mb(mD),r.Mb(hw))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-login"]],decls:15,vars:1,consts:[[1,"full-height","flex","flex-center-all","bg-no-white"],["id","login-box",1,"p-4"],["src","../../../assets/images/logo_inverted.svg",1,"center"],[1,"bold","text-center","mt-4","mb-2"],[3,"formGroup"],[1,"input-group","mb-3"],["id","basic-addon1",1,"input-group-text"],[1,"fas","fa-envelope"],["type","text","placeholder","Email","aria-label","Username","formControlName","email",1,"form-control"],[1,"input-group","mb-4"],[1,"fas","fa-lock"],["type","password","placeholder","Contrase\xf1a","aria-label","Username","formControlName","password",1,"form-control"],["text","INGRESAR",1,"mt-4",3,"onClick"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Nb(2,"img",2),r.Rb(3,"h1",3),r.uc(4,"Iniciar Sesi\xf3n"),r.Qb(),r.Rb(5,"form",4),r.Rb(6,"div",5),r.Rb(7,"span",6),r.Nb(8,"i",7),r.Qb(),r.Nb(9,"input",8),r.Qb(),r.Rb(10,"div",9),r.Rb(11,"span",6),r.Nb(12,"i",10),r.Qb(),r.Nb(13,"input",11),r.Qb(),r.Rb(14,"app-button",12),r.Yb("onClick",function(){return e.login()}),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&t&&(r.Cb(5),r.gc("formGroup",e.LoginForm))},directives:[an,je,hn,ae,Ne,fn,tk],styles:["#login-box[_ngcontent-%COMP%]{background:#fff;border:1px solid #ddd;border-radius:10px;box-shadow:0 0 10px #999;width:400px}#login-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px}#login-box[_ngcontent-%COMP%]   app-button[_ngcontent-%COMP%], #login-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:auto}"]}),t})();const nk=function(){return["/stores"]},rk=function(){return["/delivery"]},ik=function(){return["/users"]};let sk=(()=>{class t{constructor(t,e,n,r){this.auth=t,this.store=e,this.snackBar=n,this.router=r,this.isDrawerOpen=!0,t.currentUser.then(t=>t?this.getUserInfo(null==t?void 0:t.uid):null)}ngOnInit(){}toogleSidenav(){this.isDrawerOpen=!this.isDrawerOpen}signOut(){this.auth.signOut().then(t=>this.router.navigate(["/login"])).catch(t=>this.snackBar.open("Ha ocurrido un error","ENTENDIDO",{duration:3e3}))}getUserInfo(t){this.store.collection("usuarios",e=>e.where("uid","==",t)).get().subscribe(t=>{t.docs.length?this.user=t.docs[0].data():this.snackBar.open("No se encontr\xf3 el usuario en la DB","ENTENDIDO",{duration:3e3})},t=>this.snackBar.open("Ha ocurrido un error a retornar usuario de la base de datos.","ENTENDIDO",{duration:3e3}))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Jb),r.Mb(my),r.Mb(mD),r.Mb(hw))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-home"]],decls:24,vars:9,consts:[[1,"py-1","px-4"],["src","../../../assets/images/logo-admin.svg",1,"full-height"],[1,"fill-remaining-space"],["mat-button","",3,"matMenuTriggerFor"],[1,"fas","fa-chevron-down"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mode","side",3,"opened"],["mat-flat-button","","routerLinkActive","active-link",3,"routerLink"],[1,"fas","fa-store-alt"],[1,"fas","fa-truck"],[1,"fas","fa-users"],[1,"full-height"]],template:function(t,e){if(1&t&&(r.Rb(0,"mat-toolbar",0),r.Nb(1,"img",1),r.Nb(2,"span",2),r.Rb(3,"button",3),r.uc(4),r.Nb(5,"i",4),r.Qb(),r.Rb(6,"mat-menu",null,5),r.Rb(8,"button",6),r.Yb("click",function(){return e.signOut()}),r.uc(9,"Cerrar Sesi\xf3n"),r.Qb(),r.Qb(),r.Qb(),r.Rb(10,"mat-drawer-container"),r.Rb(11,"mat-drawer",7),r.Rb(12,"mat-list"),r.Rb(13,"a",8),r.Nb(14,"i",9),r.uc(15," Comercios"),r.Qb(),r.Rb(16,"a",8),r.Nb(17,"i",10),r.uc(18," Delivery"),r.Qb(),r.Rb(19,"a",8),r.Nb(20,"i",11),r.uc(21," Usuarios"),r.Qb(),r.Qb(),r.Qb(),r.Rb(22,"mat-drawer-content"),r.Nb(23,"router-outlet",12),r.Qb(),r.Qb()),2&t){const t=r.mc(7);r.Cb(3),r.gc("matMenuTriggerFor",t),r.Cb(1),r.wc("",e.user?e.user.displayName:""," "),r.Cb(7),r.gc("opened",e.isDrawerOpen),r.Cb(2),r.gc("routerLink",r.ic(6,nk)),r.Cb(3),r.gc("routerLink",r.ic(7,rk)),r.Cb(3),r.gc("routerLink",r.ic(8,ik))}},directives:[wD,QO,oA,nA,XD,MD,FD,mA,HO,fw,mw,jD,gw],styles:["mat-toolbar[_ngcontent-%COMP%]{height:60px;background:#fff;box-shadow:0 0 20px #000;border-bottom:1px solid #e0e0e0;z-index:10000}mat-drawer-container[_ngcontent-%COMP%]{height:calc(100% - 60px);z-index:1}mat-drawer-container[_ngcontent-%COMP%]   mat-drawer[_ngcontent-%COMP%]{width:250px}mat-drawer-container[_ngcontent-%COMP%]   mat-drawer[_ngcontent-%COMP%]   mat-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;height:50px;width:100%}mat-drawer-container[_ngcontent-%COMP%]   mat-drawer[_ngcontent-%COMP%]   mat-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#c10b21}mat-drawer-container[_ngcontent-%COMP%]   router-oulet[_ngcontent-%COMP%]{background:#ccc}.active-link[_ngcontent-%COMP%]{color:#c10b21}"]}),t})(),ok=(()=>{class t{constructor(t){this.location=t,this.fecha=new Date,this.comercioForm=new en({}),this.comercioForm=new en({nombreComercial:new tn("",fe.required),nombreCliente:new tn("",fe.required),codigoCliente:new tn("",fe.required),categoria:new tn("",fe.required),delivery:new tn("",fe.required),RUC:new tn("",fe.required),keywords:new tn("",fe.required),tipo:new tn("",fe.required),metodoDePago:new tn("",fe.required),contacto:new en({celular:new tn("",fe.required),email:new tn("",fe.required),direccion:new tn("",fe.required),coordenadas:new tn("",fe.required),disponible:new tn(!1)}),observaciones:new tn("",fe.required)})}ngOnInit(){}back(){confirm("Se perder\xe1n los cambios no guardados.\n\n\xbfEst\xe1 seguro que desea salir?")&&this.location.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(w))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-upload-store"]],decls:98,vars:5,consts:[[1,"full-height-scroll"],[1,"flex"],["mat-icon-button","",3,"click"],[1,"fas","fa-chevron-left"],[1,"fill-remaining-space"],[3,"formGroup"],[1,"row","mb-3"],[1,"col-md-6"],[1,"form-floating"],["type","text",1,"form-control"],["type","number","maxlength","13",1,"form-control"],[1,"form-floating","mb-3"],[1,"mt-4","pt-4","pb-2"],["text","CREAR COMERCIO"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Rb(2,"button",2),r.Yb("click",function(){return e.back()}),r.Nb(3,"i",3),r.Qb(),r.Rb(4,"h1"),r.uc(5,"FORMULARIO / COMERCIO"),r.Qb(),r.Nb(6,"span",4),r.Rb(7,"span"),r.uc(8),r.bc(9,"date"),r.Qb(),r.Qb(),r.Rb(10,"form",5),r.Rb(11,"div",6),r.Rb(12,"div",7),r.Rb(13,"div",8),r.Nb(14,"input",9),r.Rb(15,"label"),r.uc(16,"Nombre de la empresa"),r.Qb(),r.Qb(),r.Qb(),r.Rb(17,"div",7),r.Rb(18,"div",8),r.Nb(19,"input",9),r.Rb(20,"label"),r.uc(21,"Nombre del Cliente"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(22,"div",6),r.Rb(23,"div",7),r.Rb(24,"div",8),r.Nb(25,"input",10),r.Rb(26,"label"),r.uc(27,"RUC"),r.Qb(),r.Qb(),r.Qb(),r.Rb(28,"div",7),r.Rb(29,"div",8),r.Nb(30,"input",9),r.Rb(31,"label"),r.uc(32,"C\xf3digo del Ciente"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(33,"div",11),r.Nb(34,"input",9),r.Rb(35,"label"),r.uc(36,"Contactos"),r.Qb(),r.Qb(),r.Rb(37,"div",11),r.Nb(38,"input",9),r.Rb(39,"label"),r.uc(40,"Direcci\xf3n"),r.Qb(),r.Qb(),r.Rb(41,"div",11),r.Nb(42,"input",9),r.Rb(43,"label"),r.uc(44,"Tel\xe9fono"),r.Qb(),r.Qb(),r.Rb(45,"div",11),r.Nb(46,"input",9),r.Rb(47,"label"),r.uc(48,"Horario de Atenci\xf3n"),r.Qb(),r.Qb(),r.Rb(49,"div",11),r.Nb(50,"input",9),r.Rb(51,"label"),r.uc(52,"Correo Electr\xf3nico"),r.Qb(),r.Qb(),r.Rb(53,"div",6),r.Rb(54,"div",7),r.Rb(55,"div",8),r.Nb(56,"input",9),r.Rb(57,"label"),r.uc(58,"A\xf1o de Inicio de Actividades"),r.Qb(),r.Qb(),r.Qb(),r.Rb(59,"div",7),r.Rb(60,"div",8),r.Nb(61,"input",9),r.Rb(62,"label"),r.uc(63,"Fecha de Nacimiento (Cliente)"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(64,"div",11),r.Nb(65,"input",9),r.Rb(66,"label"),r.uc(67,"M\xe9todo de Pago/Tarjetas"),r.Qb(),r.Qb(),r.Rb(68,"div",11),r.Nb(69,"input",9),r.Rb(70,"label"),r.uc(71,"Categor\xeda/Rubro"),r.Qb(),r.Qb(),r.Rb(72,"div",11),r.Nb(73,"input",9),r.Rb(74,"label"),r.uc(75,"Productos Estrellas/Orden de los Productos/Categor\xedas"),r.Qb(),r.Qb(),r.Rb(76,"div",11),r.Nb(77,"input",9),r.Rb(78,"label"),r.uc(79,"Fotograf\xeda"),r.Qb(),r.Qb(),r.Rb(80,"div",11),r.Nb(81,"input",9),r.Rb(82,"label"),r.uc(83,"Redes Sociales"),r.Qb(),r.Qb(),r.Rb(84,"div",11),r.Nb(85,"input",9),r.Rb(86,"label"),r.uc(87,"Im\xe1genes Vectores y Logos"),r.Qb(),r.Qb(),r.Rb(88,"div",11),r.Nb(89,"input",9),r.Rb(90,"label"),r.uc(91,"Palabras Claves"),r.Qb(),r.Qb(),r.Rb(92,"div",11),r.Nb(93,"input",9),r.Rb(94,"label"),r.uc(95,"Observaciones"),r.Qb(),r.Qb(),r.Rb(96,"div",12),r.Nb(97,"app-button",13),r.Qb(),r.Qb(),r.Qb()),2&t&&(r.Cb(8),r.vc(r.dc(9,2,e.fecha,"dd MMMM yyyy")),r.Cb(2),r.gc("formGroup",e.comercioForm))},directives:[QO,an,je,hn,tk],pipes:[mt],styles:[""]}),t})(),ak=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-list-cities"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Rb(0,"p"),r.uc(1,"list-cities works!"),r.Qb())},styles:[""]}),t})();function uk(t,e){if(1&t){const t=r.Sb();r.Rb(0,"button",13),r.Yb("click",function(){return r.nc(t),r.ac().enterToNewMode()}),r.Nb(1,"i",14),r.uc(2," REGISTRAR NUEVO"),r.Qb()}}const ck=function(t){return{"list-item-active":t}};function lk(t,e){if(1&t){const t=r.Sb();r.Rb(0,"a",15),r.Yb("click",function(){r.nc(t);const n=e.$implicit;return r.ac().addToUserView(n.payload.doc)}),r.uc(1),r.Rb(2,"b"),r.uc(3),r.bc(4,"titlecase"),r.bc(5,"titlecase"),r.Qb(),r.Qb()}if(2&t){const t=e.$implicit,n=r.ac();r.gc("ngClass",r.jc(9,ck,null!=n.usuario&&n.usuario.uid==t.payload.doc.data().uid)),r.Cb(1),r.xc("",t.payload.doc.data().nombres," ",t.payload.doc.data().apellidos," - "),r.Cb(2),r.xc("",t.payload.doc.data().rol?r.cc(4,5,t.payload.doc.data().rol):"Cliente"," ","delivery"==t.payload.doc.data().rol?"("+r.cc(5,7,t.payload.doc.data().subrol)+")":"","")}}function hk(t,e){if(1&t){const t=r.Sb();r.Rb(0,"button",33),r.Yb("click",function(){return r.nc(t),r.ac(2).enterToEditMode()}),r.Nb(1,"i",34),r.uc(2," EDITAR"),r.Qb()}}function dk(t,e){1&t&&(r.Rb(0,"h2",35),r.uc(1,"Cliente App"),r.Qb())}function fk(t,e){1&t&&(r.Rb(0,"h2",35),r.uc(1,"Usuario Delivery"),r.Qb())}function pk(t,e){1&t&&(r.Rb(0,"h2",35),r.uc(1,"Usuario Comercio"),r.Qb())}function mk(t,e){if(1&t&&(r.Rb(0,"div",29),r.Rb(1,"small",26),r.uc(2,"Apellidos:"),r.Qb(),r.Rb(3,"p",27),r.uc(4),r.Qb(),r.Qb()),2&t){const t=r.ac(2);r.Cb(4),r.vc(t.usuario.apellidos)}}const gk=function(t){return{"mt-2":t}};function bk(t,e){if(1&t&&(r.Rb(0,"div",36),r.Rb(1,"small",26),r.uc(2,"Nombre de Usuario:"),r.Qb(),r.Rb(3,"p",27),r.uc(4),r.Qb(),r.Qb()),2&t){const t=r.ac(2);r.gc("ngClass",r.jc(2,gk,null==t.usuario.celular)),r.Cb(4),r.vc(t.usuario.username)}}function yk(t,e){if(1&t&&(r.Rb(0,"div",36),r.Rb(1,"small",26),r.uc(2,"Comercio:"),r.Qb(),r.Rb(3,"p",27),r.uc(4),r.Qb(),r.Qb()),2&t){const t=r.ac(2);r.gc("ngClass",r.jc(3,gk,null==t.usuario.celular)),r.Cb(4),r.xc("",null!=t.userComercio?t.userComercio.nombreComercial:""," - ",null!=t.userComercio?t.userComercio.ciudad:"","")}}function vk(t,e){if(1&t&&(r.Rb(0,"div",36),r.Rb(1,"small",26),r.uc(2,"Rol:"),r.Qb(),r.Rb(3,"p",27),r.uc(4),r.Qb(),r.Qb()),2&t){const t=r.ac(2);r.gc("ngClass",r.jc(2,gk,null==t.usuario.celular)),r.Cb(4),r.vc(t.usuario.subrol)}}function _k(t,e){if(1&t&&(r.Rb(0,"div",36),r.Rb(1,"small",26),r.uc(2,"Delivery:"),r.Qb(),r.Rb(3,"p",27),r.uc(4),r.Qb(),r.Qb()),2&t){const t=r.ac(2);r.gc("ngClass",r.jc(3,gk,null==t.usuario.celular)),r.Cb(4),r.xc("",null!=t.userDelivery?t.userDelivery.nombre:""," - ",null!=t.userDelivery?t.userDelivery.ciudad:"","")}}function wk(t,e){if(1&t&&(r.Rb(0,"div",36),r.Rb(1,"small",26),r.uc(2,"Rol:"),r.Qb(),r.Rb(3,"p",27),r.uc(4),r.bc(5,"titlecase"),r.Qb(),r.Qb()),2&t){const t=r.ac(2);r.gc("ngClass",r.jc(4,gk,null==t.usuario.celular)),r.Cb(4),r.vc(r.cc(5,2,t.usuario.subrol))}}function Ck(t,e){if(1&t&&(r.Rb(0,"div",36),r.Rb(1,"p",27),r.Rb(2,"small",26),r.uc(3,"Ciudad: "),r.Qb(),r.Rb(4,"span"),r.uc(5),r.Qb(),r.Qb(),r.Qb()),2&t){const t=r.ac(2);r.gc("ngClass",r.jc(2,gk,null==t.usuario.celular)),r.Cb(5),r.vc(t.usuario.ciudad)}}function Ek(t,e){if(1&t&&(r.Rb(0,"li",39),r.uc(1),r.Qb()),2&t){const t=e.$implicit;r.Cb(1),r.vc(t.nombre)}}function Sk(t,e){if(1&t&&(r.Rb(0,"div",37),r.Rb(1,"small",26),r.uc(2,"Categor\xeda Favoritas:"),r.Qb(),r.Rb(3,"mat-list"),r.tc(4,Ek,2,1,"li",38),r.Qb(),r.Qb()),2&t){const t=r.ac(2);r.Cb(4),r.gc("ngForOf",t.usuario.categoriasFavoritas)}}const Ok=function(t,e){return{"col-md-6":t,"col-md-12":e}};function xk(t,e){if(1&t&&(r.Rb(0,"mat-card",16),r.Rb(1,"div",17),r.Rb(2,"div",18),r.Nb(3,"span",5),r.tc(4,hk,3,0,"button",19),r.Qb(),r.tc(5,dk,2,0,"h2",20),r.tc(6,fk,2,0,"h2",20),r.tc(7,pk,2,0,"h2",20),r.Rb(8,"div",21),r.Rb(9,"div",22),r.Nb(10,"img",23),r.Qb(),r.Qb(),r.Rb(11,"div"),r.Rb(12,"div",24),r.Rb(13,"div",25),r.Rb(14,"small",26),r.uc(15,"Nombres:"),r.Qb(),r.Rb(16,"p",27),r.uc(17),r.Qb(),r.Qb(),r.tc(18,mk,5,1,"div",28),r.Rb(19,"div",29),r.Rb(20,"small",26),r.uc(21,"Correo electr\xf3nico:"),r.Qb(),r.Rb(22,"a",30),r.uc(23),r.Qb(),r.Qb(),r.Rb(24,"div",29),r.Rb(25,"small",26),r.uc(26,"N\xfamero Celular:"),r.Qb(),r.Rb(27,"p",27),r.uc(28),r.Qb(),r.Qb(),r.tc(29,bk,5,4,"div",31),r.tc(30,yk,5,5,"div",31),r.tc(31,vk,5,4,"div",31),r.tc(32,_k,5,5,"div",31),r.tc(33,wk,6,6,"div",31),r.tc(34,Ck,6,4,"div",31),r.tc(35,Sk,5,1,"div",32),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&t){const t=r.ac();r.Cb(4),r.gc("ngIf",!t.editMode),r.Cb(1),r.gc("ngIf","cliente"==t.usuario.rol||null==t.usuario.rol),r.Cb(1),r.gc("ngIf","delivery"==t.usuario.rol),r.Cb(1),r.gc("ngIf",t.usuario.comercio),r.Cb(3),r.gc("src",t.usuario.imagenURL,r.oc),r.Cb(3),r.gc("ngClass",r.kc(18,Ok,null!=t.usuario.apellidos,null==t.usuario.apellidos)),r.Cb(4),r.vc(t.usuario.nombres),r.Cb(1),r.gc("ngIf",null!=t.usuario.apellidos),r.Cb(4),r.hc("href","mailto:",t.usuario.email,"",r.oc),r.Cb(1),r.vc(t.usuario.email),r.Cb(5),r.vc(t.usuario.celular),r.Cb(1),r.gc("ngIf",t.usuario.rol&&"cliente"!=t.usuario.rol),r.Cb(1),r.gc("ngIf","comercio"==t.usuario.rol),r.Cb(1),r.gc("ngIf","comercio"==t.usuario.rol),r.Cb(1),r.gc("ngIf","delivery"==t.usuario.rol),r.Cb(1),r.gc("ngIf","delivery"==t.usuario.rol),r.Cb(1),r.gc("ngIf",null==t.usuario.rol||"cliente"==t.usuario.rol),r.Cb(1),r.gc("ngIf","cliente"==t.usuario.rol||null==t.usuario.rol)}}function Dk(t,e){if(1&t&&(r.Rb(0,"small",63),r.uc(1),r.Qb()),2&t){const t=r.ac(2);r.Cb(1),r.vc(t.getErrorStatusOnNew("nombres"))}}function Ak(t,e){if(1&t&&(r.Rb(0,"small",63),r.uc(1),r.Qb()),2&t){const t=r.ac(2);r.Cb(1),r.vc(t.getErrorStatusOnNew("apellidos"))}}function kk(t,e){if(1&t&&(r.Rb(0,"small",63),r.uc(1),r.Qb()),2&t){const t=r.ac(2);r.Cb(1),r.vc(t.getErrorStatusOnNew("celular"))}}function Tk(t,e){if(1&t&&(r.Rb(0,"small",63),r.uc(1),r.Qb()),2&t){const t=r.ac(2);r.Cb(1),r.vc(t.getErrorStatusOnNew("username"))}}function Ik(t,e){if(1&t&&(r.Rb(0,"small",63),r.uc(1),r.Qb()),2&t){const t=r.ac(2);r.Cb(1),r.vc(t.getErrorStatusOnNew("email"))}}function Rk(t,e){if(1&t&&(r.Rb(0,"small",63),r.uc(1),r.Qb()),2&t){const t=r.ac(2);r.Cb(1),r.vc(t.getErrorStatusOnNew("pass"))}}function Nk(t,e){if(1&t&&(r.Rb(0,"small",63),r.uc(1),r.Qb()),2&t){const t=r.ac(2);r.Cb(1),r.vc(t.getErrorStatusOnNew("repass"))}}function jk(t,e){if(1&t&&(r.Rb(0,"small",63),r.uc(1),r.Qb()),2&t){const t=r.ac(2);r.Cb(1),r.vc(t.getErrorStatusOnNew("rol"))}}function Fk(t,e){if(1&t&&(r.Rb(0,"option",64),r.uc(1),r.Qb()),2&t){const t=e.$implicit;r.gc("value",t),r.Cb(1),r.vc(t)}}function Mk(t,e){if(1&t&&(r.Rb(0,"small",63),r.uc(1),r.Qb()),2&t){const t=r.ac(2);r.Cb(1),r.vc(t.getErrorStatusOnNew("subrol"))}}function Pk(t,e){if(1&t&&(r.Rb(0,"small",63),r.uc(1),r.Qb()),2&t){const t=r.ac(3);r.Cb(1),r.vc(t.getErrorStatusOnNew("vehiculo"))}}function Lk(t,e){if(1&t&&(r.Rb(0,"small",63),r.uc(1),r.Qb()),2&t){const t=r.ac(3);r.Cb(1),r.vc(t.getErrorStatusOnNew("placas"))}}function Vk(t,e){if(1&t&&(r.Rb(0,"div",24),r.Rb(1,"div",29),r.Rb(2,"div",41),r.Rb(3,"select",65),r.Rb(4,"option",52),r.uc(5,"Seleccione una opci\xf3n"),r.Qb(),r.Rb(6,"option",66),r.uc(7,"Autom\xf3vil"),r.Qb(),r.Rb(8,"option",67),r.uc(9,"Motocicleta"),r.Qb(),r.Qb(),r.Rb(10,"label",59),r.uc(11,"Vehiculo"),r.Qb(),r.Qb(),r.tc(12,Pk,2,1,"small",43),r.Qb(),r.Rb(13,"div",29),r.Rb(14,"div",41),r.Nb(15,"input",68),r.Rb(16,"label"),r.uc(17,"Placas"),r.Qb(),r.Qb(),r.tc(18,Lk,2,1,"small",43),r.Qb(),r.Qb()),2&t){const t=r.ac(2);r.Cb(12),r.gc("ngIf",t.getErrorStatusOnNew("vehiculo")),r.Cb(6),r.gc("ngIf",t.getErrorStatusOnNew("placas"))}}function Bk(t,e){if(1&t&&(r.Rb(0,"option",64),r.uc(1),r.Qb()),2&t){const t=e.$implicit;r.gc("value",t.id),r.Cb(1),r.xc("",t.data().nombre," - ",t.data().ciudad,"")}}function Uk(t,e){if(1&t&&(r.Rb(0,"small",63),r.uc(1),r.Qb()),2&t){const t=r.ac(3);r.Cb(1),r.vc(t.getErrorStatusOnNew("delivery"))}}function qk(t,e){if(1&t&&(r.Rb(0,"div",24),r.Rb(1,"div",47),r.Rb(2,"div",41),r.Rb(3,"select",69),r.Rb(4,"option",52),r.uc(5,"Seleccione una opci\xf3n"),r.Qb(),r.tc(6,Bk,2,3,"option",58),r.Qb(),r.Rb(7,"label",59),r.uc(8,"Compa\xf1\xeda de Delivery"),r.Qb(),r.Qb(),r.tc(9,Uk,2,1,"small",43),r.Qb(),r.Qb()),2&t){const t=r.ac(2);r.Cb(6),r.gc("ngForOf",t.deliveryList),r.Cb(3),r.gc("ngIf",t.getErrorStatusOnNew("delivery"))}}function zk(t,e){if(1&t&&(r.Rb(0,"option",64),r.uc(1),r.Qb()),2&t){const t=e.$implicit;r.gc("value",t.id),r.Cb(1),r.xc("",t.data().nombreComercial," - ",t.data().ciudad,"")}}function Qk(t,e){if(1&t&&(r.Rb(0,"small",63),r.uc(1),r.Qb()),2&t){const t=r.ac(3);r.Cb(1),r.vc(t.getErrorStatusOnNew("comercio"))}}function Hk(t,e){if(1&t&&(r.Rb(0,"div",24),r.Rb(1,"div",47),r.Rb(2,"div",41),r.Rb(3,"select",70),r.Rb(4,"option",52),r.uc(5,"Seleccione una opci\xf3n"),r.Qb(),r.tc(6,zk,2,3,"option",58),r.Qb(),r.Rb(7,"label",59),r.uc(8,"Comercio"),r.Qb(),r.Qb(),r.tc(9,Qk,2,1,"small",43),r.Qb(),r.Qb()),2&t){const t=r.ac(2);r.Cb(6),r.gc("ngForOf",t.comercioList),r.Cb(3),r.gc("ngIf",t.getErrorStatusOnNew("comercio"))}}function Gk(t,e){if(1&t){const t=r.Sb();r.Rb(0,"mat-card",16),r.Rb(1,"div",17),r.Rb(2,"h2",35),r.uc(3,"Nuevo Usuario"),r.Qb(),r.Rb(4,"div"),r.Rb(5,"Form",40),r.Rb(6,"div",24),r.Rb(7,"div",29),r.Rb(8,"div",41),r.Nb(9,"input",42),r.Rb(10,"label"),r.uc(11,"Nombres"),r.Qb(),r.Qb(),r.tc(12,Dk,2,1,"small",43),r.Qb(),r.Rb(13,"div",29),r.Rb(14,"div",41),r.Nb(15,"input",44),r.Rb(16,"label"),r.uc(17,"Apellidos"),r.Qb(),r.Qb(),r.tc(18,Ak,2,1,"small",43),r.Qb(),r.Qb(),r.Rb(19,"div",24),r.Rb(20,"div",29),r.Rb(21,"div",41),r.Nb(22,"input",45),r.Rb(23,"label"),r.uc(24,"Celular"),r.Qb(),r.Qb(),r.tc(25,kk,2,1,"small",43),r.Qb(),r.Rb(26,"div",29),r.Rb(27,"div",41),r.Nb(28,"input",46),r.Rb(29,"label"),r.uc(30,"Nombre de Usuario"),r.Qb(),r.Qb(),r.tc(31,Tk,2,1,"small",43),r.Qb(),r.Qb(),r.Rb(32,"div",24),r.Rb(33,"div",47),r.Rb(34,"div",41),r.Nb(35,"input",48),r.Rb(36,"label"),r.uc(37,"Correo Electr\xf3nico"),r.Qb(),r.Qb(),r.tc(38,Ik,2,1,"small",43),r.Qb(),r.Qb(),r.Rb(39,"div",24),r.Rb(40,"div",29),r.Rb(41,"div",41),r.Nb(42,"input",49),r.Rb(43,"label"),r.uc(44,"Contrase\xf1a"),r.Qb(),r.Qb(),r.tc(45,Rk,2,1,"small",43),r.Qb(),r.Rb(46,"div",29),r.Rb(47,"div",41),r.Nb(48,"input",50),r.Rb(49,"label"),r.uc(50,"Repetir Contrase\xf1a"),r.Qb(),r.Qb(),r.tc(51,Nk,2,1,"small",43),r.Qb(),r.Qb(),r.Rb(52,"div",24),r.Rb(53,"div",29),r.Rb(54,"div",41),r.Rb(55,"select",51),r.Yb("change",function(){return r.nc(t),r.ac().setSubrolOptions()}),r.Rb(56,"option",52),r.uc(57,"Seleccione una opci\xf3n"),r.Qb(),r.Rb(58,"option",53),r.uc(59,"Pilas"),r.Qb(),r.Rb(60,"option",54),r.uc(61,"Delivery"),r.Qb(),r.Rb(62,"option",55),r.uc(63,"Comercio"),r.Qb(),r.Qb(),r.Rb(64,"label",56),r.uc(65,"Tipo de Usuario"),r.Qb(),r.Qb(),r.tc(66,jk,2,1,"small",43),r.Qb(),r.Rb(67,"div",29),r.Rb(68,"div",41),r.Rb(69,"select",57),r.Rb(70,"option",52),r.uc(71,"Seleccione una opci\xf3n"),r.Qb(),r.tc(72,Fk,2,2,"option",58),r.Qb(),r.Rb(73,"label",59),r.uc(74,"Rol de Usuario"),r.Qb(),r.Qb(),r.tc(75,Mk,2,1,"small",43),r.Qb(),r.Qb(),r.tc(76,Vk,19,2,"div",60),r.tc(77,qk,10,2,"div",60),r.tc(78,Hk,10,2,"div",60),r.Rb(79,"div",61),r.Rb(80,"app-button",62),r.Yb("onClick",function(){return r.nc(t),r.ac().createUser()}),r.Qb(),r.Qb(),r.Rb(81,"div",21),r.Rb(82,"button",33),r.Yb("click",function(){return r.nc(t),r.ac().cancel()}),r.uc(83,"CANCELAR"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=r.ac();let e=null,n=null,i=null;r.Cb(5),r.gc("formGroup",t.newForm),r.Cb(7),r.gc("ngIf",t.getErrorStatusOnNew("nombres")),r.Cb(6),r.gc("ngIf",t.getErrorStatusOnNew("apellidos")),r.Cb(7),r.gc("ngIf",t.getErrorStatusOnNew("celular")),r.Cb(6),r.gc("ngIf",t.getErrorStatusOnNew("username")),r.Cb(7),r.gc("ngIf",t.getErrorStatusOnNew("email")),r.Cb(7),r.gc("ngIf",t.getErrorStatusOnNew("pass")),r.Cb(6),r.gc("ngIf",t.getErrorStatusOnNew("repass")),r.Cb(15),r.gc("ngIf",t.getErrorStatusOnNew("rol")),r.Cb(6),r.gc("ngForOf",t.optionsForSubRol),r.Cb(3),r.gc("ngIf",t.getErrorStatusOnNew("subrol")),r.Cb(1),r.gc("ngIf","delivery"==(null==(e=t.newForm.get("rol"))?null:e.value)),r.Cb(1),r.gc("ngIf","delivery"==(null==(n=t.newForm.get("rol"))?null:n.value)),r.Cb(1),r.gc("ngIf","comercio"==(null==(i=t.newForm.get("rol"))?null:i.value))}}function Kk(t,e){if(1&t&&(r.Rb(0,"small",63),r.uc(1),r.Qb()),2&t){const t=r.ac(2);r.Cb(1),r.vc(t.getErrorStatusOnEdit("nombres"))}}function Wk(t,e){if(1&t&&(r.Rb(0,"small",63),r.uc(1),r.Qb()),2&t){const t=r.ac(2);r.Cb(1),r.vc(t.getErrorStatusOnEdit("apellidos"))}}function $k(t,e){if(1&t&&(r.Rb(0,"small",63),r.uc(1),r.Qb()),2&t){const t=r.ac(2);r.Cb(1),r.vc(t.getErrorStatusOnEdit("celular"))}}function Yk(t,e){if(1&t&&(r.Rb(0,"small",63),r.uc(1),r.Qb()),2&t){const t=r.ac(3);r.Cb(1),r.vc(t.getErrorStatusOnEdit("username"))}}function Zk(t,e){if(1&t&&(r.Rb(0,"div",29),r.Rb(1,"div",41),r.Nb(2,"input",46),r.Rb(3,"label"),r.uc(4,"Nombre de Usuario"),r.Qb(),r.Qb(),r.tc(5,Yk,2,1,"small",43),r.Qb()),2&t){const t=r.ac(2);r.Cb(5),r.gc("ngIf",t.getErrorStatusOnEdit("username"))}}function Xk(t,e){if(1&t&&(r.Rb(0,"small",63),r.uc(1),r.Qb()),2&t){const t=r.ac(2);r.Cb(1),r.vc(t.getErrorStatusOnEdit("email"))}}function Jk(t,e){if(1&t&&(r.Rb(0,"option",64),r.uc(1),r.Qb()),2&t){const t=e.$implicit;r.gc("value",t),r.Cb(1),r.vc(t)}}function tT(t,e){if(1&t&&(r.Rb(0,"small",63),r.uc(1),r.Qb()),2&t){const t=r.ac(3);r.Cb(1),r.vc(t.getErrorStatusOnEdit("subrol"))}}function eT(t,e){if(1&t&&(r.Rb(0,"div",24),r.Rb(1,"div",29),r.Rb(2,"small",26),r.uc(3,"Tipo de Usuario"),r.Qb(),r.Rb(4,"p",27),r.uc(5),r.Qb(),r.Qb(),r.Rb(6,"div",29),r.Rb(7,"div",41),r.Rb(8,"select",57),r.Rb(9,"option",52),r.uc(10,"Seleccione una opci\xf3n"),r.Qb(),r.tc(11,Jk,2,2,"option",58),r.Qb(),r.Rb(12,"label",59),r.uc(13,"Rol de Usuario"),r.Qb(),r.Qb(),r.tc(14,tT,2,1,"small",43),r.Qb(),r.Qb()),2&t){const t=r.ac(2);r.Cb(5),r.vc(t.usuario.rol),r.Cb(6),r.gc("ngForOf",t.optionsForSubRol),r.Cb(3),r.gc("ngIf",t.getErrorStatusOnEdit("subrol"))}}function nT(t,e){if(1&t&&(r.Rb(0,"small",63),r.uc(1),r.Qb()),2&t){const t=r.ac(3);r.Cb(1),r.vc(t.getErrorStatusOnEdit("vehiculo"))}}function rT(t,e){if(1&t&&(r.Rb(0,"small",63),r.uc(1),r.Qb()),2&t){const t=r.ac(3);r.Cb(1),r.vc(t.getErrorStatusOnEdit("placas"))}}function iT(t,e){if(1&t&&(r.Rb(0,"div",24),r.Rb(1,"div",29),r.Rb(2,"div",41),r.Rb(3,"select",65),r.Rb(4,"option",52),r.uc(5,"Seleccione una opci\xf3n"),r.Qb(),r.Rb(6,"option",66),r.uc(7,"Autom\xf3vil"),r.Qb(),r.Rb(8,"option",67),r.uc(9,"Motocicleta"),r.Qb(),r.Qb(),r.Rb(10,"label",59),r.uc(11,"Vehiculo"),r.Qb(),r.Qb(),r.tc(12,nT,2,1,"small",43),r.Qb(),r.Rb(13,"div",29),r.Rb(14,"div",41),r.Nb(15,"input",68),r.Rb(16,"label"),r.uc(17,"Placas"),r.Qb(),r.Qb(),r.tc(18,rT,2,1,"small",43),r.Qb(),r.Qb()),2&t){const t=r.ac(2);r.Cb(12),r.gc("ngIf",t.getErrorStatusOnEdit("vehiculo")),r.Cb(6),r.gc("ngIf",t.getErrorStatusOnEdit("placas"))}}function sT(t,e){if(1&t&&(r.Rb(0,"option",64),r.uc(1),r.Qb()),2&t){const t=e.$implicit;r.gc("value",t.id),r.Cb(1),r.xc("",t.data().nombre," - ",t.data().ciudad,"")}}function oT(t,e){if(1&t&&(r.Rb(0,"small",63),r.uc(1),r.Qb()),2&t){const t=r.ac(3);r.Cb(1),r.vc(t.getErrorStatusOnEdit("delivery"))}}function aT(t,e){if(1&t&&(r.Rb(0,"div",24),r.Rb(1,"div",47),r.Rb(2,"div",41),r.Rb(3,"select",69),r.Rb(4,"option",52),r.uc(5,"Seleccione una opci\xf3n"),r.Qb(),r.tc(6,sT,2,3,"option",58),r.Qb(),r.Rb(7,"label",59),r.uc(8,"Compa\xf1\xeda de Delivery"),r.Qb(),r.Qb(),r.tc(9,oT,2,1,"small",43),r.Qb(),r.Qb()),2&t){const t=r.ac(2);r.Cb(6),r.gc("ngForOf",t.deliveryList),r.Cb(3),r.gc("ngIf",t.getErrorStatusOnEdit("delivery"))}}function uT(t,e){if(1&t&&(r.Rb(0,"option",64),r.uc(1),r.Qb()),2&t){const t=e.$implicit;r.gc("value",t.id),r.Cb(1),r.xc("",t.data().nombreComercial," - ",t.data().ciudad,"")}}function cT(t,e){if(1&t&&(r.Rb(0,"small",63),r.uc(1),r.Qb()),2&t){const t=r.ac(3);r.Cb(1),r.vc(t.getErrorStatusOnEdit("comercio"))}}function lT(t,e){if(1&t&&(r.Rb(0,"div",24),r.Rb(1,"div",47),r.Rb(2,"div",41),r.Rb(3,"select",70),r.Rb(4,"option",52),r.uc(5,"Seleccione una opci\xf3n"),r.Qb(),r.tc(6,uT,2,3,"option",58),r.Qb(),r.Rb(7,"label",59),r.uc(8,"Comercio"),r.Qb(),r.Qb(),r.tc(9,cT,2,1,"small",43),r.Qb(),r.Qb()),2&t){const t=r.ac(2);r.Cb(6),r.gc("ngForOf",t.comercioList),r.Cb(3),r.gc("ngIf",t.getErrorStatusOnEdit("comercio"))}}function hT(t,e){if(1&t){const t=r.Sb();r.Rb(0,"mat-card",16),r.Rb(1,"div",17),r.Rb(2,"div",18),r.Rb(3,"button",33),r.Yb("click",function(){return r.nc(t),r.ac().cancel()}),r.Nb(4,"i",71),r.uc(5," ATR\xc1S"),r.Qb(),r.Qb(),r.Rb(6,"h2",35),r.uc(7,"Editar Usuario"),r.Qb(),r.Rb(8,"div"),r.Rb(9,"Form",40),r.Rb(10,"div",24),r.Rb(11,"div",29),r.Rb(12,"div",41),r.Nb(13,"input",42),r.Rb(14,"label"),r.uc(15,"Nombres"),r.Qb(),r.Qb(),r.tc(16,Kk,2,1,"small",43),r.Qb(),r.Rb(17,"div",29),r.Rb(18,"div",41),r.Nb(19,"input",44),r.Rb(20,"label"),r.uc(21,"Apellidos"),r.Qb(),r.Qb(),r.tc(22,Wk,2,1,"small",43),r.Qb(),r.Qb(),r.Rb(23,"div",24),r.Rb(24,"div",29),r.Rb(25,"div",41),r.Nb(26,"input",45),r.Rb(27,"label"),r.uc(28,"Celular"),r.Qb(),r.Qb(),r.tc(29,$k,2,1,"small",43),r.Qb(),r.tc(30,Zk,6,1,"div",28),r.Qb(),r.Rb(31,"div",24),r.Rb(32,"div",47),r.Rb(33,"div",41),r.Nb(34,"input",48),r.Rb(35,"label"),r.uc(36,"Correo Electr\xf3nico"),r.Qb(),r.Qb(),r.tc(37,Xk,2,1,"small",43),r.Qb(),r.Qb(),r.tc(38,eT,15,3,"div",60),r.tc(39,iT,19,2,"div",60),r.tc(40,aT,10,2,"div",60),r.tc(41,lT,10,2,"div",60),r.Rb(42,"div",61),r.Rb(43,"app-button",72),r.Yb("onClick",function(){return r.nc(t),r.ac().updateUser()}),r.Qb(),r.Qb(),r.Rb(44,"div",21),r.Rb(45,"button",33),r.Yb("click",function(){return r.nc(t),r.ac().cancel()}),r.uc(46,"CANCELAR"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=r.ac();r.Cb(9),r.gc("formGroup",t.editForm),r.Cb(7),r.gc("ngIf",t.getErrorStatusOnEdit("nombres")),r.Cb(6),r.gc("ngIf",t.getErrorStatusOnEdit("apellidos")),r.Cb(7),r.gc("ngIf",t.getErrorStatusOnEdit("celular")),r.Cb(1),r.gc("ngIf",t.usuario.rol&&"cliente"!=t.usuario.rol),r.Cb(7),r.gc("ngIf",t.getErrorStatusOnEdit("email")),r.Cb(1),r.gc("ngIf",t.usuario.rol&&"cliente"!=t.usuario.rol),r.Cb(1),r.gc("ngIf","delivery"==t.usuario.rol),r.Cb(1),r.gc("ngIf","delivery"==t.usuario.rol),r.Cb(1),r.gc("ngIf","comercio"==t.usuario.rol)}}let dT=(()=>{class t{constructor(t,e,n){this.store=t,this.snackBar=e,this.auth=n,this.usuarios=[],this.newMode=!1,this.editMode=!1,this.newForm=new en({}),this.editForm=new en({}),this.optionsForSubRol=[],this.deliveryList=[],this.comercioList=[],this.usuarioPath="",this.userComercio=null,this.userDelivery=null,this.store.collection("usuarios").snapshotChanges().subscribe(t=>{this.usuarios=t},t=>this.snackBar.open("Ha ocurrido un error al recuperar los usuarios.","ENTENDIDO",{duration:3e3}))}leaveNewMode(){this.newMode=!1,this.newForm=new en({})}leaveEditMode(){this.editMode=!1,this.editForm=new en({})}enterToNewMode(){this.usuario=null,this.userComercio=null,this.userDelivery=null,this.usuarioPath="",this.newForm=new en({nombres:new tn("",fe.required),apellidos:new tn("",fe.required),imagenURL:new tn(""),email:new tn("",fe.required),rol:new tn("",fe.required),subrol:new tn("",fe.required),celular:new tn("",fe.required),username:new tn("",fe.required),pass:new tn("",fe.required),repass:new tn("",fe.required)}),this.newMode=!0}enterToEditMode(){this.editForm=new en({nombres:new tn(this.usuario.nombres?this.usuario.nombres:"",fe.required),apellidos:new tn(this.usuario.apellidos?this.usuario.apellidos:"",fe.required),imagenURL:new tn(this.usuario.imagenURL?this.usuario.imagenURL:""),email:new tn(this.usuario.email?this.usuario.email:"",fe.required),celular:new tn(this.usuario.celular?this.usuario.celular:"",fe.required)}),this.setSubrolOptions(!0),this.usuario.rol&&"cliente"!=this.usuario.rol&&(this.editForm.addControl("username",new tn(this.usuario.username?this.usuario.username:"",fe.required)),this.editForm.addControl("subrol",new tn(this.usuario.subrol?this.usuario.subrol:"",fe.required))),"comercio"==this.usuario.rol?this.editForm.addControl("comercio",new tn(this.usuario.comercio?this.usuario.comercio:"",fe.required)):"delivery"==this.usuario.rol&&(this.editForm.addControl("placas",new tn(this.usuario.placas?this.usuario.placas:"",fe.required)),this.editForm.addControl("vehiculo",new tn(this.usuario.vehiculo?this.usuario.vehiculo:"",fe.required)),this.editForm.addControl("delivery",new tn(this.usuario.delivery?this.usuario.delivery:"",fe.required))),this.editMode=!0}setSubrolOptions(t){var e;let n;switch(n=t?this.usuario.rol:null===(e=this.newForm.get("rol"))||void 0===e?void 0:e.value,n){case"comercio":this.optionsForSubRol=["Administrador","Vendedor"],this.newForm.contains("vehiculo")&&this.newForm.removeControl("vehiculo"),this.newForm.contains("placas")&&this.newForm.removeControl("placas"),this.newForm.contains("delivery")&&this.newForm.removeControl("delivery"),this.newForm.addControl("comercio",new tn("",fe.required)),this.store.collection("comercios").get().subscribe(t=>this.comercioList=t.docs,t=>this.snackBar.open("Error al recuperar los comercios.","ENTENDIDO",{duration:3e3}));break;case"delivery":this.optionsForSubRol=["Administrador","Motorizado"],this.newForm.contains("comercio")&&this.newForm.removeControl("comercio"),this.newForm.addControl("vehiculo",new tn("",fe.required)),this.newForm.addControl("placas",new tn("",fe.required)),this.newForm.addControl("delivery",new tn("",fe.required)),this.store.collection("delivery").get().subscribe(t=>this.deliveryList=t.docs,t=>this.snackBar.open("Error al recuperar los delivery.","ENTENDIDO",{duration:3e3}));break;case"pilas":this.optionsForSubRol=["Directivo","Vendedor"],this.newForm.contains("vehiculo")&&this.newForm.removeControl("vehiculo"),this.newForm.contains("placas")&&this.newForm.removeControl("placas"),this.newForm.contains("delivery")&&this.newForm.removeControl("delivery"),this.newForm.contains("comercio")&&this.newForm.removeControl("comercio")}}getErrorStatusOnNew(t){var e,n,r,i;let s="";return!(null===(e=this.newForm.get(t))||void 0===e?void 0:e.pristine)&&(null===(n=this.newForm.get(t))||void 0===n?void 0:n.invalid)&&(null===(i=null===(r=this.newForm.get(t))||void 0===r?void 0:r.errors)||void 0===i?void 0:i.required)&&(s="Este campo es obligatorio!"),s}getErrorStatusOnEdit(t){var e,n,r,i;let s="";return!(null===(e=this.editForm.get(t))||void 0===e?void 0:e.pristine)&&(null===(n=this.editForm.get(t))||void 0===n?void 0:n.invalid)&&(null===(i=null===(r=this.editForm.get(t))||void 0===r?void 0:r.errors)||void 0===i?void 0:i.required)&&(s="Este campo es obligatorio!"),s}createUser(){var t,e,n,r;console.log(this.newForm),this.newForm.valid?(null===(t=this.newForm.get("pass"))||void 0===t?void 0:t.value)==(null===(e=this.newForm.get("repass"))||void 0===e?void 0:e.value)?this.auth.createUserWithEmailAndPassword(null===(n=this.newForm.get("email"))||void 0===n?void 0:n.value,null===(r=this.newForm.get("pass"))||void 0===r?void 0:r.value).then(t=>{var e;let n=this.newForm.value;n.uid=null===(e=t.user)||void 0===e?void 0:e.uid,this.store.collection("usuarios").add(n).then(t=>{this.leaveNewMode(),this.snackBar.open("Usuario registrado exitosamente!","ENTENDIDO",{duration:3e3})}).catch(t=>this.snackBar.open("Ocurrio un error al guardar en la BD.","ENTENDIDO",{duration:3e3}))}).catch(t=>{switch(console.log(t.code),t.code){case"auth/invalid-email":this.snackBar.open("Por favor ingrese un correo v\xe1lido.","ENTENDIDO",{duration:3e3});break;case"auth/email-already-in-use":this.snackBar.open("Ya existe un usuario con esa direcci\xf3n de correo.","ENTENDIDO",{duration:3e3});break;case"auth/weak-password":this.snackBar.open("Por favor ingrese una contrase\xf1a m\xe1s larga.","ENTENDIDO",{duration:3e3});break;default:this.snackBar.open("Ha ocurrido un error. Por favor reintente.","ENTENDIDO",{duration:3e3})}}):this.snackBar.open("Las contrase\xf1as no coinciden.","ENTENDIDO",{duration:3e3}):this.snackBar.open("El formulario no est\xe1 completo.","ENTENDIDO",{duration:3e3})}updateUser(){console.log(this.editForm),this.editForm.valid?this.store.collection("usuarios").doc(this.usuarioPath).set(this.editForm.value,{merge:!0}).then(t=>{this.leaveEditMode(),this.snackBar.open("Usuario actualizado exitosamente!","ENTENDIDO",{duration:3e3})}).catch(t=>this.snackBar.open("Ocurrio un error al guardar en la BD.","ENTENDIDO",{duration:3e3})):this.snackBar.open("El formulario no est\xe1 completo.","ENTENDIDO",{duration:3e3})}cancel(){confirm("A\xfan no se ha guardado el usuario.\n\n\xbfEst\xe1 seguro que desea salir?")&&(this.newForm=new en({}),this.editForm=new en({}),this.newMode=!1,this.editMode=!1)}addToUserView(t){let e=t.data();this.newMode||this.editMode||(this.usuario?this.usuario.uid!=e.uid?(this.usuario=e,this.usuarioPath=t.id,"comercio"==this.usuario.rol&&this.getUserComercio(),"delivery"==this.usuario.rol&&this.getUserDelivery()):(this.usuario=null,this.userComercio=null,this.userDelivery=null):(this.usuario=e,this.usuarioPath=t.id,"comercio"==this.usuario.rol&&this.getUserComercio(),"delivery"==this.usuario.rol&&this.getUserDelivery()))}ngOnInit(){}getUserComercio(){this.store.collection("comercios").doc(this.usuario.comercio).get().subscribe(t=>{this.userComercio=t.data(),console.log(t.metadata)},t=>this.snackBar.open("Ha ocurrido un error al recuperar la informaci\xf3n del usuario.","ENTENDIDO",{duration:3e3}))}getUserDelivery(){this.store.collection("delivery").doc(this.usuario.delivery).get().subscribe(t=>{this.userDelivery=t.data(),console.log(t.metadata)},t=>this.snackBar.open("Ha ocurrido un error al recuperar la informaci\xf3n del usuario.","ENTENDIDO",{duration:3e3}))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(my),r.Mb(mD),r.Mb(Jb))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-list-users"]],decls:20,vars:5,consts:[[1,"search-box"],[1,"input-group"],["id","basic-addon1",1,"input-group-text"],[1,"fas","fa-search"],["type","text","placeholder","Buscar Usuario...","aria-label","Username","aria-describedby","basic-addon1",1,"form-control"],[1,"fill-remaining-space"],["mat-raised-button","",3,"click",4,"ngIf"],[1,"full-height-toolbar"],[1,"row","full-height"],[1,"col-md-6","full-height"],[1,"full-height-scroll"],["class","list-item",3,"ngClass","click",4,"ngFor","ngForOf"],["class","full-height",4,"ngIf"],["mat-raised-button","",3,"click"],[1,"fas","fa-plus"],[1,"list-item",3,"ngClass","click"],[1,"full-height"],[1,"full-height-scroll","bg-white"],[1,"flex"],["mat-flat-button","",3,"click",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"flex","flex-center-all"],[1,"profile-box"],[1,"full-height",3,"src"],[1,"row","mt-3"],[3,"ngClass"],[1,"info-label"],[1,"info-desc"],["class","col-md-6",4,"ngIf"],[1,"col-md-6"],[1,"info-desc",3,"href"],["class","col-md-6",3,"ngClass",4,"ngIf"],["class","col-md-12 mt-2",4,"ngIf"],["mat-flat-button","",3,"click"],[1,"fas","fa-pencil-alt"],[1,"text-center"],[1,"col-md-6",3,"ngClass"],[1,"col-md-12","mt-2"],["class","categoria-item",4,"ngFor","ngForOf"],[1,"categoria-item"],[3,"formGroup"],[1,"form-floating"],["type","text","formControlName","nombres","required","",1,"form-control"],["class","error-form",4,"ngIf"],["type","text","formControlName","apellidos","required","",1,"form-control"],["type","text","formControlName","celular","required","",1,"form-control"],["type","text","formControlName","username","required","",1,"form-control"],[1,"col-md-12"],["type","email","formControlName","email","required","",1,"form-control"],["type","password","formControlName","pass","required","",1,"form-control"],["type","password","formControlName","repass","required","",1,"form-control"],["id","type","formControlName","rol","required","",1,"form-select",3,"change"],["value",""],["value","pilas"],["value","delivery"],["value","comercio"],["for","type"],["id","floatingSelect","formControlName","subrol","required","",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["for","floatingSelect"],["class","row mt-3",4,"ngIf"],[1,"mt-4","pt-4"],["text","REGISTRAR USUARIO",3,"onClick"],[1,"error-form"],[3,"value"],["id","floatingSelect","formControlName","vehiculo","required","",1,"form-select"],["value","Automovil"],["value","Motocicleta"],["type","text","formControlName","placas","required","",1,"form-control"],["id","floatingSelect","formControlName","delivery","required","",1,"form-select"],["id","floatingSelect","formControlName","comercio","required","",1,"form-select"],[1,"fas","fa-arrow-left"],["text","ACTUALIZAR USUARIO",3,"onClick"]],template:function(t,e){1&t&&(r.Rb(0,"mat-toolbar"),r.Rb(1,"div",0),r.Rb(2,"div",1),r.Rb(3,"span",2),r.Nb(4,"i",3),r.Qb(),r.Nb(5,"input",4),r.Qb(),r.Qb(),r.Nb(6,"span",5),r.tc(7,uk,3,0,"button",6),r.Qb(),r.Rb(8,"div",7),r.Rb(9,"div",8),r.Rb(10,"div",9),r.Rb(11,"div",10),r.Rb(12,"h2"),r.uc(13,"Lista de Usuarios"),r.Qb(),r.Rb(14,"mat-list"),r.tc(15,lk,6,11,"a",11),r.Qb(),r.Qb(),r.Qb(),r.Rb(16,"div",9),r.tc(17,xk,36,21,"mat-card",12),r.tc(18,Gk,84,14,"mat-card",12),r.tc(19,hT,47,10,"mat-card",12),r.Qb(),r.Qb(),r.Qb()),2&t&&(r.Cb(7),r.gc("ngIf",!e.newMode),r.Cb(8),r.gc("ngForOf",e.usuarios),r.Cb(2),r.gc("ngIf",null!=e.usuario&&!e.editMode),r.Cb(1),r.gc("ngIf",e.newMode),r.Cb(1),r.gc("ngIf",e.editMode))},directives:[wD,ct,mA,at,QO,st,CA,je,hn,ae,Ne,fn,En,gn,bn,wn,tk],pipes:[pt],styles:[".list-item[_ngcontent-%COMP%]{display:block;padding:10px 20px;border-bottom:1px solid #ccc}.list-item[_ngcontent-%COMP%]:hover{color:#c10b21;cursor:pointer}.list-item-active.list-item[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.list-item-active[_ngcontent-%COMP%]{background:#c10b21;color:#fff}.profile-box[_ngcontent-%COMP%]{width:100px;height:100px;background:#c10b21}.profile-box[_ngcontent-%COMP%], .profile-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50px}.categoria-item[_ngcontent-%COMP%]{list-style:none;padding:5px 10px}"]}),t})(),fT=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-metricas"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Rb(0,"p"),r.uc(1,"metricas works!"),r.Qb())},styles:[""]}),t})();const pT=function(t){return[t]};function mT(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",11),r.Rb(1,"mat-card"),r.Rb(2,"div",12),r.Nb(3,"img",13),r.Qb(),r.Rb(4,"h2",14),r.Rb(5,"a",15),r.uc(6),r.Qb(),r.Qb(),r.Rb(7,"div",16),r.Rb(8,"mat-slide-toggle",17),r.Yb("toggleChange",function(){r.nc(t);const n=e.$implicit;return r.ac().updateStatus(n.payload.doc.id,n.payload.doc.data().activo)}),r.uc(9),r.Qb(),r.Nb(10,"div",5),r.Rb(11,"span"),r.Nb(12,"i",18),r.uc(13),r.Qb(),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=e.$implicit;r.Cb(3),r.gc("src",t.payload.doc.data().logo,r.oc),r.Cb(2),r.gc("routerLink",r.jc(6,pT,t.payload.doc.id)),r.Cb(1),r.vc(t.payload.doc.data().nombre),r.Cb(2),r.gc("checked",t.payload.doc.data().activo),r.Cb(1),r.vc(t.payload.doc.data().activo?"Disponible":"No Disponible"),r.Cb(4),r.wc(" ",t.payload.doc.data().ciudad,"")}}const gT=function(){return["upload"]};let bT=(()=>{class t{constructor(t,e){this.store=t,this.snackBar=e,this.deliverys=[],this.store.collection("delivery").snapshotChanges().subscribe(t=>{this.deliverys=t,console.log(t)},t=>this.snackBar.open("Ha ocurrido un error al recuperar los comercios.","ENTENDIDO",{duration:3e3}))}ngOnInit(){}updateStatus(t,e){this.store.collection("delivery").doc(t).update({activo:!e}).then(t=>this.snackBar.open("Comercio Actualizado","ENTENDIDO",{duration:3e3})).catch(t=>this.snackBar.open("Ha ocurrido un error","ENTENDIDO",{duration:3e3}))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(my),r.Mb(mD))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-list-delivery"]],decls:13,vars:3,consts:[[1,"search-box"],[1,"input-group"],["id","basic-addon1",1,"input-group-text"],[1,"fas","fa-search"],["type","text","placeholder","Buscar delivery...","aria-label","Username","aria-describedby","basic-addon1",1,"form-control"],[1,"fill-remaining-space"],["mat-raised-button","",3,"routerLink"],[1,"fas","fa-plus"],[1,"full-height-scroll-toolbar"],[1,"row"],["class","comercio-card col-lg-3 col-md-4 col-sm-6 mb-3",4,"ngFor","ngForOf"],[1,"comercio-card","col-lg-3","col-md-4","col-sm-6","mb-3"],[1,"img-box"],["alt","",3,"src"],[1,"bold","text-center"],[3,"routerLink"],[1,"flex"],[3,"checked","toggleChange"],[1,"fas","fa-map-marker-alt"]],template:function(t,e){1&t&&(r.Rb(0,"mat-toolbar"),r.Rb(1,"div",0),r.Rb(2,"div",1),r.Rb(3,"span",2),r.Nb(4,"i",3),r.Qb(),r.Nb(5,"input",4),r.Qb(),r.Qb(),r.Nb(6,"span",5),r.Rb(7,"a",6),r.Nb(8,"i",7),r.uc(9," NUEVO DELIVERY"),r.Qb(),r.Qb(),r.Rb(10,"div",8),r.Rb(11,"div",9),r.tc(12,mT,14,8,"div",10),r.Qb(),r.Qb()),2&t&&(r.Cb(7),r.gc("routerLink",r.ic(2,gT)),r.Cb(5),r.gc("ngForOf",e.deliverys))},directives:[wD,HO,fw,at,CA,ZA],styles:["mat-toolbar[_ngcontent-%COMP%]{height:70px;background:#fff}mat-toolbar[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{width:500px}mat-toolbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background:#c10b21;color:#fff}.comercio-card[_ngcontent-%COMP%]   .img-box[_ngcontent-%COMP%]{height:150px;display:flex;align-items:center;justify-content:center}.comercio-card[_ngcontent-%COMP%]   .img-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:100%;max-width:100%}"]}),t})(),yT=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Rb(0,"p"),r.uc(1,"dashboard works!"),r.Qb())},styles:[""]}),t})();const vT=function(t){return[t]};function _T(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",11),r.Rb(1,"mat-card"),r.Rb(2,"div",12),r.Nb(3,"img",13),r.Qb(),r.Rb(4,"h2",14),r.Rb(5,"a",15),r.uc(6),r.Qb(),r.Qb(),r.Rb(7,"div",16),r.Rb(8,"mat-slide-toggle",17),r.Yb("toggleChange",function(){r.nc(t);const n=e.$implicit;return r.ac().updateStatus(n.payload.doc.id,n.payload.doc.data().disponible)}),r.uc(9),r.Qb(),r.Nb(10,"div",5),r.Rb(11,"span"),r.Nb(12,"i",18),r.uc(13),r.Qb(),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=e.$implicit;r.Cb(3),r.gc("src",t.payload.doc.data().branding.logo,r.oc),r.Cb(2),r.gc("routerLink",r.jc(6,vT,t.payload.doc.id)),r.Cb(1),r.vc(t.payload.doc.data().nombreComercial),r.Cb(2),r.gc("checked",t.payload.doc.data().disponible),r.Cb(1),r.vc(t.payload.doc.data().disponible?"Disponible":"No Disponible"),r.Cb(4),r.wc(" ",t.payload.doc.data().ciudad,"")}}const wT=function(){return["upload"]};let CT=(()=>{class t{constructor(t,e){this.store=t,this.snackBar=e,this.stores=[],this.store.collection("comercios").snapshotChanges().subscribe(t=>{this.stores=t,console.log(t)},t=>this.snackBar.open("Ha ocurrido un error al recuperar los comercios.","ENTENDIDO",{duration:3e3}))}ngOnInit(){}updateStatus(t,e){this.store.collection("comercios").doc(t).update({disponible:!e}).then(t=>this.snackBar.open("Comercio Actualizado","ENTENDIDO",{duration:3e3})).catch(t=>this.snackBar.open("Ha ocurrido un error","ENTENDIDO",{duration:3e3}))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(my),r.Mb(mD))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-list-stores"]],decls:13,vars:3,consts:[[1,"search-box"],[1,"input-group"],["id","basic-addon1",1,"input-group-text"],[1,"fas","fa-search"],["type","text","placeholder","Buscar comercio...","aria-label","Username","aria-describedby","basic-addon1",1,"form-control"],[1,"fill-remaining-space"],["mat-raised-button","",3,"routerLink"],[1,"fas","fa-plus"],[1,"full-height-scroll-toolbar"],[1,"row"],["class","comercio-card col-lg-3 col-md-4 col-sm-6 mb-3",4,"ngFor","ngForOf"],[1,"comercio-card","col-lg-3","col-md-4","col-sm-6","mb-3"],[1,"img-box"],["alt","",3,"src"],[1,"bold","text-center"],[3,"routerLink"],[1,"flex"],[3,"checked","toggleChange"],[1,"fas","fa-map-marker-alt"]],template:function(t,e){1&t&&(r.Rb(0,"mat-toolbar"),r.Rb(1,"div",0),r.Rb(2,"div",1),r.Rb(3,"span",2),r.Nb(4,"i",3),r.Qb(),r.Nb(5,"input",4),r.Qb(),r.Qb(),r.Nb(6,"span",5),r.Rb(7,"a",6),r.Nb(8,"i",7),r.uc(9," NUEVO COMERCIO"),r.Qb(),r.Qb(),r.Rb(10,"div",8),r.Rb(11,"div",9),r.tc(12,_T,14,8,"div",10),r.Qb(),r.Qb()),2&t&&(r.Cb(7),r.gc("routerLink",r.ic(2,wT)),r.Cb(5),r.gc("ngForOf",e.stores))},directives:[wD,HO,fw,at,CA,ZA],styles:["mat-toolbar[_ngcontent-%COMP%]{height:70px;background:#fff}mat-toolbar[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{width:500px}mat-toolbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background:#c10b21;color:#fff}.comercio-card[_ngcontent-%COMP%]   .img-box[_ngcontent-%COMP%]{height:150px;display:flex;align-items:center;justify-content:center}.comercio-card[_ngcontent-%COMP%]   .img-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:100%;max-width:100%}"]}),t})();const ET=["*"];class ST{constructor(t){this._ngZone=t,this._pending=[],this._listeners=[],this._targetStream=new by(void 0)}_clearListeners(){for(const t of this._listeners)t.remove();this._listeners=[]}getLazyEmitter(t){return this._targetStream.pipe(_b(e=>{const n=new Xt.a(r=>{if(!e)return void this._pending.push({observable:n,observer:r});const i=e.addListener(t,t=>{this._ngZone.run(()=>r.next(t))});return this._listeners.push(i),()=>i.remove()});return n}))}setTarget(t){const e=this._targetStream.value;t!==e&&(e&&(this._clearListeners(),this._pending=[]),this._targetStream.next(t),this._pending.forEach(t=>t.observable.subscribe(t.observer)),this._pending=[])}destroy(){this._clearListeners(),this._pending=[],this._targetStream.complete()}}const OT={center:{lat:37.421995,lng:-122.084092},zoom:17},xT="500px",DT="500px";let AT=(()=>{class t{constructor(t,e,n){this._elementRef=t,this._ngZone=e,this._eventManager=new ST(this._ngZone),this.height=xT,this.width=DT,this._options=OT,this.boundsChanged=this._eventManager.getLazyEmitter("bounds_changed"),this.centerChanged=this._eventManager.getLazyEmitter("center_changed"),this.mapClick=this._eventManager.getLazyEmitter("click"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.headingChanged=this._eventManager.getLazyEmitter("heading_changed"),this.idle=this._eventManager.getLazyEmitter("idle"),this.maptypeidChanged=this._eventManager.getLazyEmitter("maptypeid_changed"),this.mapMousemove=this._eventManager.getLazyEmitter("mousemove"),this.mapMouseout=this._eventManager.getLazyEmitter("mouseout"),this.mapMouseover=this._eventManager.getLazyEmitter("mouseover"),this.projectionChanged=this._eventManager.getLazyEmitter("projection_changed"),this.mapRightclick=this._eventManager.getLazyEmitter("rightclick"),this.tilesloaded=this._eventManager.getLazyEmitter("tilesloaded"),this.tiltChanged=this._eventManager.getLazyEmitter("tilt_changed"),this.zoomChanged=this._eventManager.getLazyEmitter("zoom_changed"),this._isBrowser=bt(n),this._isBrowser&&window}set center(t){this._center=t}set zoom(t){this._zoom=t}set options(t){this._options=t||OT}ngOnChanges(t){(t.height||t.width)&&this._setSize();const e=this.googleMap;e&&(t.options&&e.setOptions(this._combineOptions()),t.center&&this._center&&e.setCenter(this._center),t.zoom&&null!=this._zoom&&e.setZoom(this._zoom),t.mapTypeId&&this.mapTypeId&&e.setMapTypeId(this.mapTypeId))}ngOnInit(){this._isBrowser&&(this._mapEl=this._elementRef.nativeElement.querySelector(".map-container"),this._setSize(),this._ngZone.runOutsideAngular(()=>{this.googleMap=new google.maps.Map(this._mapEl,this._combineOptions())}),this._eventManager.setTarget(this.googleMap))}ngOnDestroy(){this._eventManager.destroy()}fitBounds(t,e){this._assertInitialized(),this.googleMap.fitBounds(t,e)}panBy(t,e){this._assertInitialized(),this.googleMap.panBy(t,e)}panTo(t){this._assertInitialized(),this.googleMap.panTo(t)}panToBounds(t,e){this._assertInitialized(),this.googleMap.panToBounds(t,e)}getBounds(){return this._assertInitialized(),this.googleMap.getBounds()||null}getCenter(){return this._assertInitialized(),this.googleMap.getCenter()}getClickableIcons(){return this._assertInitialized(),this.googleMap.getClickableIcons()}getHeading(){return this._assertInitialized(),this.googleMap.getHeading()}getMapTypeId(){return this._assertInitialized(),this.googleMap.getMapTypeId()}getProjection(){return this._assertInitialized(),this.googleMap.getProjection()}getStreetView(){return this._assertInitialized(),this.googleMap.getStreetView()}getTilt(){return this._assertInitialized(),this.googleMap.getTilt()}getZoom(){return this._assertInitialized(),this.googleMap.getZoom()}get controls(){return this._assertInitialized(),this.googleMap.controls}get data(){return this._assertInitialized(),this.googleMap.data}get mapTypes(){return this._assertInitialized(),this.googleMap.mapTypes}get overlayMapTypes(){return this._assertInitialized(),this.googleMap.overlayMapTypes}_setSize(){if(this._mapEl){const t=this._mapEl.style;t.height=null===this.height?"":TT(this.height)||xT,t.width=null===this.width?"":TT(this.width)||DT}}_combineOptions(){var t,e;const n=this._options||{};return Object.assign(Object.assign({},n),{center:this._center||n.center||OT.center,zoom:null!==(e=null!==(t=this._zoom)&&void 0!==t?t:n.zoom)&&void 0!==e?e:OT.zoom,mapTypeId:this.mapTypeId||n.mapTypeId})}_assertInitialized(){}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.A),r.Mb(r.C))},t.\u0275cmp=r.Gb({type:t,selectors:[["google-map"]],inputs:{height:"height",width:"width",center:"center",zoom:"zoom",options:"options",mapTypeId:"mapTypeId"},outputs:{boundsChanged:"boundsChanged",centerChanged:"centerChanged",mapClick:"mapClick",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",mapDragstart:"mapDragstart",headingChanged:"headingChanged",idle:"idle",maptypeidChanged:"maptypeidChanged",mapMousemove:"mapMousemove",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",projectionChanged:"projectionChanged",mapRightclick:"mapRightclick",tilesloaded:"tilesloaded",tiltChanged:"tiltChanged",zoomChanged:"zoomChanged"},exportAs:["googleMap"],features:[r.Ab],ngContentSelectors:ET,decls:2,vars:0,consts:[[1,"map-container"]],template:function(t,e){1&t&&(r.fc(),r.Nb(0,"div",0),r.ec(1))},encapsulation:2,changeDetection:0}),t})();const kT=/([A-Za-z%]+)$/;function TT(t){return null==t?"":kT.test(t)?t:`${t}px`}const IT={position:{lat:37.421995,lng:-122.084092}};let RT=(()=>{class t{constructor(t,e){this._googleMap=t,this._ngZone=e,this._eventManager=new ST(this._ngZone),this.animationChanged=this._eventManager.getLazyEmitter("animation_changed"),this.mapClick=this._eventManager.getLazyEmitter("click"),this.clickableChanged=this._eventManager.getLazyEmitter("clickable_changed"),this.cursorChanged=this._eventManager.getLazyEmitter("cursor_changed"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.draggableChanged=this._eventManager.getLazyEmitter("draggable_changed"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.flatChanged=this._eventManager.getLazyEmitter("flat_changed"),this.iconChanged=this._eventManager.getLazyEmitter("icon_changed"),this.mapMousedown=this._eventManager.getLazyEmitter("mousedown"),this.mapMouseout=this._eventManager.getLazyEmitter("mouseout"),this.mapMouseover=this._eventManager.getLazyEmitter("mouseover"),this.mapMouseup=this._eventManager.getLazyEmitter("mouseup"),this.positionChanged=this._eventManager.getLazyEmitter("position_changed"),this.mapRightclick=this._eventManager.getLazyEmitter("rightclick"),this.shapeChanged=this._eventManager.getLazyEmitter("shape_changed"),this.titleChanged=this._eventManager.getLazyEmitter("title_changed"),this.visibleChanged=this._eventManager.getLazyEmitter("visible_changed"),this.zindexChanged=this._eventManager.getLazyEmitter("zindex_changed")}set title(t){this._title=t}set position(t){this._position=t}set label(t){this._label=t}set clickable(t){this._clickable=t}set options(t){this._options=t}ngOnInit(){this._googleMap._isBrowser&&(this._ngZone.runOutsideAngular(()=>{this.marker=new google.maps.Marker(this._combineOptions())}),this._assertInitialized(),this.marker.setMap(this._googleMap.googleMap),this._eventManager.setTarget(this.marker))}ngOnChanges(t){const{marker:e,_title:n,_position:r,_label:i,_clickable:s}=this;e&&(t.options&&e.setOptions(this._combineOptions()),t.title&&void 0!==n&&e.setTitle(n),t.position&&r&&e.setPosition(r),t.label&&void 0!==i&&e.setLabel(i),t.clickable&&void 0!==s&&e.setClickable(s))}ngOnDestroy(){this._eventManager.destroy(),this.marker&&this.marker.setMap(null)}getAnimation(){return this._assertInitialized(),this.marker.getAnimation()||null}getClickable(){return this._assertInitialized(),this.marker.getClickable()}getCursor(){return this._assertInitialized(),this.marker.getCursor()||null}getDraggable(){return this._assertInitialized(),!!this.marker.getDraggable()}getIcon(){return this._assertInitialized(),this.marker.getIcon()||null}getLabel(){return this._assertInitialized(),this.marker.getLabel()||null}getOpacity(){return this._assertInitialized(),this.marker.getOpacity()||null}getPosition(){return this._assertInitialized(),this.marker.getPosition()||null}getShape(){return this._assertInitialized(),this.marker.getShape()||null}getTitle(){return this._assertInitialized(),this.marker.getTitle()||null}getVisible(){return this._assertInitialized(),this.marker.getVisible()}getZIndex(){return this._assertInitialized(),this.marker.getZIndex()||null}getAnchor(){return this._assertInitialized(),this.marker}_combineOptions(){const t=this._options||IT;return Object.assign(Object.assign({},t),{title:this._title||t.title,position:this._position||t.position,label:this._label||t.label,clickable:void 0!==this._clickable?this._clickable:t.clickable,map:this._googleMap.googleMap})}_assertInitialized(){}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(AT),r.Mb(r.A))},t.\u0275dir=r.Hb({type:t,selectors:[["map-marker"]],inputs:{title:"title",position:"position",label:"label",clickable:"clickable",options:"options"},outputs:{animationChanged:"animationChanged",mapClick:"mapClick",clickableChanged:"clickableChanged",cursorChanged:"cursorChanged",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",draggableChanged:"draggableChanged",mapDragstart:"mapDragstart",flatChanged:"flatChanged",iconChanged:"iconChanged",mapMousedown:"mapMousedown",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",mapMouseup:"mapMouseup",positionChanged:"positionChanged",mapRightclick:"mapRightclick",shapeChanged:"shapeChanged",titleChanged:"titleChanged",visibleChanged:"visibleChanged",zindexChanged:"zindexChanged"},exportAs:["mapMarker"],features:[r.Ab]}),t})(),NT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({}),t})();function jT(t,e){if(1&t&&(r.Rb(0,"mat-chip"),r.uc(1),r.Qb()),2&t){const t=e.$implicit;r.Cb(1),r.vc(t)}}function FT(t,e){if(1&t&&(r.Rb(0,"div",26),r.Rb(1,"mat-card",27),r.Nb(2,"img",28),r.Rb(3,"mat-card-title"),r.uc(4),r.Qb(),r.Rb(5,"mat-card-content"),r.Rb(6,"mat-list",29),r.Rb(7,"li"),r.Nb(8,"i",30),r.uc(9),r.Qb(),r.Rb(10,"li"),r.Nb(11,"i",31),r.uc(12),r.Qb(),r.Rb(13,"li"),r.Nb(14,"i",32),r.uc(15),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&t){const t=e.$implicit;r.Cb(2),r.gc("src",t.imagen,r.oc),r.Cb(2),r.wc(" ",t.nombre," "),r.Cb(5),r.wc(" ",t.tiempoPreparacion,"min"),r.Cb(3),r.wc(" ",t.precio,""),r.Cb(3),r.wc(" ",t.promocion,"")}}const MT=function(){return{draggable:!1}},PT=[{path:"login",component:ek,canActivate:[Pw],data:{authGuardPipe:()=>{return t=[""],Object(Fw.a)(Mw,Object(te.a)(e=>e&&t||!0));var t}}},{path:"",component:sk,canActivate:[Pw],data:{authGuardPipe:()=>{return t=["login"],Object(Fw.a)(Mw,Object(te.a)(e=>e||t));var t}},children:[{path:"dashboard",component:yT},{path:"stores",children:[{path:"",component:CT},{path:"upload",component:ok},{path:":id",component:(()=>{class t{constructor(t,e,n,r){this.activeRoute=t,this.store=e,this.snackBar=n,this.location=r,this.ubication={lat:0,lng:0},this.categoriaName="",this.activeRoute.params.subscribe(t=>this.store.collection("comercios").doc(t.id).snapshotChanges().subscribe(t=>{this.comercio=t.payload.data(),this.comercio.id=t.payload.id;let e=this.comercio.contacto.coordenadas.split(", ");this.ubication={lat:parseFloat(e[0]),lng:parseFloat(e[1])},this.store.collection("categorias").doc(this.comercio.categoria).get().subscribe(t=>this.categoriaName=t.data().nombre),console.log(this.ubication)},t=>this.snackBar.open("Ha ocurrido un error al recuperar la informaci\xf3n del comercio","ENTENDIDO",{duration:3e3})))}ngOnInit(){}setMapOptions(){this.mapOptions={}}back(){this.location.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Gv),r.Mb(my),r.Mb(mD),r.Mb(w))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-detail-store"]],decls:75,vars:19,consts:[[1,"full-height-scroll"],[1,"flex","flex-align-vertical","mb-4"],["mat-icon-button","",3,"click"],[1,"fas","fa-arrow-left"],[1,"store-brand-box"],[3,"src"],[1,"row","pt-4"],[1,"col-md-6"],[1,"row"],[1,"form-floating","mb-3"],["type","text","disabled","",1,"form-control",3,"value"],[1,"mt-3"],["aria-label","Fish selection"],[4,"ngFor","ngForOf"],[1,"col-md-6","pb-4"],["width","100%","height","350px",3,"zoom","center"],[3,"position","options"],["id","contacto-info",1,"mt-3"],[1,"fas","fa-phone"],[1,"fas","fa-envelope"],[3,"href"],[1,"fas","fa-map-marker-alt"],[1,"col-md-12","mb-4"],[1,"mt-4"],[1,"col-md-12"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"mat-card-producto"],["mat-card-image","",3,"src"],["id","producto-info"],[1,"fas","fa-clock"],[1,"fas","fa-dollar-sign"],[1,"fas","fa-percentaje"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"mat-card"),r.Rb(2,"div",1),r.Rb(3,"button",2),r.Yb("click",function(){return e.back()}),r.Nb(4,"i",3),r.Qb(),r.Rb(5,"div",4),r.Nb(6,"img",5),r.Qb(),r.Qb(),r.Nb(7,"mat-divider"),r.Rb(8,"div",6),r.Rb(9,"div",7),r.Rb(10,"h2"),r.uc(11,"Datos Informativos"),r.Qb(),r.Rb(12,"div",8),r.Rb(13,"div",7),r.Rb(14,"div",9),r.Nb(15,"input",10),r.Rb(16,"label"),r.uc(17,"NOMBRE DE LA EMPRESA"),r.Qb(),r.Qb(),r.Qb(),r.Rb(18,"div",7),r.Rb(19,"div",9),r.Nb(20,"input",10),r.Rb(21,"label"),r.uc(22,"RUC"),r.Qb(),r.Qb(),r.Qb(),r.Rb(23,"div",7),r.Rb(24,"div",9),r.Nb(25,"input",10),r.Rb(26,"label"),r.uc(27,"NOMBRE DEL CLIENTE"),r.Qb(),r.Qb(),r.Qb(),r.Rb(28,"div",7),r.Rb(29,"div",9),r.Nb(30,"input",10),r.Rb(31,"label"),r.uc(32,"C\xd3DIGO DEL CLIENTE"),r.Qb(),r.Qb(),r.Qb(),r.Rb(33,"div",7),r.Rb(34,"div",9),r.Nb(35,"input",10),r.Rb(36,"label"),r.uc(37,"A\xd1O INICIO DE ACTIVIDADES"),r.Qb(),r.Qb(),r.Qb(),r.Rb(38,"div",7),r.Rb(39,"div",9),r.Nb(40,"input",10),r.Rb(41,"label"),r.uc(42,"FECHA DE NACIMIENTO (CLIENTE)"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Nb(43,"mat-divider"),r.Rb(44,"h2",11),r.uc(45,"Palabras Claves"),r.Qb(),r.Rb(46,"mat-chip-list",12),r.tc(47,jT,2,1,"mat-chip",13),r.Qb(),r.Qb(),r.Rb(48,"div",14),r.Rb(49,"google-map",15),r.Nb(50,"map-marker",16),r.Qb(),r.Rb(51,"ul",17),r.Rb(52,"li"),r.Nb(53,"i",18),r.uc(54),r.Qb(),r.Rb(55,"li"),r.Nb(56,"i",19),r.Rb(57,"a",20),r.uc(58),r.Qb(),r.Qb(),r.Rb(59,"li"),r.Nb(60,"i",21),r.uc(61),r.Qb(),r.Qb(),r.Qb(),r.Rb(62,"div",22),r.Nb(63,"mat-divider"),r.Rb(64,"h2",23),r.uc(65,"Cat\xe1logo de Productos/Servicios"),r.Qb(),r.Rb(66,"div",8),r.Rb(67,"div",7),r.Rb(68,"div",9),r.Nb(69,"input",10),r.Rb(70,"label"),r.uc(71,"CATEGORIA"),r.Qb(),r.Qb(),r.Qb(),r.Rb(72,"div",24),r.Rb(73,"div",8),r.tc(74,FT,16,5,"div",25),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&t&&(r.Cb(6),r.gc("src",e.comercio?e.comercio.branding.logo:"",r.oc),r.Cb(9),r.gc("value",e.comercio?e.comercio.nombreComercial:null),r.Cb(5),r.gc("value",e.comercio?e.comercio.RUC:null),r.Cb(5),r.gc("value",e.comercio?e.comercio.nombreCliente:null),r.Cb(5),r.gc("value",e.comercio?e.comercio.codigoCliente:null),r.Cb(5),r.gc("value",e.comercio?e.comercio.nombreCliente:null),r.Cb(5),r.gc("value",e.comercio?e.comercio.codigoCliente:null),r.Cb(7),r.gc("ngForOf",null==e.comercio?null:e.comercio.keywords),r.Cb(2),r.gc("zoom",15)("center",e.ubication),r.Cb(1),r.gc("position",e.ubication)("options",r.ic(18,MT)),r.Cb(4),r.vc(null==e.comercio?null:e.comercio.contacto.celular),r.Cb(3),r.gc("href","mailto:"+(null==e.comercio?null:e.comercio.contacto.email),r.oc),r.Cb(1),r.vc(null==e.comercio?null:e.comercio.contacto.email),r.Cb(3),r.vc(null==e.comercio?null:e.comercio.contacto.direccion),r.Cb(8),r.gc("value",e.categoriaName),r.Cb(5),r.gc("ngForOf",null==e.comercio?null:e.comercio.catalogo))},directives:[CA,QO,cA,PA,at,AT,RT,IA,wA,_A,vA,mA],styles:[".store-brand-box[_ngcontent-%COMP%]{width:100%!important;display:block}.store-brand-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:auto;max-width:200px;max-height:150px}.mat-card-producto[_ngcontent-%COMP%]{border:1px solid #ccc}#contacto-info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], #producto-info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;display:block;margin-top:12px;font-size:16px;text-align:right}#contacto-info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], #producto-info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px;color:#c10b12}"]}),t})()}]},{path:"cities",component:ak},{path:"delivery",component:bT},{path:"metrics",component:fT},{path:"users",component:dT}]}];let LT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({imports:[[xw.forRoot(PT,{useHash:!0})],xw]}),t})(),VT=(()=>{class t{constructor(){this.title="admin-app"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&r.Nb(0,"router-outlet")},directives:[gw],styles:[""]}),t})();const BT={apiKey:"AIzaSyAXNCota1fujgQ_hly6k8LBk850XJSP50U",authDomain:"pilas-8f955.firebaseapp.com",projectId:"pilas-8f955",storageBucket:"pilas-8f955.appspot.com",messagingSenderId:"118888251008",appId:"1:118888251008:web:9f94ef5e62caa32acaf065",measurementId:"G-1HFSQ6WY35"};let UT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Kb({type:t,bootstrap:[VT]}),t.\u0275inj=r.Jb({providers:[],imports:[[On,Yt,LD,GO,uA,LT,CD,fD,EA,gA,VA,PD,NT,ty,JA,gy,gO,Bw,xn.a.initializeApp(BT)]]}),t})();Object(r.U)(),Wt().bootstrapModule(UT).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(s.a)(t)(e)}}},[[0,0]]]);